"use strict";var Nj=Object.defineProperty;var s=(r,t)=>Nj(r,"name",{value:t,configurable:!0});var m=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Th=m((Ni,Go)=>{(function(){var r,t="4.17.21",e=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,_="__lodash_placeholder__",l=1,v=2,O=4,T=1,j=2,U=1,G=2,ge=4,B=8,ue=16,ce=32,Ae=64,Be=128,zt=256,xt=512,wo=30,UP="...",kP=800,FP=16,Eb=1,BP=2,WP=3,Sn=1/0,Kr=9007199254740991,VP=17976931348623157e292,ma=NaN,cr=4294967295,HP=cr-1,zP=cr>>>1,YP=[["ary",Be],["bind",U],["bindKey",G],["curry",B],["curryRight",ue],["flip",xt],["partial",ce],["partialRight",Ae],["rearg",zt]],bi="[object Arguments]",ga="[object Array]",GP="[object AsyncFunction]",To="[object Boolean]",Co="[object Date]",$P="[object DOMException]",Oa="[object Error]",Sa="[object Function]",wb="[object GeneratorFunction]",Yt="[object Map]",Po="[object Number]",ZP="[object Null]",gr="[object Object]",Tb="[object Promise]",KP="[object Proxy]",Io="[object RegExp]",Gt="[object Set]",Ao="[object String]",Ea="[object Symbol]",QP="[object Undefined]",Ro="[object WeakMap]",XP="[object WeakSet]",xo="[object ArrayBuffer]",yi="[object DataView]",il="[object Float32Array]",ol="[object Float64Array]",ul="[object Int8Array]",sl="[object Int16Array]",al="[object Int32Array]",cl="[object Uint8Array]",fl="[object Uint8ClampedArray]",ll="[object Uint16Array]",hl="[object Uint32Array]",JP=/\b__p \+= '';/g,eI=/\b(__p \+=) '' \+/g,tI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cb=/&(?:amp|lt|gt|quot|#39);/g,Pb=/[&<>"']/g,rI=RegExp(Cb.source),nI=RegExp(Pb.source),iI=/<%-([\s\S]+?)%>/g,oI=/<%([\s\S]+?)%>/g,Ib=/<%=([\s\S]+?)%>/g,uI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sI=/^\w*$/,aI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pl=/[\\^$.*+?()[\]{}|]/g,cI=RegExp(pl.source),_l=/^\s+/,fI=/\s/,lI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hI=/\{\n\/\* \[wrapped with (.+)\] \*/,pI=/,? & /,_I=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dI=/[()=,{}\[\]\/\s]/,vI=/\\(\\)?/g,bI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ab=/\w*$/,yI=/^[-+]0x[0-9a-f]+$/i,mI=/^0b[01]+$/i,gI=/^\[object .+?Constructor\]$/,OI=/^0o[0-7]+$/i,SI=/^(?:0|[1-9]\d*)$/,EI=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wa=/($^)/,wI=/['\n\r\u2028\u2029\\]/g,Ta="\\ud800-\\udfff",TI="\\u0300-\\u036f",CI="\\ufe20-\\ufe2f",PI="\\u20d0-\\u20ff",Rb=TI+CI+PI,xb="\\u2700-\\u27bf",Nb="a-z\\xdf-\\xf6\\xf8-\\xff",II="\\xac\\xb1\\xd7\\xf7",AI="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",RI="\\u2000-\\u206f",xI=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qb="A-Z\\xc0-\\xd6\\xd8-\\xde",Db="\\ufe0e\\ufe0f",jb=II+AI+RI+xI,dl="['\u2019]",NI="["+Ta+"]",Mb="["+jb+"]",Ca="["+Rb+"]",Lb="\\d+",qI="["+xb+"]",Ub="["+Nb+"]",kb="[^"+Ta+jb+Lb+xb+Nb+qb+"]",vl="\\ud83c[\\udffb-\\udfff]",DI="(?:"+Ca+"|"+vl+")",Fb="[^"+Ta+"]",bl="(?:\\ud83c[\\udde6-\\uddff]){2}",yl="[\\ud800-\\udbff][\\udc00-\\udfff]",mi="["+qb+"]",Bb="\\u200d",Wb="(?:"+Ub+"|"+kb+")",jI="(?:"+mi+"|"+kb+")",Vb="(?:"+dl+"(?:d|ll|m|re|s|t|ve))?",Hb="(?:"+dl+"(?:D|LL|M|RE|S|T|VE))?",zb=DI+"?",Yb="["+Db+"]?",MI="(?:"+Bb+"(?:"+[Fb,bl,yl].join("|")+")"+Yb+zb+")*",LI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",UI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gb=Yb+zb+MI,kI="(?:"+[qI,bl,yl].join("|")+")"+Gb,FI="(?:"+[Fb+Ca+"?",Ca,bl,yl,NI].join("|")+")",BI=RegExp(dl,"g"),WI=RegExp(Ca,"g"),ml=RegExp(vl+"(?="+vl+")|"+FI+Gb,"g"),VI=RegExp([mi+"?"+Ub+"+"+Vb+"(?="+[Mb,mi,"$"].join("|")+")",jI+"+"+Hb+"(?="+[Mb,mi+Wb,"$"].join("|")+")",mi+"?"+Wb+"+"+Vb,mi+"+"+Hb,UI,LI,Lb,kI].join("|"),"g"),HI=RegExp("["+Bb+Ta+Rb+Db+"]"),zI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,YI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],GI=-1,me={};me[il]=me[ol]=me[ul]=me[sl]=me[al]=me[cl]=me[fl]=me[ll]=me[hl]=!0,me[bi]=me[ga]=me[xo]=me[To]=me[yi]=me[Co]=me[Oa]=me[Sa]=me[Yt]=me[Po]=me[gr]=me[Io]=me[Gt]=me[Ao]=me[Ro]=!1;var ye={};ye[bi]=ye[ga]=ye[xo]=ye[yi]=ye[To]=ye[Co]=ye[il]=ye[ol]=ye[ul]=ye[sl]=ye[al]=ye[Yt]=ye[Po]=ye[gr]=ye[Io]=ye[Gt]=ye[Ao]=ye[Ea]=ye[cl]=ye[fl]=ye[ll]=ye[hl]=!0,ye[Oa]=ye[Sa]=ye[Ro]=!1;var $I={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ZI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},KI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},QI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},XI=parseFloat,JI=parseInt,$b=typeof global=="object"&&global&&global.Object===Object&&global,eA=typeof self=="object"&&self&&self.Object===Object&&self,We=$b||eA||Function("return this")(),gl=typeof Ni=="object"&&Ni&&!Ni.nodeType&&Ni,En=gl&&typeof Go=="object"&&Go&&!Go.nodeType&&Go,Zb=En&&En.exports===gl,Ol=Zb&&$b.process,Nt=function(){try{var E=En&&En.require&&En.require("util").types;return E||Ol&&Ol.binding&&Ol.binding("util")}catch{}}(),Kb=Nt&&Nt.isArrayBuffer,Qb=Nt&&Nt.isDate,Xb=Nt&&Nt.isMap,Jb=Nt&&Nt.isRegExp,ey=Nt&&Nt.isSet,ty=Nt&&Nt.isTypedArray;function yt(E,P,C){switch(C.length){case 0:return E.call(P);case 1:return E.call(P,C[0]);case 2:return E.call(P,C[0],C[1]);case 3:return E.call(P,C[0],C[1],C[2])}return E.apply(P,C)}s(yt,"apply");function tA(E,P,C,L){for(var Z=-1,le=E==null?0:E.length;++Z<le;){var Le=E[Z];P(L,Le,C(Le),E)}return L}s(tA,"arrayAggregator");function qt(E,P){for(var C=-1,L=E==null?0:E.length;++C<L&&P(E[C],C,E)!==!1;);return E}s(qt,"arrayEach");function rA(E,P){for(var C=E==null?0:E.length;C--&&P(E[C],C,E)!==!1;);return E}s(rA,"arrayEachRight");function ry(E,P){for(var C=-1,L=E==null?0:E.length;++C<L;)if(!P(E[C],C,E))return!1;return!0}s(ry,"arrayEvery");function Qr(E,P){for(var C=-1,L=E==null?0:E.length,Z=0,le=[];++C<L;){var Le=E[C];P(Le,C,E)&&(le[Z++]=Le)}return le}s(Qr,"arrayFilter");function Pa(E,P){var C=E==null?0:E.length;return!!C&&gi(E,P,0)>-1}s(Pa,"arrayIncludes");function Sl(E,P,C){for(var L=-1,Z=E==null?0:E.length;++L<Z;)if(C(P,E[L]))return!0;return!1}s(Sl,"arrayIncludesWith");function Oe(E,P){for(var C=-1,L=E==null?0:E.length,Z=Array(L);++C<L;)Z[C]=P(E[C],C,E);return Z}s(Oe,"arrayMap");function Xr(E,P){for(var C=-1,L=P.length,Z=E.length;++C<L;)E[Z+C]=P[C];return E}s(Xr,"arrayPush");function El(E,P,C,L){var Z=-1,le=E==null?0:E.length;for(L&&le&&(C=E[++Z]);++Z<le;)C=P(C,E[Z],Z,E);return C}s(El,"arrayReduce");function nA(E,P,C,L){var Z=E==null?0:E.length;for(L&&Z&&(C=E[--Z]);Z--;)C=P(C,E[Z],Z,E);return C}s(nA,"arrayReduceRight");function wl(E,P){for(var C=-1,L=E==null?0:E.length;++C<L;)if(P(E[C],C,E))return!0;return!1}s(wl,"arraySome");var iA=Tl("length");function oA(E){return E.split("")}s(oA,"asciiToArray");function uA(E){return E.match(_I)||[]}s(uA,"asciiWords");function ny(E,P,C){var L;return C(E,function(Z,le,Le){if(P(Z,le,Le))return L=le,!1}),L}s(ny,"baseFindKey");function Ia(E,P,C,L){for(var Z=E.length,le=C+(L?1:-1);L?le--:++le<Z;)if(P(E[le],le,E))return le;return-1}s(Ia,"baseFindIndex");function gi(E,P,C){return P===P?yA(E,P,C):Ia(E,iy,C)}s(gi,"baseIndexOf");function sA(E,P,C,L){for(var Z=C-1,le=E.length;++Z<le;)if(L(E[Z],P))return Z;return-1}s(sA,"baseIndexOfWith");function iy(E){return E!==E}s(iy,"baseIsNaN");function oy(E,P){var C=E==null?0:E.length;return C?Pl(E,P)/C:ma}s(oy,"baseMean");function Tl(E){return function(P){return P==null?r:P[E]}}s(Tl,"baseProperty");function Cl(E){return function(P){return E==null?r:E[P]}}s(Cl,"basePropertyOf");function uy(E,P,C,L,Z){return Z(E,function(le,Le,ve){C=L?(L=!1,le):P(C,le,Le,ve)}),C}s(uy,"baseReduce");function aA(E,P){var C=E.length;for(E.sort(P);C--;)E[C]=E[C].value;return E}s(aA,"baseSortBy");function Pl(E,P){for(var C,L=-1,Z=E.length;++L<Z;){var le=P(E[L]);le!==r&&(C=C===r?le:C+le)}return C}s(Pl,"baseSum");function Il(E,P){for(var C=-1,L=Array(E);++C<E;)L[C]=P(C);return L}s(Il,"baseTimes");function cA(E,P){return Oe(P,function(C){return[C,E[C]]})}s(cA,"baseToPairs");function sy(E){return E&&E.slice(0,ly(E)+1).replace(_l,"")}s(sy,"baseTrim");function mt(E){return function(P){return E(P)}}s(mt,"baseUnary");function Al(E,P){return Oe(P,function(C){return E[C]})}s(Al,"baseValues");function No(E,P){return E.has(P)}s(No,"cacheHas");function ay(E,P){for(var C=-1,L=E.length;++C<L&&gi(P,E[C],0)>-1;);return C}s(ay,"charsStartIndex");function cy(E,P){for(var C=E.length;C--&&gi(P,E[C],0)>-1;);return C}s(cy,"charsEndIndex");function fA(E,P){for(var C=E.length,L=0;C--;)E[C]===P&&++L;return L}s(fA,"countHolders");var lA=Cl($I),hA=Cl(ZI);function pA(E){return"\\"+QI[E]}s(pA,"escapeStringChar");function _A(E,P){return E==null?r:E[P]}s(_A,"getValue");function Oi(E){return HI.test(E)}s(Oi,"hasUnicode");function dA(E){return zI.test(E)}s(dA,"hasUnicodeWord");function vA(E){for(var P,C=[];!(P=E.next()).done;)C.push(P.value);return C}s(vA,"iteratorToArray");function Rl(E){var P=-1,C=Array(E.size);return E.forEach(function(L,Z){C[++P]=[Z,L]}),C}s(Rl,"mapToArray");function fy(E,P){return function(C){return E(P(C))}}s(fy,"overArg");function Jr(E,P){for(var C=-1,L=E.length,Z=0,le=[];++C<L;){var Le=E[C];(Le===P||Le===_)&&(E[C]=_,le[Z++]=C)}return le}s(Jr,"replaceHolders");function Aa(E){var P=-1,C=Array(E.size);return E.forEach(function(L){C[++P]=L}),C}s(Aa,"setToArray");function bA(E){var P=-1,C=Array(E.size);return E.forEach(function(L){C[++P]=[L,L]}),C}s(bA,"setToPairs");function yA(E,P,C){for(var L=C-1,Z=E.length;++L<Z;)if(E[L]===P)return L;return-1}s(yA,"strictIndexOf");function mA(E,P,C){for(var L=C+1;L--;)if(E[L]===P)return L;return L}s(mA,"strictLastIndexOf");function Si(E){return Oi(E)?OA(E):iA(E)}s(Si,"stringSize");function $t(E){return Oi(E)?SA(E):oA(E)}s($t,"stringToArray");function ly(E){for(var P=E.length;P--&&fI.test(E.charAt(P)););return P}s(ly,"trimmedEndIndex");var gA=Cl(KI);function OA(E){for(var P=ml.lastIndex=0;ml.test(E);)++P;return P}s(OA,"unicodeSize");function SA(E){return E.match(ml)||[]}s(SA,"unicodeToArray");function EA(E){return E.match(VI)||[]}s(EA,"unicodeWords");var wA=s(function E(P){P=P==null?We:en.defaults(We.Object(),P,en.pick(We,YI));var C=P.Array,L=P.Date,Z=P.Error,le=P.Function,Le=P.Math,ve=P.Object,xl=P.RegExp,TA=P.String,Dt=P.TypeError,Ra=C.prototype,CA=le.prototype,Ei=ve.prototype,xa=P["__core-js_shared__"],Na=CA.toString,pe=Ei.hasOwnProperty,PA=0,hy=function(){var u=/[^.]+$/.exec(xa&&xa.keys&&xa.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),qa=Ei.toString,IA=Na.call(ve),AA=We._,RA=xl("^"+Na.call(pe).replace(pl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Da=Zb?P.Buffer:r,tn=P.Symbol,ja=P.Uint8Array,py=Da?Da.allocUnsafe:r,Ma=fy(ve.getPrototypeOf,ve),_y=ve.create,dy=Ei.propertyIsEnumerable,La=Ra.splice,vy=tn?tn.isConcatSpreadable:r,qo=tn?tn.iterator:r,wn=tn?tn.toStringTag:r,Ua=function(){try{var u=An(ve,"defineProperty");return u({},"",{}),u}catch{}}(),xA=P.clearTimeout!==We.clearTimeout&&P.clearTimeout,NA=L&&L.now!==We.Date.now&&L.now,qA=P.setTimeout!==We.setTimeout&&P.setTimeout,ka=Le.ceil,Fa=Le.floor,Nl=ve.getOwnPropertySymbols,DA=Da?Da.isBuffer:r,by=P.isFinite,jA=Ra.join,MA=fy(ve.keys,ve),Ue=Le.max,ze=Le.min,LA=L.now,UA=P.parseInt,yy=Le.random,kA=Ra.reverse,ql=An(P,"DataView"),Do=An(P,"Map"),Dl=An(P,"Promise"),wi=An(P,"Set"),jo=An(P,"WeakMap"),Mo=An(ve,"create"),Ba=jo&&new jo,Ti={},FA=Rn(ql),BA=Rn(Do),WA=Rn(Dl),VA=Rn(wi),HA=Rn(jo),Wa=tn?tn.prototype:r,Lo=Wa?Wa.valueOf:r,my=Wa?Wa.toString:r;function b(u){if(Re(u)&&!K(u)&&!(u instanceof ie)){if(u instanceof jt)return u;if(pe.call(u,"__wrapped__"))return gm(u)}return new jt(u)}s(b,"lodash");var Ci=function(){function u(){}return s(u,"object"),function(a){if(!we(a))return{};if(_y)return _y(a);u.prototype=a;var c=new u;return u.prototype=r,c}}();function Va(){}s(Va,"baseLodash");function jt(u,a){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=r}s(jt,"LodashWrapper"),b.templateSettings={escape:iI,evaluate:oI,interpolate:Ib,variable:"",imports:{_:b}},b.prototype=Va.prototype,b.prototype.constructor=b,jt.prototype=Ci(Va.prototype),jt.prototype.constructor=jt;function ie(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cr,this.__views__=[]}s(ie,"LazyWrapper");function zA(){var u=new ie(this.__wrapped__);return u.__actions__=ut(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ut(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ut(this.__views__),u}s(zA,"lazyClone");function YA(){if(this.__filtered__){var u=new ie(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}s(YA,"lazyReverse");function GA(){var u=this.__wrapped__.value(),a=this.__dir__,c=K(u),p=a<0,d=c?u.length:0,y=ox(0,d,this.__views__),g=y.start,S=y.end,w=S-g,R=p?S:g-1,x=this.__iteratees__,q=x.length,M=0,F=ze(w,this.__takeCount__);if(!c||!p&&d==w&&F==w)return Vy(u,this.__actions__);var z=[];e:for(;w--&&M<F;){R+=a;for(var J=-1,Y=u[R];++J<q;){var ne=x[J],oe=ne.iteratee,St=ne.type,et=oe(Y);if(St==BP)Y=et;else if(!et){if(St==Eb)continue e;break e}}z[M++]=Y}return z}s(GA,"lazyValue"),ie.prototype=Ci(Va.prototype),ie.prototype.constructor=ie;function Tn(u){var a=-1,c=u==null?0:u.length;for(this.clear();++a<c;){var p=u[a];this.set(p[0],p[1])}}s(Tn,"Hash");function $A(){this.__data__=Mo?Mo(null):{},this.size=0}s($A,"hashClear");function ZA(u){var a=this.has(u)&&delete this.__data__[u];return this.size-=a?1:0,a}s(ZA,"hashDelete");function KA(u){var a=this.__data__;if(Mo){var c=a[u];return c===f?r:c}return pe.call(a,u)?a[u]:r}s(KA,"hashGet");function QA(u){var a=this.__data__;return Mo?a[u]!==r:pe.call(a,u)}s(QA,"hashHas");function XA(u,a){var c=this.__data__;return this.size+=this.has(u)?0:1,c[u]=Mo&&a===r?f:a,this}s(XA,"hashSet"),Tn.prototype.clear=$A,Tn.prototype.delete=ZA,Tn.prototype.get=KA,Tn.prototype.has=QA,Tn.prototype.set=XA;function Or(u){var a=-1,c=u==null?0:u.length;for(this.clear();++a<c;){var p=u[a];this.set(p[0],p[1])}}s(Or,"ListCache");function JA(){this.__data__=[],this.size=0}s(JA,"listCacheClear");function eR(u){var a=this.__data__,c=Ha(a,u);if(c<0)return!1;var p=a.length-1;return c==p?a.pop():La.call(a,c,1),--this.size,!0}s(eR,"listCacheDelete");function tR(u){var a=this.__data__,c=Ha(a,u);return c<0?r:a[c][1]}s(tR,"listCacheGet");function rR(u){return Ha(this.__data__,u)>-1}s(rR,"listCacheHas");function nR(u,a){var c=this.__data__,p=Ha(c,u);return p<0?(++this.size,c.push([u,a])):c[p][1]=a,this}s(nR,"listCacheSet"),Or.prototype.clear=JA,Or.prototype.delete=eR,Or.prototype.get=tR,Or.prototype.has=rR,Or.prototype.set=nR;function Sr(u){var a=-1,c=u==null?0:u.length;for(this.clear();++a<c;){var p=u[a];this.set(p[0],p[1])}}s(Sr,"MapCache");function iR(){this.size=0,this.__data__={hash:new Tn,map:new(Do||Or),string:new Tn}}s(iR,"mapCacheClear");function oR(u){var a=rc(this,u).delete(u);return this.size-=a?1:0,a}s(oR,"mapCacheDelete");function uR(u){return rc(this,u).get(u)}s(uR,"mapCacheGet");function sR(u){return rc(this,u).has(u)}s(sR,"mapCacheHas");function aR(u,a){var c=rc(this,u),p=c.size;return c.set(u,a),this.size+=c.size==p?0:1,this}s(aR,"mapCacheSet"),Sr.prototype.clear=iR,Sr.prototype.delete=oR,Sr.prototype.get=uR,Sr.prototype.has=sR,Sr.prototype.set=aR;function Cn(u){var a=-1,c=u==null?0:u.length;for(this.__data__=new Sr;++a<c;)this.add(u[a])}s(Cn,"SetCache");function cR(u){return this.__data__.set(u,f),this}s(cR,"setCacheAdd");function fR(u){return this.__data__.has(u)}s(fR,"setCacheHas"),Cn.prototype.add=Cn.prototype.push=cR,Cn.prototype.has=fR;function Zt(u){var a=this.__data__=new Or(u);this.size=a.size}s(Zt,"Stack");function lR(){this.__data__=new Or,this.size=0}s(lR,"stackClear");function hR(u){var a=this.__data__,c=a.delete(u);return this.size=a.size,c}s(hR,"stackDelete");function pR(u){return this.__data__.get(u)}s(pR,"stackGet");function _R(u){return this.__data__.has(u)}s(_R,"stackHas");function dR(u,a){var c=this.__data__;if(c instanceof Or){var p=c.__data__;if(!Do||p.length<e-1)return p.push([u,a]),this.size=++c.size,this;c=this.__data__=new Sr(p)}return c.set(u,a),this.size=c.size,this}s(dR,"stackSet"),Zt.prototype.clear=lR,Zt.prototype.delete=hR,Zt.prototype.get=pR,Zt.prototype.has=_R,Zt.prototype.set=dR;function gy(u,a){var c=K(u),p=!c&&xn(u),d=!c&&!p&&sn(u),y=!c&&!p&&!d&&Ri(u),g=c||p||d||y,S=g?Il(u.length,TA):[],w=S.length;for(var R in u)(a||pe.call(u,R))&&!(g&&(R=="length"||d&&(R=="offset"||R=="parent")||y&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||Cr(R,w)))&&S.push(R);return S}s(gy,"arrayLikeKeys");function Oy(u){var a=u.length;return a?u[zl(0,a-1)]:r}s(Oy,"arraySample");function vR(u,a){return nc(ut(u),Pn(a,0,u.length))}s(vR,"arraySampleSize");function bR(u){return nc(ut(u))}s(bR,"arrayShuffle");function jl(u,a,c){(c!==r&&!Kt(u[a],c)||c===r&&!(a in u))&&Er(u,a,c)}s(jl,"assignMergeValue");function Uo(u,a,c){var p=u[a];(!(pe.call(u,a)&&Kt(p,c))||c===r&&!(a in u))&&Er(u,a,c)}s(Uo,"assignValue");function Ha(u,a){for(var c=u.length;c--;)if(Kt(u[c][0],a))return c;return-1}s(Ha,"assocIndexOf");function yR(u,a,c,p){return rn(u,function(d,y,g){a(p,d,c(d),g)}),p}s(yR,"baseAggregator");function Sy(u,a){return u&&lr(a,Ve(a),u)}s(Sy,"baseAssign");function mR(u,a){return u&&lr(a,at(a),u)}s(mR,"baseAssignIn");function Er(u,a,c){a=="__proto__"&&Ua?Ua(u,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):u[a]=c}s(Er,"baseAssignValue");function Ml(u,a){for(var c=-1,p=a.length,d=C(p),y=u==null;++c<p;)d[c]=y?r:vh(u,a[c]);return d}s(Ml,"baseAt");function Pn(u,a,c){return u===u&&(c!==r&&(u=u<=c?u:c),a!==r&&(u=u>=a?u:a)),u}s(Pn,"baseClamp");function Mt(u,a,c,p,d,y){var g,S=a&l,w=a&v,R=a&O;if(c&&(g=d?c(u,p,d,y):c(u)),g!==r)return g;if(!we(u))return u;var x=K(u);if(x){if(g=sx(u),!S)return ut(u,g)}else{var q=Ye(u),M=q==Sa||q==wb;if(sn(u))return Yy(u,S);if(q==gr||q==bi||M&&!d){if(g=w||M?{}:lm(u),!S)return w?KR(u,mR(g,u)):ZR(u,Sy(g,u))}else{if(!ye[q])return d?u:{};g=ax(u,q,S)}}y||(y=new Zt);var F=y.get(u);if(F)return F;y.set(u,g),Fm(u)?u.forEach(function(Y){g.add(Mt(Y,a,c,Y,u,y))}):Um(u)&&u.forEach(function(Y,ne){g.set(ne,Mt(Y,a,c,ne,u,y))});var z=R?w?rh:th:w?at:Ve,J=x?r:z(u);return qt(J||u,function(Y,ne){J&&(ne=Y,Y=u[ne]),Uo(g,ne,Mt(Y,a,c,ne,u,y))}),g}s(Mt,"baseClone");function gR(u){var a=Ve(u);return function(c){return Ey(c,u,a)}}s(gR,"baseConforms");function Ey(u,a,c){var p=c.length;if(u==null)return!p;for(u=ve(u);p--;){var d=c[p],y=a[d],g=u[d];if(g===r&&!(d in u)||!y(g))return!1}return!0}s(Ey,"baseConformsTo");function wy(u,a,c){if(typeof u!="function")throw new Dt(i);return zo(function(){u.apply(r,c)},a)}s(wy,"baseDelay");function ko(u,a,c,p){var d=-1,y=Pa,g=!0,S=u.length,w=[],R=a.length;if(!S)return w;c&&(a=Oe(a,mt(c))),p?(y=Sl,g=!1):a.length>=e&&(y=No,g=!1,a=new Cn(a));e:for(;++d<S;){var x=u[d],q=c==null?x:c(x);if(x=p||x!==0?x:0,g&&q===q){for(var M=R;M--;)if(a[M]===q)continue e;w.push(x)}else y(a,q,p)||w.push(x)}return w}s(ko,"baseDifference");var rn=Qy(fr),Ty=Qy(Ul,!0);function OR(u,a){var c=!0;return rn(u,function(p,d,y){return c=!!a(p,d,y),c}),c}s(OR,"baseEvery");function za(u,a,c){for(var p=-1,d=u.length;++p<d;){var y=u[p],g=a(y);if(g!=null&&(S===r?g===g&&!Ot(g):c(g,S)))var S=g,w=y}return w}s(za,"baseExtremum");function SR(u,a,c,p){var d=u.length;for(c=X(c),c<0&&(c=-c>d?0:d+c),p=p===r||p>d?d:X(p),p<0&&(p+=d),p=c>p?0:Wm(p);c<p;)u[c++]=a;return u}s(SR,"baseFill");function Cy(u,a){var c=[];return rn(u,function(p,d,y){a(p,d,y)&&c.push(p)}),c}s(Cy,"baseFilter");function He(u,a,c,p,d){var y=-1,g=u.length;for(c||(c=fx),d||(d=[]);++y<g;){var S=u[y];a>0&&c(S)?a>1?He(S,a-1,c,p,d):Xr(d,S):p||(d[d.length]=S)}return d}s(He,"baseFlatten");var Ll=Xy(),Py=Xy(!0);function fr(u,a){return u&&Ll(u,a,Ve)}s(fr,"baseForOwn");function Ul(u,a){return u&&Py(u,a,Ve)}s(Ul,"baseForOwnRight");function Ya(u,a){return Qr(a,function(c){return Pr(u[c])})}s(Ya,"baseFunctions");function In(u,a){a=on(a,u);for(var c=0,p=a.length;u!=null&&c<p;)u=u[hr(a[c++])];return c&&c==p?u:r}s(In,"baseGet");function Iy(u,a,c){var p=a(u);return K(u)?p:Xr(p,c(u))}s(Iy,"baseGetAllKeys");function Xe(u){return u==null?u===r?QP:ZP:wn&&wn in ve(u)?ix(u):bx(u)}s(Xe,"baseGetTag");function kl(u,a){return u>a}s(kl,"baseGt");function ER(u,a){return u!=null&&pe.call(u,a)}s(ER,"baseHas");function wR(u,a){return u!=null&&a in ve(u)}s(wR,"baseHasIn");function TR(u,a,c){return u>=ze(a,c)&&u<Ue(a,c)}s(TR,"baseInRange");function Fl(u,a,c){for(var p=c?Sl:Pa,d=u[0].length,y=u.length,g=y,S=C(y),w=1/0,R=[];g--;){var x=u[g];g&&a&&(x=Oe(x,mt(a))),w=ze(x.length,w),S[g]=!c&&(a||d>=120&&x.length>=120)?new Cn(g&&x):r}x=u[0];var q=-1,M=S[0];e:for(;++q<d&&R.length<w;){var F=x[q],z=a?a(F):F;if(F=c||F!==0?F:0,!(M?No(M,z):p(R,z,c))){for(g=y;--g;){var J=S[g];if(!(J?No(J,z):p(u[g],z,c)))continue e}M&&M.push(z),R.push(F)}}return R}s(Fl,"baseIntersection");function CR(u,a,c,p){return fr(u,function(d,y,g){a(p,c(d),y,g)}),p}s(CR,"baseInverter");function Fo(u,a,c){a=on(a,u),u=dm(u,a);var p=u==null?u:u[hr(Ut(a))];return p==null?r:yt(p,u,c)}s(Fo,"baseInvoke");function Ay(u){return Re(u)&&Xe(u)==bi}s(Ay,"baseIsArguments");function PR(u){return Re(u)&&Xe(u)==xo}s(PR,"baseIsArrayBuffer");function IR(u){return Re(u)&&Xe(u)==Co}s(IR,"baseIsDate");function Bo(u,a,c,p,d){return u===a?!0:u==null||a==null||!Re(u)&&!Re(a)?u!==u&&a!==a:AR(u,a,c,p,Bo,d)}s(Bo,"baseIsEqual");function AR(u,a,c,p,d,y){var g=K(u),S=K(a),w=g?ga:Ye(u),R=S?ga:Ye(a);w=w==bi?gr:w,R=R==bi?gr:R;var x=w==gr,q=R==gr,M=w==R;if(M&&sn(u)){if(!sn(a))return!1;g=!0,x=!1}if(M&&!x)return y||(y=new Zt),g||Ri(u)?am(u,a,c,p,d,y):rx(u,a,w,c,p,d,y);if(!(c&T)){var F=x&&pe.call(u,"__wrapped__"),z=q&&pe.call(a,"__wrapped__");if(F||z){var J=F?u.value():u,Y=z?a.value():a;return y||(y=new Zt),d(J,Y,c,p,y)}}return M?(y||(y=new Zt),nx(u,a,c,p,d,y)):!1}s(AR,"baseIsEqualDeep");function RR(u){return Re(u)&&Ye(u)==Yt}s(RR,"baseIsMap");function Bl(u,a,c,p){var d=c.length,y=d,g=!p;if(u==null)return!y;for(u=ve(u);d--;){var S=c[d];if(g&&S[2]?S[1]!==u[S[0]]:!(S[0]in u))return!1}for(;++d<y;){S=c[d];var w=S[0],R=u[w],x=S[1];if(g&&S[2]){if(R===r&&!(w in u))return!1}else{var q=new Zt;if(p)var M=p(R,x,w,u,a,q);if(!(M===r?Bo(x,R,T|j,p,q):M))return!1}}return!0}s(Bl,"baseIsMatch");function Ry(u){if(!we(u)||hx(u))return!1;var a=Pr(u)?RA:gI;return a.test(Rn(u))}s(Ry,"baseIsNative");function xR(u){return Re(u)&&Xe(u)==Io}s(xR,"baseIsRegExp");function NR(u){return Re(u)&&Ye(u)==Gt}s(NR,"baseIsSet");function qR(u){return Re(u)&&cc(u.length)&&!!me[Xe(u)]}s(qR,"baseIsTypedArray");function xy(u){return typeof u=="function"?u:u==null?ct:typeof u=="object"?K(u)?Dy(u[0],u[1]):qy(u):Jm(u)}s(xy,"baseIteratee");function Wl(u){if(!Ho(u))return MA(u);var a=[];for(var c in ve(u))pe.call(u,c)&&c!="constructor"&&a.push(c);return a}s(Wl,"baseKeys");function DR(u){if(!we(u))return vx(u);var a=Ho(u),c=[];for(var p in u)p=="constructor"&&(a||!pe.call(u,p))||c.push(p);return c}s(DR,"baseKeysIn");function Vl(u,a){return u<a}s(Vl,"baseLt");function Ny(u,a){var c=-1,p=st(u)?C(u.length):[];return rn(u,function(d,y,g){p[++c]=a(d,y,g)}),p}s(Ny,"baseMap");function qy(u){var a=ih(u);return a.length==1&&a[0][2]?pm(a[0][0],a[0][1]):function(c){return c===u||Bl(c,u,a)}}s(qy,"baseMatches");function Dy(u,a){return uh(u)&&hm(a)?pm(hr(u),a):function(c){var p=vh(c,u);return p===r&&p===a?bh(c,u):Bo(a,p,T|j)}}s(Dy,"baseMatchesProperty");function Ga(u,a,c,p,d){u!==a&&Ll(a,function(y,g){if(d||(d=new Zt),we(y))jR(u,a,g,c,Ga,p,d);else{var S=p?p(ah(u,g),y,g+"",u,a,d):r;S===r&&(S=y),jl(u,g,S)}},at)}s(Ga,"baseMerge");function jR(u,a,c,p,d,y,g){var S=ah(u,c),w=ah(a,c),R=g.get(w);if(R){jl(u,c,R);return}var x=y?y(S,w,c+"",u,a,g):r,q=x===r;if(q){var M=K(w),F=!M&&sn(w),z=!M&&!F&&Ri(w);x=w,M||F||z?K(S)?x=S:qe(S)?x=ut(S):F?(q=!1,x=Yy(w,!0)):z?(q=!1,x=Gy(w,!0)):x=[]:Yo(w)||xn(w)?(x=S,xn(S)?x=Vm(S):(!we(S)||Pr(S))&&(x=lm(w))):q=!1}q&&(g.set(w,x),d(x,w,p,y,g),g.delete(w)),jl(u,c,x)}s(jR,"baseMergeDeep");function jy(u,a){var c=u.length;if(c)return a+=a<0?c:0,Cr(a,c)?u[a]:r}s(jy,"baseNth");function My(u,a,c){a.length?a=Oe(a,function(y){return K(y)?function(g){return In(g,y.length===1?y[0]:y)}:y}):a=[ct];var p=-1;a=Oe(a,mt(V()));var d=Ny(u,function(y,g,S){var w=Oe(a,function(R){return R(y)});return{criteria:w,index:++p,value:y}});return aA(d,function(y,g){return $R(y,g,c)})}s(My,"baseOrderBy");function MR(u,a){return Ly(u,a,function(c,p){return bh(u,p)})}s(MR,"basePick");function Ly(u,a,c){for(var p=-1,d=a.length,y={};++p<d;){var g=a[p],S=In(u,g);c(S,g)&&Wo(y,on(g,u),S)}return y}s(Ly,"basePickBy");function LR(u){return function(a){return In(a,u)}}s(LR,"basePropertyDeep");function Hl(u,a,c,p){var d=p?sA:gi,y=-1,g=a.length,S=u;for(u===a&&(a=ut(a)),c&&(S=Oe(u,mt(c)));++y<g;)for(var w=0,R=a[y],x=c?c(R):R;(w=d(S,x,w,p))>-1;)S!==u&&La.call(S,w,1),La.call(u,w,1);return u}s(Hl,"basePullAll");function Uy(u,a){for(var c=u?a.length:0,p=c-1;c--;){var d=a[c];if(c==p||d!==y){var y=d;Cr(d)?La.call(u,d,1):$l(u,d)}}return u}s(Uy,"basePullAt");function zl(u,a){return u+Fa(yy()*(a-u+1))}s(zl,"baseRandom");function UR(u,a,c,p){for(var d=-1,y=Ue(ka((a-u)/(c||1)),0),g=C(y);y--;)g[p?y:++d]=u,u+=c;return g}s(UR,"baseRange");function Yl(u,a){var c="";if(!u||a<1||a>Kr)return c;do a%2&&(c+=u),a=Fa(a/2),a&&(u+=u);while(a);return c}s(Yl,"baseRepeat");function ee(u,a){return ch(_m(u,a,ct),u+"")}s(ee,"baseRest");function kR(u){return Oy(xi(u))}s(kR,"baseSample");function FR(u,a){var c=xi(u);return nc(c,Pn(a,0,c.length))}s(FR,"baseSampleSize");function Wo(u,a,c,p){if(!we(u))return u;a=on(a,u);for(var d=-1,y=a.length,g=y-1,S=u;S!=null&&++d<y;){var w=hr(a[d]),R=c;if(w==="__proto__"||w==="constructor"||w==="prototype")return u;if(d!=g){var x=S[w];R=p?p(x,w,S):r,R===r&&(R=we(x)?x:Cr(a[d+1])?[]:{})}Uo(S,w,R),S=S[w]}return u}s(Wo,"baseSet");var ky=Ba?function(u,a){return Ba.set(u,a),u}:ct,BR=Ua?function(u,a){return Ua(u,"toString",{configurable:!0,enumerable:!1,value:mh(a),writable:!0})}:ct;function WR(u){return nc(xi(u))}s(WR,"baseShuffle");function Lt(u,a,c){var p=-1,d=u.length;a<0&&(a=-a>d?0:d+a),c=c>d?d:c,c<0&&(c+=d),d=a>c?0:c-a>>>0,a>>>=0;for(var y=C(d);++p<d;)y[p]=u[p+a];return y}s(Lt,"baseSlice");function VR(u,a){var c;return rn(u,function(p,d,y){return c=a(p,d,y),!c}),!!c}s(VR,"baseSome");function $a(u,a,c){var p=0,d=u==null?p:u.length;if(typeof a=="number"&&a===a&&d<=zP){for(;p<d;){var y=p+d>>>1,g=u[y];g!==null&&!Ot(g)&&(c?g<=a:g<a)?p=y+1:d=y}return d}return Gl(u,a,ct,c)}s($a,"baseSortedIndex");function Gl(u,a,c,p){var d=0,y=u==null?0:u.length;if(y===0)return 0;a=c(a);for(var g=a!==a,S=a===null,w=Ot(a),R=a===r;d<y;){var x=Fa((d+y)/2),q=c(u[x]),M=q!==r,F=q===null,z=q===q,J=Ot(q);if(g)var Y=p||z;else R?Y=z&&(p||M):S?Y=z&&M&&(p||!F):w?Y=z&&M&&!F&&(p||!J):F||J?Y=!1:Y=p?q<=a:q<a;Y?d=x+1:y=x}return ze(y,HP)}s(Gl,"baseSortedIndexBy");function Fy(u,a){for(var c=-1,p=u.length,d=0,y=[];++c<p;){var g=u[c],S=a?a(g):g;if(!c||!Kt(S,w)){var w=S;y[d++]=g===0?0:g}}return y}s(Fy,"baseSortedUniq");function By(u){return typeof u=="number"?u:Ot(u)?ma:+u}s(By,"baseToNumber");function gt(u){if(typeof u=="string")return u;if(K(u))return Oe(u,gt)+"";if(Ot(u))return my?my.call(u):"";var a=u+"";return a=="0"&&1/u==-Sn?"-0":a}s(gt,"baseToString");function nn(u,a,c){var p=-1,d=Pa,y=u.length,g=!0,S=[],w=S;if(c)g=!1,d=Sl;else if(y>=e){var R=a?null:ex(u);if(R)return Aa(R);g=!1,d=No,w=new Cn}else w=a?[]:S;e:for(;++p<y;){var x=u[p],q=a?a(x):x;if(x=c||x!==0?x:0,g&&q===q){for(var M=w.length;M--;)if(w[M]===q)continue e;a&&w.push(q),S.push(x)}else d(w,q,c)||(w!==S&&w.push(q),S.push(x))}return S}s(nn,"baseUniq");function $l(u,a){return a=on(a,u),u=dm(u,a),u==null||delete u[hr(Ut(a))]}s($l,"baseUnset");function Wy(u,a,c,p){return Wo(u,a,c(In(u,a)),p)}s(Wy,"baseUpdate");function Za(u,a,c,p){for(var d=u.length,y=p?d:-1;(p?y--:++y<d)&&a(u[y],y,u););return c?Lt(u,p?0:y,p?y+1:d):Lt(u,p?y+1:0,p?d:y)}s(Za,"baseWhile");function Vy(u,a){var c=u;return c instanceof ie&&(c=c.value()),El(a,function(p,d){return d.func.apply(d.thisArg,Xr([p],d.args))},c)}s(Vy,"baseWrapperValue");function Zl(u,a,c){var p=u.length;if(p<2)return p?nn(u[0]):[];for(var d=-1,y=C(p);++d<p;)for(var g=u[d],S=-1;++S<p;)S!=d&&(y[d]=ko(y[d]||g,u[S],a,c));return nn(He(y,1),a,c)}s(Zl,"baseXor");function Hy(u,a,c){for(var p=-1,d=u.length,y=a.length,g={};++p<d;){var S=p<y?a[p]:r;c(g,u[p],S)}return g}s(Hy,"baseZipObject");function Kl(u){return qe(u)?u:[]}s(Kl,"castArrayLikeObject");function Ql(u){return typeof u=="function"?u:ct}s(Ql,"castFunction");function on(u,a){return K(u)?u:uh(u,a)?[u]:mm(he(u))}s(on,"castPath");var HR=ee;function un(u,a,c){var p=u.length;return c=c===r?p:c,!a&&c>=p?u:Lt(u,a,c)}s(un,"castSlice");var zy=xA||function(u){return We.clearTimeout(u)};function Yy(u,a){if(a)return u.slice();var c=u.length,p=py?py(c):new u.constructor(c);return u.copy(p),p}s(Yy,"cloneBuffer");function Xl(u){var a=new u.constructor(u.byteLength);return new ja(a).set(new ja(u)),a}s(Xl,"cloneArrayBuffer");function zR(u,a){var c=a?Xl(u.buffer):u.buffer;return new u.constructor(c,u.byteOffset,u.byteLength)}s(zR,"cloneDataView");function YR(u){var a=new u.constructor(u.source,Ab.exec(u));return a.lastIndex=u.lastIndex,a}s(YR,"cloneRegExp");function GR(u){return Lo?ve(Lo.call(u)):{}}s(GR,"cloneSymbol");function Gy(u,a){var c=a?Xl(u.buffer):u.buffer;return new u.constructor(c,u.byteOffset,u.length)}s(Gy,"cloneTypedArray");function $y(u,a){if(u!==a){var c=u!==r,p=u===null,d=u===u,y=Ot(u),g=a!==r,S=a===null,w=a===a,R=Ot(a);if(!S&&!R&&!y&&u>a||y&&g&&w&&!S&&!R||p&&g&&w||!c&&w||!d)return 1;if(!p&&!y&&!R&&u<a||R&&c&&d&&!p&&!y||S&&c&&d||!g&&d||!w)return-1}return 0}s($y,"compareAscending");function $R(u,a,c){for(var p=-1,d=u.criteria,y=a.criteria,g=d.length,S=c.length;++p<g;){var w=$y(d[p],y[p]);if(w){if(p>=S)return w;var R=c[p];return w*(R=="desc"?-1:1)}}return u.index-a.index}s($R,"compareMultiple");function Zy(u,a,c,p){for(var d=-1,y=u.length,g=c.length,S=-1,w=a.length,R=Ue(y-g,0),x=C(w+R),q=!p;++S<w;)x[S]=a[S];for(;++d<g;)(q||d<y)&&(x[c[d]]=u[d]);for(;R--;)x[S++]=u[d++];return x}s(Zy,"composeArgs");function Ky(u,a,c,p){for(var d=-1,y=u.length,g=-1,S=c.length,w=-1,R=a.length,x=Ue(y-S,0),q=C(x+R),M=!p;++d<x;)q[d]=u[d];for(var F=d;++w<R;)q[F+w]=a[w];for(;++g<S;)(M||d<y)&&(q[F+c[g]]=u[d++]);return q}s(Ky,"composeArgsRight");function ut(u,a){var c=-1,p=u.length;for(a||(a=C(p));++c<p;)a[c]=u[c];return a}s(ut,"copyArray");function lr(u,a,c,p){var d=!c;c||(c={});for(var y=-1,g=a.length;++y<g;){var S=a[y],w=p?p(c[S],u[S],S,c,u):r;w===r&&(w=u[S]),d?Er(c,S,w):Uo(c,S,w)}return c}s(lr,"copyObject");function ZR(u,a){return lr(u,oh(u),a)}s(ZR,"copySymbols");function KR(u,a){return lr(u,cm(u),a)}s(KR,"copySymbolsIn");function Ka(u,a){return function(c,p){var d=K(c)?tA:yR,y=a?a():{};return d(c,u,V(p,2),y)}}s(Ka,"createAggregator");function Pi(u){return ee(function(a,c){var p=-1,d=c.length,y=d>1?c[d-1]:r,g=d>2?c[2]:r;for(y=u.length>3&&typeof y=="function"?(d--,y):r,g&&Je(c[0],c[1],g)&&(y=d<3?r:y,d=1),a=ve(a);++p<d;){var S=c[p];S&&u(a,S,p,y)}return a})}s(Pi,"createAssigner");function Qy(u,a){return function(c,p){if(c==null)return c;if(!st(c))return u(c,p);for(var d=c.length,y=a?d:-1,g=ve(c);(a?y--:++y<d)&&p(g[y],y,g)!==!1;);return c}}s(Qy,"createBaseEach");function Xy(u){return function(a,c,p){for(var d=-1,y=ve(a),g=p(a),S=g.length;S--;){var w=g[u?S:++d];if(c(y[w],w,y)===!1)break}return a}}s(Xy,"createBaseFor");function QR(u,a,c){var p=a&U,d=Vo(u);function y(){var g=this&&this!==We&&this instanceof y?d:u;return g.apply(p?c:this,arguments)}return s(y,"wrapper"),y}s(QR,"createBind");function Jy(u){return function(a){a=he(a);var c=Oi(a)?$t(a):r,p=c?c[0]:a.charAt(0),d=c?un(c,1).join(""):a.slice(1);return p[u]()+d}}s(Jy,"createCaseFirst");function Ii(u){return function(a){return El(Qm(Km(a).replace(BI,"")),u,"")}}s(Ii,"createCompounder");function Vo(u){return function(){var a=arguments;switch(a.length){case 0:return new u;case 1:return new u(a[0]);case 2:return new u(a[0],a[1]);case 3:return new u(a[0],a[1],a[2]);case 4:return new u(a[0],a[1],a[2],a[3]);case 5:return new u(a[0],a[1],a[2],a[3],a[4]);case 6:return new u(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new u(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=Ci(u.prototype),p=u.apply(c,a);return we(p)?p:c}}s(Vo,"createCtor");function XR(u,a,c){var p=Vo(u);function d(){for(var y=arguments.length,g=C(y),S=y,w=Ai(d);S--;)g[S]=arguments[S];var R=y<3&&g[0]!==w&&g[y-1]!==w?[]:Jr(g,w);if(y-=R.length,y<c)return im(u,a,Qa,d.placeholder,r,g,R,r,r,c-y);var x=this&&this!==We&&this instanceof d?p:u;return yt(x,this,g)}return s(d,"wrapper"),d}s(XR,"createCurry");function em(u){return function(a,c,p){var d=ve(a);if(!st(a)){var y=V(c,3);a=Ve(a),c=s(function(S){return y(d[S],S,d)},"predicate")}var g=u(a,c,p);return g>-1?d[y?a[g]:g]:r}}s(em,"createFind");function tm(u){return Tr(function(a){var c=a.length,p=c,d=jt.prototype.thru;for(u&&a.reverse();p--;){var y=a[p];if(typeof y!="function")throw new Dt(i);if(d&&!g&&tc(y)=="wrapper")var g=new jt([],!0)}for(p=g?p:c;++p<c;){y=a[p];var S=tc(y),w=S=="wrapper"?nh(y):r;w&&sh(w[0])&&w[1]==(Be|B|ce|zt)&&!w[4].length&&w[9]==1?g=g[tc(w[0])].apply(g,w[3]):g=y.length==1&&sh(y)?g[S]():g.thru(y)}return function(){var R=arguments,x=R[0];if(g&&R.length==1&&K(x))return g.plant(x).value();for(var q=0,M=c?a[q].apply(this,R):x;++q<c;)M=a[q].call(this,M);return M}})}s(tm,"createFlow");function Qa(u,a,c,p,d,y,g,S,w,R){var x=a&Be,q=a&U,M=a&G,F=a&(B|ue),z=a&xt,J=M?r:Vo(u);function Y(){for(var ne=arguments.length,oe=C(ne),St=ne;St--;)oe[St]=arguments[St];if(F)var et=Ai(Y),Et=fA(oe,et);if(p&&(oe=Zy(oe,p,d,F)),y&&(oe=Ky(oe,y,g,F)),ne-=Et,F&&ne<R){var De=Jr(oe,et);return im(u,a,Qa,Y.placeholder,c,oe,De,S,w,R-ne)}var Qt=q?c:this,Ar=M?Qt[u]:u;return ne=oe.length,S?oe=yx(oe,S):z&&ne>1&&oe.reverse(),x&&w<ne&&(oe.length=w),this&&this!==We&&this instanceof Y&&(Ar=J||Vo(Ar)),Ar.apply(Qt,oe)}return s(Y,"wrapper"),Y}s(Qa,"createHybrid");function rm(u,a){return function(c,p){return CR(c,u,a(p),{})}}s(rm,"createInverter");function Xa(u,a){return function(c,p){var d;if(c===r&&p===r)return a;if(c!==r&&(d=c),p!==r){if(d===r)return p;typeof c=="string"||typeof p=="string"?(c=gt(c),p=gt(p)):(c=By(c),p=By(p)),d=u(c,p)}return d}}s(Xa,"createMathOperation");function Jl(u){return Tr(function(a){return a=Oe(a,mt(V())),ee(function(c){var p=this;return u(a,function(d){return yt(d,p,c)})})})}s(Jl,"createOver");function Ja(u,a){a=a===r?" ":gt(a);var c=a.length;if(c<2)return c?Yl(a,u):a;var p=Yl(a,ka(u/Si(a)));return Oi(a)?un($t(p),0,u).join(""):p.slice(0,u)}s(Ja,"createPadding");function JR(u,a,c,p){var d=a&U,y=Vo(u);function g(){for(var S=-1,w=arguments.length,R=-1,x=p.length,q=C(x+w),M=this&&this!==We&&this instanceof g?y:u;++R<x;)q[R]=p[R];for(;w--;)q[R++]=arguments[++S];return yt(M,d?c:this,q)}return s(g,"wrapper"),g}s(JR,"createPartial");function nm(u){return function(a,c,p){return p&&typeof p!="number"&&Je(a,c,p)&&(c=p=r),a=Ir(a),c===r?(c=a,a=0):c=Ir(c),p=p===r?a<c?1:-1:Ir(p),UR(a,c,p,u)}}s(nm,"createRange");function ec(u){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=kt(a),c=kt(c)),u(a,c)}}s(ec,"createRelationalOperation");function im(u,a,c,p,d,y,g,S,w,R){var x=a&B,q=x?g:r,M=x?r:g,F=x?y:r,z=x?r:y;a|=x?ce:Ae,a&=~(x?Ae:ce),a&ge||(a&=~(U|G));var J=[u,a,d,F,q,z,M,S,w,R],Y=c.apply(r,J);return sh(u)&&vm(Y,J),Y.placeholder=p,bm(Y,u,a)}s(im,"createRecurry");function eh(u){var a=Le[u];return function(c,p){if(c=kt(c),p=p==null?0:ze(X(p),292),p&&by(c)){var d=(he(c)+"e").split("e"),y=a(d[0]+"e"+(+d[1]+p));return d=(he(y)+"e").split("e"),+(d[0]+"e"+(+d[1]-p))}return a(c)}}s(eh,"createRound");var ex=wi&&1/Aa(new wi([,-0]))[1]==Sn?function(u){return new wi(u)}:Sh;function om(u){return function(a){var c=Ye(a);return c==Yt?Rl(a):c==Gt?bA(a):cA(a,u(a))}}s(om,"createToPairs");function wr(u,a,c,p,d,y,g,S){var w=a&G;if(!w&&typeof u!="function")throw new Dt(i);var R=p?p.length:0;if(R||(a&=~(ce|Ae),p=d=r),g=g===r?g:Ue(X(g),0),S=S===r?S:X(S),R-=d?d.length:0,a&Ae){var x=p,q=d;p=d=r}var M=w?r:nh(u),F=[u,a,c,p,d,x,q,y,g,S];if(M&&dx(F,M),u=F[0],a=F[1],c=F[2],p=F[3],d=F[4],S=F[9]=F[9]===r?w?0:u.length:Ue(F[9]-R,0),!S&&a&(B|ue)&&(a&=~(B|ue)),!a||a==U)var z=QR(u,a,c);else a==B||a==ue?z=XR(u,a,S):(a==ce||a==(U|ce))&&!d.length?z=JR(u,a,c,p):z=Qa.apply(r,F);var J=M?ky:vm;return bm(J(z,F),u,a)}s(wr,"createWrap");function um(u,a,c,p){return u===r||Kt(u,Ei[c])&&!pe.call(p,c)?a:u}s(um,"customDefaultsAssignIn");function sm(u,a,c,p,d,y){return we(u)&&we(a)&&(y.set(a,u),Ga(u,a,r,sm,y),y.delete(a)),u}s(sm,"customDefaultsMerge");function tx(u){return Yo(u)?r:u}s(tx,"customOmitClone");function am(u,a,c,p,d,y){var g=c&T,S=u.length,w=a.length;if(S!=w&&!(g&&w>S))return!1;var R=y.get(u),x=y.get(a);if(R&&x)return R==a&&x==u;var q=-1,M=!0,F=c&j?new Cn:r;for(y.set(u,a),y.set(a,u);++q<S;){var z=u[q],J=a[q];if(p)var Y=g?p(J,z,q,a,u,y):p(z,J,q,u,a,y);if(Y!==r){if(Y)continue;M=!1;break}if(F){if(!wl(a,function(ne,oe){if(!No(F,oe)&&(z===ne||d(z,ne,c,p,y)))return F.push(oe)})){M=!1;break}}else if(!(z===J||d(z,J,c,p,y))){M=!1;break}}return y.delete(u),y.delete(a),M}s(am,"equalArrays");function rx(u,a,c,p,d,y,g){switch(c){case yi:if(u.byteLength!=a.byteLength||u.byteOffset!=a.byteOffset)return!1;u=u.buffer,a=a.buffer;case xo:return!(u.byteLength!=a.byteLength||!y(new ja(u),new ja(a)));case To:case Co:case Po:return Kt(+u,+a);case Oa:return u.name==a.name&&u.message==a.message;case Io:case Ao:return u==a+"";case Yt:var S=Rl;case Gt:var w=p&T;if(S||(S=Aa),u.size!=a.size&&!w)return!1;var R=g.get(u);if(R)return R==a;p|=j,g.set(u,a);var x=am(S(u),S(a),p,d,y,g);return g.delete(u),x;case Ea:if(Lo)return Lo.call(u)==Lo.call(a)}return!1}s(rx,"equalByTag");function nx(u,a,c,p,d,y){var g=c&T,S=th(u),w=S.length,R=th(a),x=R.length;if(w!=x&&!g)return!1;for(var q=w;q--;){var M=S[q];if(!(g?M in a:pe.call(a,M)))return!1}var F=y.get(u),z=y.get(a);if(F&&z)return F==a&&z==u;var J=!0;y.set(u,a),y.set(a,u);for(var Y=g;++q<w;){M=S[q];var ne=u[M],oe=a[M];if(p)var St=g?p(oe,ne,M,a,u,y):p(ne,oe,M,u,a,y);if(!(St===r?ne===oe||d(ne,oe,c,p,y):St)){J=!1;break}Y||(Y=M=="constructor")}if(J&&!Y){var et=u.constructor,Et=a.constructor;et!=Et&&"constructor"in u&&"constructor"in a&&!(typeof et=="function"&&et instanceof et&&typeof Et=="function"&&Et instanceof Et)&&(J=!1)}return y.delete(u),y.delete(a),J}s(nx,"equalObjects");function Tr(u){return ch(_m(u,r,Em),u+"")}s(Tr,"flatRest");function th(u){return Iy(u,Ve,oh)}s(th,"getAllKeys");function rh(u){return Iy(u,at,cm)}s(rh,"getAllKeysIn");var nh=Ba?function(u){return Ba.get(u)}:Sh;function tc(u){for(var a=u.name+"",c=Ti[a],p=pe.call(Ti,a)?c.length:0;p--;){var d=c[p],y=d.func;if(y==null||y==u)return d.name}return a}s(tc,"getFuncName");function Ai(u){var a=pe.call(b,"placeholder")?b:u;return a.placeholder}s(Ai,"getHolder");function V(){var u=b.iteratee||gh;return u=u===gh?xy:u,arguments.length?u(arguments[0],arguments[1]):u}s(V,"getIteratee");function rc(u,a){var c=u.__data__;return lx(a)?c[typeof a=="string"?"string":"hash"]:c.map}s(rc,"getMapData");function ih(u){for(var a=Ve(u),c=a.length;c--;){var p=a[c],d=u[p];a[c]=[p,d,hm(d)]}return a}s(ih,"getMatchData");function An(u,a){var c=_A(u,a);return Ry(c)?c:r}s(An,"getNative");function ix(u){var a=pe.call(u,wn),c=u[wn];try{u[wn]=r;var p=!0}catch{}var d=qa.call(u);return p&&(a?u[wn]=c:delete u[wn]),d}s(ix,"getRawTag");var oh=Nl?function(u){return u==null?[]:(u=ve(u),Qr(Nl(u),function(a){return dy.call(u,a)}))}:Eh,cm=Nl?function(u){for(var a=[];u;)Xr(a,oh(u)),u=Ma(u);return a}:Eh,Ye=Xe;(ql&&Ye(new ql(new ArrayBuffer(1)))!=yi||Do&&Ye(new Do)!=Yt||Dl&&Ye(Dl.resolve())!=Tb||wi&&Ye(new wi)!=Gt||jo&&Ye(new jo)!=Ro)&&(Ye=s(function(u){var a=Xe(u),c=a==gr?u.constructor:r,p=c?Rn(c):"";if(p)switch(p){case FA:return yi;case BA:return Yt;case WA:return Tb;case VA:return Gt;case HA:return Ro}return a},"getTag"));function ox(u,a,c){for(var p=-1,d=c.length;++p<d;){var y=c[p],g=y.size;switch(y.type){case"drop":u+=g;break;case"dropRight":a-=g;break;case"take":a=ze(a,u+g);break;case"takeRight":u=Ue(u,a-g);break}}return{start:u,end:a}}s(ox,"getView");function ux(u){var a=u.match(hI);return a?a[1].split(pI):[]}s(ux,"getWrapDetails");function fm(u,a,c){a=on(a,u);for(var p=-1,d=a.length,y=!1;++p<d;){var g=hr(a[p]);if(!(y=u!=null&&c(u,g)))break;u=u[g]}return y||++p!=d?y:(d=u==null?0:u.length,!!d&&cc(d)&&Cr(g,d)&&(K(u)||xn(u)))}s(fm,"hasPath");function sx(u){var a=u.length,c=new u.constructor(a);return a&&typeof u[0]=="string"&&pe.call(u,"index")&&(c.index=u.index,c.input=u.input),c}s(sx,"initCloneArray");function lm(u){return typeof u.constructor=="function"&&!Ho(u)?Ci(Ma(u)):{}}s(lm,"initCloneObject");function ax(u,a,c){var p=u.constructor;switch(a){case xo:return Xl(u);case To:case Co:return new p(+u);case yi:return zR(u,c);case il:case ol:case ul:case sl:case al:case cl:case fl:case ll:case hl:return Gy(u,c);case Yt:return new p;case Po:case Ao:return new p(u);case Io:return YR(u);case Gt:return new p;case Ea:return GR(u)}}s(ax,"initCloneByTag");function cx(u,a){var c=a.length;if(!c)return u;var p=c-1;return a[p]=(c>1?"& ":"")+a[p],a=a.join(c>2?", ":" "),u.replace(lI,`{
/* [wrapped with `+a+`] */
`)}s(cx,"insertWrapDetails");function fx(u){return K(u)||xn(u)||!!(vy&&u&&u[vy])}s(fx,"isFlattenable");function Cr(u,a){var c=typeof u;return a=a??Kr,!!a&&(c=="number"||c!="symbol"&&SI.test(u))&&u>-1&&u%1==0&&u<a}s(Cr,"isIndex");function Je(u,a,c){if(!we(c))return!1;var p=typeof a;return(p=="number"?st(c)&&Cr(a,c.length):p=="string"&&a in c)?Kt(c[a],u):!1}s(Je,"isIterateeCall");function uh(u,a){if(K(u))return!1;var c=typeof u;return c=="number"||c=="symbol"||c=="boolean"||u==null||Ot(u)?!0:sI.test(u)||!uI.test(u)||a!=null&&u in ve(a)}s(uh,"isKey");function lx(u){var a=typeof u;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?u!=="__proto__":u===null}s(lx,"isKeyable");function sh(u){var a=tc(u),c=b[a];if(typeof c!="function"||!(a in ie.prototype))return!1;if(u===c)return!0;var p=nh(c);return!!p&&u===p[0]}s(sh,"isLaziable");function hx(u){return!!hy&&hy in u}s(hx,"isMasked");var px=xa?Pr:wh;function Ho(u){var a=u&&u.constructor,c=typeof a=="function"&&a.prototype||Ei;return u===c}s(Ho,"isPrototype");function hm(u){return u===u&&!we(u)}s(hm,"isStrictComparable");function pm(u,a){return function(c){return c==null?!1:c[u]===a&&(a!==r||u in ve(c))}}s(pm,"matchesStrictComparable");function _x(u){var a=sc(u,function(p){return c.size===h&&c.clear(),p}),c=a.cache;return a}s(_x,"memoizeCapped");function dx(u,a){var c=u[1],p=a[1],d=c|p,y=d<(U|G|Be),g=p==Be&&c==B||p==Be&&c==zt&&u[7].length<=a[8]||p==(Be|zt)&&a[7].length<=a[8]&&c==B;if(!(y||g))return u;p&U&&(u[2]=a[2],d|=c&U?0:ge);var S=a[3];if(S){var w=u[3];u[3]=w?Zy(w,S,a[4]):S,u[4]=w?Jr(u[3],_):a[4]}return S=a[5],S&&(w=u[5],u[5]=w?Ky(w,S,a[6]):S,u[6]=w?Jr(u[5],_):a[6]),S=a[7],S&&(u[7]=S),p&Be&&(u[8]=u[8]==null?a[8]:ze(u[8],a[8])),u[9]==null&&(u[9]=a[9]),u[0]=a[0],u[1]=d,u}s(dx,"mergeData");function vx(u){var a=[];if(u!=null)for(var c in ve(u))a.push(c);return a}s(vx,"nativeKeysIn");function bx(u){return qa.call(u)}s(bx,"objectToString");function _m(u,a,c){return a=Ue(a===r?u.length-1:a,0),function(){for(var p=arguments,d=-1,y=Ue(p.length-a,0),g=C(y);++d<y;)g[d]=p[a+d];d=-1;for(var S=C(a+1);++d<a;)S[d]=p[d];return S[a]=c(g),yt(u,this,S)}}s(_m,"overRest");function dm(u,a){return a.length<2?u:In(u,Lt(a,0,-1))}s(dm,"parent");function yx(u,a){for(var c=u.length,p=ze(a.length,c),d=ut(u);p--;){var y=a[p];u[p]=Cr(y,c)?d[y]:r}return u}s(yx,"reorder");function ah(u,a){if(!(a==="constructor"&&typeof u[a]=="function")&&a!="__proto__")return u[a]}s(ah,"safeGet");var vm=ym(ky),zo=qA||function(u,a){return We.setTimeout(u,a)},ch=ym(BR);function bm(u,a,c){var p=a+"";return ch(u,cx(p,mx(ux(p),c)))}s(bm,"setWrapToString");function ym(u){var a=0,c=0;return function(){var p=LA(),d=FP-(p-c);if(c=p,d>0){if(++a>=kP)return arguments[0]}else a=0;return u.apply(r,arguments)}}s(ym,"shortOut");function nc(u,a){var c=-1,p=u.length,d=p-1;for(a=a===r?p:a;++c<a;){var y=zl(c,d),g=u[y];u[y]=u[c],u[c]=g}return u.length=a,u}s(nc,"shuffleSelf");var mm=_x(function(u){var a=[];return u.charCodeAt(0)===46&&a.push(""),u.replace(aI,function(c,p,d,y){a.push(d?y.replace(vI,"$1"):p||c)}),a});function hr(u){if(typeof u=="string"||Ot(u))return u;var a=u+"";return a=="0"&&1/u==-Sn?"-0":a}s(hr,"toKey");function Rn(u){if(u!=null){try{return Na.call(u)}catch{}try{return u+""}catch{}}return""}s(Rn,"toSource");function mx(u,a){return qt(YP,function(c){var p="_."+c[0];a&c[1]&&!Pa(u,p)&&u.push(p)}),u.sort()}s(mx,"updateWrapDetails");function gm(u){if(u instanceof ie)return u.clone();var a=new jt(u.__wrapped__,u.__chain__);return a.__actions__=ut(u.__actions__),a.__index__=u.__index__,a.__values__=u.__values__,a}s(gm,"wrapperClone");function gx(u,a,c){(c?Je(u,a,c):a===r)?a=1:a=Ue(X(a),0);var p=u==null?0:u.length;if(!p||a<1)return[];for(var d=0,y=0,g=C(ka(p/a));d<p;)g[y++]=Lt(u,d,d+=a);return g}s(gx,"chunk");function Ox(u){for(var a=-1,c=u==null?0:u.length,p=0,d=[];++a<c;){var y=u[a];y&&(d[p++]=y)}return d}s(Ox,"compact");function Sx(){var u=arguments.length;if(!u)return[];for(var a=C(u-1),c=arguments[0],p=u;p--;)a[p-1]=arguments[p];return Xr(K(c)?ut(c):[c],He(a,1))}s(Sx,"concat");var Ex=ee(function(u,a){return qe(u)?ko(u,He(a,1,qe,!0)):[]}),wx=ee(function(u,a){var c=Ut(a);return qe(c)&&(c=r),qe(u)?ko(u,He(a,1,qe,!0),V(c,2)):[]}),Tx=ee(function(u,a){var c=Ut(a);return qe(c)&&(c=r),qe(u)?ko(u,He(a,1,qe,!0),r,c):[]});function Cx(u,a,c){var p=u==null?0:u.length;return p?(a=c||a===r?1:X(a),Lt(u,a<0?0:a,p)):[]}s(Cx,"drop");function Px(u,a,c){var p=u==null?0:u.length;return p?(a=c||a===r?1:X(a),a=p-a,Lt(u,0,a<0?0:a)):[]}s(Px,"dropRight");function Ix(u,a){return u&&u.length?Za(u,V(a,3),!0,!0):[]}s(Ix,"dropRightWhile");function Ax(u,a){return u&&u.length?Za(u,V(a,3),!0):[]}s(Ax,"dropWhile");function Rx(u,a,c,p){var d=u==null?0:u.length;return d?(c&&typeof c!="number"&&Je(u,a,c)&&(c=0,p=d),SR(u,a,c,p)):[]}s(Rx,"fill");function Om(u,a,c){var p=u==null?0:u.length;if(!p)return-1;var d=c==null?0:X(c);return d<0&&(d=Ue(p+d,0)),Ia(u,V(a,3),d)}s(Om,"findIndex");function Sm(u,a,c){var p=u==null?0:u.length;if(!p)return-1;var d=p-1;return c!==r&&(d=X(c),d=c<0?Ue(p+d,0):ze(d,p-1)),Ia(u,V(a,3),d,!0)}s(Sm,"findLastIndex");function Em(u){var a=u==null?0:u.length;return a?He(u,1):[]}s(Em,"flatten");function xx(u){var a=u==null?0:u.length;return a?He(u,Sn):[]}s(xx,"flattenDeep");function Nx(u,a){var c=u==null?0:u.length;return c?(a=a===r?1:X(a),He(u,a)):[]}s(Nx,"flattenDepth");function qx(u){for(var a=-1,c=u==null?0:u.length,p={};++a<c;){var d=u[a];p[d[0]]=d[1]}return p}s(qx,"fromPairs");function wm(u){return u&&u.length?u[0]:r}s(wm,"head");function Dx(u,a,c){var p=u==null?0:u.length;if(!p)return-1;var d=c==null?0:X(c);return d<0&&(d=Ue(p+d,0)),gi(u,a,d)}s(Dx,"indexOf");function jx(u){var a=u==null?0:u.length;return a?Lt(u,0,-1):[]}s(jx,"initial");var Mx=ee(function(u){var a=Oe(u,Kl);return a.length&&a[0]===u[0]?Fl(a):[]}),Lx=ee(function(u){var a=Ut(u),c=Oe(u,Kl);return a===Ut(c)?a=r:c.pop(),c.length&&c[0]===u[0]?Fl(c,V(a,2)):[]}),Ux=ee(function(u){var a=Ut(u),c=Oe(u,Kl);return a=typeof a=="function"?a:r,a&&c.pop(),c.length&&c[0]===u[0]?Fl(c,r,a):[]});function kx(u,a){return u==null?"":jA.call(u,a)}s(kx,"join");function Ut(u){var a=u==null?0:u.length;return a?u[a-1]:r}s(Ut,"last");function Fx(u,a,c){var p=u==null?0:u.length;if(!p)return-1;var d=p;return c!==r&&(d=X(c),d=d<0?Ue(p+d,0):ze(d,p-1)),a===a?mA(u,a,d):Ia(u,iy,d,!0)}s(Fx,"lastIndexOf");function Bx(u,a){return u&&u.length?jy(u,X(a)):r}s(Bx,"nth");var Wx=ee(Tm);function Tm(u,a){return u&&u.length&&a&&a.length?Hl(u,a):u}s(Tm,"pullAll");function Vx(u,a,c){return u&&u.length&&a&&a.length?Hl(u,a,V(c,2)):u}s(Vx,"pullAllBy");function Hx(u,a,c){return u&&u.length&&a&&a.length?Hl(u,a,r,c):u}s(Hx,"pullAllWith");var zx=Tr(function(u,a){var c=u==null?0:u.length,p=Ml(u,a);return Uy(u,Oe(a,function(d){return Cr(d,c)?+d:d}).sort($y)),p});function Yx(u,a){var c=[];if(!(u&&u.length))return c;var p=-1,d=[],y=u.length;for(a=V(a,3);++p<y;){var g=u[p];a(g,p,u)&&(c.push(g),d.push(p))}return Uy(u,d),c}s(Yx,"remove");function fh(u){return u==null?u:kA.call(u)}s(fh,"reverse");function Gx(u,a,c){var p=u==null?0:u.length;return p?(c&&typeof c!="number"&&Je(u,a,c)?(a=0,c=p):(a=a==null?0:X(a),c=c===r?p:X(c)),Lt(u,a,c)):[]}s(Gx,"slice");function $x(u,a){return $a(u,a)}s($x,"sortedIndex");function Zx(u,a,c){return Gl(u,a,V(c,2))}s(Zx,"sortedIndexBy");function Kx(u,a){var c=u==null?0:u.length;if(c){var p=$a(u,a);if(p<c&&Kt(u[p],a))return p}return-1}s(Kx,"sortedIndexOf");function Qx(u,a){return $a(u,a,!0)}s(Qx,"sortedLastIndex");function Xx(u,a,c){return Gl(u,a,V(c,2),!0)}s(Xx,"sortedLastIndexBy");function Jx(u,a){var c=u==null?0:u.length;if(c){var p=$a(u,a,!0)-1;if(Kt(u[p],a))return p}return-1}s(Jx,"sortedLastIndexOf");function eN(u){return u&&u.length?Fy(u):[]}s(eN,"sortedUniq");function tN(u,a){return u&&u.length?Fy(u,V(a,2)):[]}s(tN,"sortedUniqBy");function rN(u){var a=u==null?0:u.length;return a?Lt(u,1,a):[]}s(rN,"tail");function nN(u,a,c){return u&&u.length?(a=c||a===r?1:X(a),Lt(u,0,a<0?0:a)):[]}s(nN,"take");function iN(u,a,c){var p=u==null?0:u.length;return p?(a=c||a===r?1:X(a),a=p-a,Lt(u,a<0?0:a,p)):[]}s(iN,"takeRight");function oN(u,a){return u&&u.length?Za(u,V(a,3),!1,!0):[]}s(oN,"takeRightWhile");function uN(u,a){return u&&u.length?Za(u,V(a,3)):[]}s(uN,"takeWhile");var sN=ee(function(u){return nn(He(u,1,qe,!0))}),aN=ee(function(u){var a=Ut(u);return qe(a)&&(a=r),nn(He(u,1,qe,!0),V(a,2))}),cN=ee(function(u){var a=Ut(u);return a=typeof a=="function"?a:r,nn(He(u,1,qe,!0),r,a)});function fN(u){return u&&u.length?nn(u):[]}s(fN,"uniq");function lN(u,a){return u&&u.length?nn(u,V(a,2)):[]}s(lN,"uniqBy");function hN(u,a){return a=typeof a=="function"?a:r,u&&u.length?nn(u,r,a):[]}s(hN,"uniqWith");function lh(u){if(!(u&&u.length))return[];var a=0;return u=Qr(u,function(c){if(qe(c))return a=Ue(c.length,a),!0}),Il(a,function(c){return Oe(u,Tl(c))})}s(lh,"unzip");function Cm(u,a){if(!(u&&u.length))return[];var c=lh(u);return a==null?c:Oe(c,function(p){return yt(a,r,p)})}s(Cm,"unzipWith");var pN=ee(function(u,a){return qe(u)?ko(u,a):[]}),_N=ee(function(u){return Zl(Qr(u,qe))}),dN=ee(function(u){var a=Ut(u);return qe(a)&&(a=r),Zl(Qr(u,qe),V(a,2))}),vN=ee(function(u){var a=Ut(u);return a=typeof a=="function"?a:r,Zl(Qr(u,qe),r,a)}),bN=ee(lh);function yN(u,a){return Hy(u||[],a||[],Uo)}s(yN,"zipObject");function mN(u,a){return Hy(u||[],a||[],Wo)}s(mN,"zipObjectDeep");var gN=ee(function(u){var a=u.length,c=a>1?u[a-1]:r;return c=typeof c=="function"?(u.pop(),c):r,Cm(u,c)});function Pm(u){var a=b(u);return a.__chain__=!0,a}s(Pm,"chain");function ON(u,a){return a(u),u}s(ON,"tap");function ic(u,a){return a(u)}s(ic,"thru");var SN=Tr(function(u){var a=u.length,c=a?u[0]:0,p=this.__wrapped__,d=s(function(y){return Ml(y,u)},"interceptor");return a>1||this.__actions__.length||!(p instanceof ie)||!Cr(c)?this.thru(d):(p=p.slice(c,+c+(a?1:0)),p.__actions__.push({func:ic,args:[d],thisArg:r}),new jt(p,this.__chain__).thru(function(y){return a&&!y.length&&y.push(r),y}))});function EN(){return Pm(this)}s(EN,"wrapperChain");function wN(){return new jt(this.value(),this.__chain__)}s(wN,"wrapperCommit");function TN(){this.__values__===r&&(this.__values__=Bm(this.value()));var u=this.__index__>=this.__values__.length,a=u?r:this.__values__[this.__index__++];return{done:u,value:a}}s(TN,"wrapperNext");function CN(){return this}s(CN,"wrapperToIterator");function PN(u){for(var a,c=this;c instanceof Va;){var p=gm(c);p.__index__=0,p.__values__=r,a?d.__wrapped__=p:a=p;var d=p;c=c.__wrapped__}return d.__wrapped__=u,a}s(PN,"wrapperPlant");function IN(){var u=this.__wrapped__;if(u instanceof ie){var a=u;return this.__actions__.length&&(a=new ie(this)),a=a.reverse(),a.__actions__.push({func:ic,args:[fh],thisArg:r}),new jt(a,this.__chain__)}return this.thru(fh)}s(IN,"wrapperReverse");function AN(){return Vy(this.__wrapped__,this.__actions__)}s(AN,"wrapperValue");var RN=Ka(function(u,a,c){pe.call(u,c)?++u[c]:Er(u,c,1)});function xN(u,a,c){var p=K(u)?ry:OR;return c&&Je(u,a,c)&&(a=r),p(u,V(a,3))}s(xN,"every");function NN(u,a){var c=K(u)?Qr:Cy;return c(u,V(a,3))}s(NN,"filter");var qN=em(Om),DN=em(Sm);function jN(u,a){return He(oc(u,a),1)}s(jN,"flatMap");function MN(u,a){return He(oc(u,a),Sn)}s(MN,"flatMapDeep");function LN(u,a,c){return c=c===r?1:X(c),He(oc(u,a),c)}s(LN,"flatMapDepth");function Im(u,a){var c=K(u)?qt:rn;return c(u,V(a,3))}s(Im,"forEach");function Am(u,a){var c=K(u)?rA:Ty;return c(u,V(a,3))}s(Am,"forEachRight");var UN=Ka(function(u,a,c){pe.call(u,c)?u[c].push(a):Er(u,c,[a])});function kN(u,a,c,p){u=st(u)?u:xi(u),c=c&&!p?X(c):0;var d=u.length;return c<0&&(c=Ue(d+c,0)),fc(u)?c<=d&&u.indexOf(a,c)>-1:!!d&&gi(u,a,c)>-1}s(kN,"includes");var FN=ee(function(u,a,c){var p=-1,d=typeof a=="function",y=st(u)?C(u.length):[];return rn(u,function(g){y[++p]=d?yt(a,g,c):Fo(g,a,c)}),y}),BN=Ka(function(u,a,c){Er(u,c,a)});function oc(u,a){var c=K(u)?Oe:Ny;return c(u,V(a,3))}s(oc,"map");function WN(u,a,c,p){return u==null?[]:(K(a)||(a=a==null?[]:[a]),c=p?r:c,K(c)||(c=c==null?[]:[c]),My(u,a,c))}s(WN,"orderBy");var VN=Ka(function(u,a,c){u[c?0:1].push(a)},function(){return[[],[]]});function HN(u,a,c){var p=K(u)?El:uy,d=arguments.length<3;return p(u,V(a,4),c,d,rn)}s(HN,"reduce");function zN(u,a,c){var p=K(u)?nA:uy,d=arguments.length<3;return p(u,V(a,4),c,d,Ty)}s(zN,"reduceRight");function YN(u,a){var c=K(u)?Qr:Cy;return c(u,ac(V(a,3)))}s(YN,"reject");function GN(u){var a=K(u)?Oy:kR;return a(u)}s(GN,"sample");function $N(u,a,c){(c?Je(u,a,c):a===r)?a=1:a=X(a);var p=K(u)?vR:FR;return p(u,a)}s($N,"sampleSize");function ZN(u){var a=K(u)?bR:WR;return a(u)}s(ZN,"shuffle");function KN(u){if(u==null)return 0;if(st(u))return fc(u)?Si(u):u.length;var a=Ye(u);return a==Yt||a==Gt?u.size:Wl(u).length}s(KN,"size");function QN(u,a,c){var p=K(u)?wl:VR;return c&&Je(u,a,c)&&(a=r),p(u,V(a,3))}s(QN,"some");var XN=ee(function(u,a){if(u==null)return[];var c=a.length;return c>1&&Je(u,a[0],a[1])?a=[]:c>2&&Je(a[0],a[1],a[2])&&(a=[a[0]]),My(u,He(a,1),[])}),uc=NA||function(){return We.Date.now()};function JN(u,a){if(typeof a!="function")throw new Dt(i);return u=X(u),function(){if(--u<1)return a.apply(this,arguments)}}s(JN,"after");function Rm(u,a,c){return a=c?r:a,a=u&&a==null?u.length:a,wr(u,Be,r,r,r,r,a)}s(Rm,"ary");function xm(u,a){var c;if(typeof a!="function")throw new Dt(i);return u=X(u),function(){return--u>0&&(c=a.apply(this,arguments)),u<=1&&(a=r),c}}s(xm,"before");var hh=ee(function(u,a,c){var p=U;if(c.length){var d=Jr(c,Ai(hh));p|=ce}return wr(u,p,a,c,d)}),Nm=ee(function(u,a,c){var p=U|G;if(c.length){var d=Jr(c,Ai(Nm));p|=ce}return wr(a,p,u,c,d)});function qm(u,a,c){a=c?r:a;var p=wr(u,B,r,r,r,r,r,a);return p.placeholder=qm.placeholder,p}s(qm,"curry");function Dm(u,a,c){a=c?r:a;var p=wr(u,ue,r,r,r,r,r,a);return p.placeholder=Dm.placeholder,p}s(Dm,"curryRight");function jm(u,a,c){var p,d,y,g,S,w,R=0,x=!1,q=!1,M=!0;if(typeof u!="function")throw new Dt(i);a=kt(a)||0,we(c)&&(x=!!c.leading,q="maxWait"in c,y=q?Ue(kt(c.maxWait)||0,a):y,M="trailing"in c?!!c.trailing:M);function F(De){var Qt=p,Ar=d;return p=d=r,R=De,g=u.apply(Ar,Qt),g}s(F,"invokeFunc");function z(De){return R=De,S=zo(ne,a),x?F(De):g}s(z,"leadingEdge");function J(De){var Qt=De-w,Ar=De-R,eg=a-Qt;return q?ze(eg,y-Ar):eg}s(J,"remainingWait");function Y(De){var Qt=De-w,Ar=De-R;return w===r||Qt>=a||Qt<0||q&&Ar>=y}s(Y,"shouldInvoke");function ne(){var De=uc();if(Y(De))return oe(De);S=zo(ne,J(De))}s(ne,"timerExpired");function oe(De){return S=r,M&&p?F(De):(p=d=r,g)}s(oe,"trailingEdge");function St(){S!==r&&zy(S),R=0,p=w=d=S=r}s(St,"cancel");function et(){return S===r?g:oe(uc())}s(et,"flush");function Et(){var De=uc(),Qt=Y(De);if(p=arguments,d=this,w=De,Qt){if(S===r)return z(w);if(q)return zy(S),S=zo(ne,a),F(w)}return S===r&&(S=zo(ne,a)),g}return s(Et,"debounced"),Et.cancel=St,Et.flush=et,Et}s(jm,"debounce");var eq=ee(function(u,a){return wy(u,1,a)}),tq=ee(function(u,a,c){return wy(u,kt(a)||0,c)});function rq(u){return wr(u,xt)}s(rq,"flip");function sc(u,a){if(typeof u!="function"||a!=null&&typeof a!="function")throw new Dt(i);var c=s(function(){var p=arguments,d=a?a.apply(this,p):p[0],y=c.cache;if(y.has(d))return y.get(d);var g=u.apply(this,p);return c.cache=y.set(d,g)||y,g},"memoized");return c.cache=new(sc.Cache||Sr),c}s(sc,"memoize"),sc.Cache=Sr;function ac(u){if(typeof u!="function")throw new Dt(i);return function(){var a=arguments;switch(a.length){case 0:return!u.call(this);case 1:return!u.call(this,a[0]);case 2:return!u.call(this,a[0],a[1]);case 3:return!u.call(this,a[0],a[1],a[2])}return!u.apply(this,a)}}s(ac,"negate");function nq(u){return xm(2,u)}s(nq,"once");var iq=HR(function(u,a){a=a.length==1&&K(a[0])?Oe(a[0],mt(V())):Oe(He(a,1),mt(V()));var c=a.length;return ee(function(p){for(var d=-1,y=ze(p.length,c);++d<y;)p[d]=a[d].call(this,p[d]);return yt(u,this,p)})}),ph=ee(function(u,a){var c=Jr(a,Ai(ph));return wr(u,ce,r,a,c)}),Mm=ee(function(u,a){var c=Jr(a,Ai(Mm));return wr(u,Ae,r,a,c)}),oq=Tr(function(u,a){return wr(u,zt,r,r,r,a)});function uq(u,a){if(typeof u!="function")throw new Dt(i);return a=a===r?a:X(a),ee(u,a)}s(uq,"rest");function sq(u,a){if(typeof u!="function")throw new Dt(i);return a=a==null?0:Ue(X(a),0),ee(function(c){var p=c[a],d=un(c,0,a);return p&&Xr(d,p),yt(u,this,d)})}s(sq,"spread");function aq(u,a,c){var p=!0,d=!0;if(typeof u!="function")throw new Dt(i);return we(c)&&(p="leading"in c?!!c.leading:p,d="trailing"in c?!!c.trailing:d),jm(u,a,{leading:p,maxWait:a,trailing:d})}s(aq,"throttle");function cq(u){return Rm(u,1)}s(cq,"unary");function fq(u,a){return ph(Ql(a),u)}s(fq,"wrap");function lq(){if(!arguments.length)return[];var u=arguments[0];return K(u)?u:[u]}s(lq,"castArray");function hq(u){return Mt(u,O)}s(hq,"clone");function pq(u,a){return a=typeof a=="function"?a:r,Mt(u,O,a)}s(pq,"cloneWith");function _q(u){return Mt(u,l|O)}s(_q,"cloneDeep");function dq(u,a){return a=typeof a=="function"?a:r,Mt(u,l|O,a)}s(dq,"cloneDeepWith");function vq(u,a){return a==null||Ey(u,a,Ve(a))}s(vq,"conformsTo");function Kt(u,a){return u===a||u!==u&&a!==a}s(Kt,"eq");var bq=ec(kl),yq=ec(function(u,a){return u>=a}),xn=Ay(function(){return arguments}())?Ay:function(u){return Re(u)&&pe.call(u,"callee")&&!dy.call(u,"callee")},K=C.isArray,mq=Kb?mt(Kb):PR;function st(u){return u!=null&&cc(u.length)&&!Pr(u)}s(st,"isArrayLike");function qe(u){return Re(u)&&st(u)}s(qe,"isArrayLikeObject");function gq(u){return u===!0||u===!1||Re(u)&&Xe(u)==To}s(gq,"isBoolean");var sn=DA||wh,Oq=Qb?mt(Qb):IR;function Sq(u){return Re(u)&&u.nodeType===1&&!Yo(u)}s(Sq,"isElement");function Eq(u){if(u==null)return!0;if(st(u)&&(K(u)||typeof u=="string"||typeof u.splice=="function"||sn(u)||Ri(u)||xn(u)))return!u.length;var a=Ye(u);if(a==Yt||a==Gt)return!u.size;if(Ho(u))return!Wl(u).length;for(var c in u)if(pe.call(u,c))return!1;return!0}s(Eq,"isEmpty");function wq(u,a){return Bo(u,a)}s(wq,"isEqual");function Tq(u,a,c){c=typeof c=="function"?c:r;var p=c?c(u,a):r;return p===r?Bo(u,a,r,c):!!p}s(Tq,"isEqualWith");function _h(u){if(!Re(u))return!1;var a=Xe(u);return a==Oa||a==$P||typeof u.message=="string"&&typeof u.name=="string"&&!Yo(u)}s(_h,"isError");function Cq(u){return typeof u=="number"&&by(u)}s(Cq,"isFinite");function Pr(u){if(!we(u))return!1;var a=Xe(u);return a==Sa||a==wb||a==GP||a==KP}s(Pr,"isFunction");function Lm(u){return typeof u=="number"&&u==X(u)}s(Lm,"isInteger");function cc(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Kr}s(cc,"isLength");function we(u){var a=typeof u;return u!=null&&(a=="object"||a=="function")}s(we,"isObject");function Re(u){return u!=null&&typeof u=="object"}s(Re,"isObjectLike");var Um=Xb?mt(Xb):RR;function Pq(u,a){return u===a||Bl(u,a,ih(a))}s(Pq,"isMatch");function Iq(u,a,c){return c=typeof c=="function"?c:r,Bl(u,a,ih(a),c)}s(Iq,"isMatchWith");function Aq(u){return km(u)&&u!=+u}s(Aq,"isNaN");function Rq(u){if(px(u))throw new Z(n);return Ry(u)}s(Rq,"isNative");function xq(u){return u===null}s(xq,"isNull");function Nq(u){return u==null}s(Nq,"isNil");function km(u){return typeof u=="number"||Re(u)&&Xe(u)==Po}s(km,"isNumber");function Yo(u){if(!Re(u)||Xe(u)!=gr)return!1;var a=Ma(u);if(a===null)return!0;var c=pe.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Na.call(c)==IA}s(Yo,"isPlainObject");var dh=Jb?mt(Jb):xR;function qq(u){return Lm(u)&&u>=-Kr&&u<=Kr}s(qq,"isSafeInteger");var Fm=ey?mt(ey):NR;function fc(u){return typeof u=="string"||!K(u)&&Re(u)&&Xe(u)==Ao}s(fc,"isString");function Ot(u){return typeof u=="symbol"||Re(u)&&Xe(u)==Ea}s(Ot,"isSymbol");var Ri=ty?mt(ty):qR;function Dq(u){return u===r}s(Dq,"isUndefined");function jq(u){return Re(u)&&Ye(u)==Ro}s(jq,"isWeakMap");function Mq(u){return Re(u)&&Xe(u)==XP}s(Mq,"isWeakSet");var Lq=ec(Vl),Uq=ec(function(u,a){return u<=a});function Bm(u){if(!u)return[];if(st(u))return fc(u)?$t(u):ut(u);if(qo&&u[qo])return vA(u[qo]());var a=Ye(u),c=a==Yt?Rl:a==Gt?Aa:xi;return c(u)}s(Bm,"toArray");function Ir(u){if(!u)return u===0?u:0;if(u=kt(u),u===Sn||u===-Sn){var a=u<0?-1:1;return a*VP}return u===u?u:0}s(Ir,"toFinite");function X(u){var a=Ir(u),c=a%1;return a===a?c?a-c:a:0}s(X,"toInteger");function Wm(u){return u?Pn(X(u),0,cr):0}s(Wm,"toLength");function kt(u){if(typeof u=="number")return u;if(Ot(u))return ma;if(we(u)){var a=typeof u.valueOf=="function"?u.valueOf():u;u=we(a)?a+"":a}if(typeof u!="string")return u===0?u:+u;u=sy(u);var c=mI.test(u);return c||OI.test(u)?JI(u.slice(2),c?2:8):yI.test(u)?ma:+u}s(kt,"toNumber");function Vm(u){return lr(u,at(u))}s(Vm,"toPlainObject");function kq(u){return u?Pn(X(u),-Kr,Kr):u===0?u:0}s(kq,"toSafeInteger");function he(u){return u==null?"":gt(u)}s(he,"toString");var Fq=Pi(function(u,a){if(Ho(a)||st(a)){lr(a,Ve(a),u);return}for(var c in a)pe.call(a,c)&&Uo(u,c,a[c])}),Hm=Pi(function(u,a){lr(a,at(a),u)}),lc=Pi(function(u,a,c,p){lr(a,at(a),u,p)}),Bq=Pi(function(u,a,c,p){lr(a,Ve(a),u,p)}),Wq=Tr(Ml);function Vq(u,a){var c=Ci(u);return a==null?c:Sy(c,a)}s(Vq,"create");var Hq=ee(function(u,a){u=ve(u);var c=-1,p=a.length,d=p>2?a[2]:r;for(d&&Je(a[0],a[1],d)&&(p=1);++c<p;)for(var y=a[c],g=at(y),S=-1,w=g.length;++S<w;){var R=g[S],x=u[R];(x===r||Kt(x,Ei[R])&&!pe.call(u,R))&&(u[R]=y[R])}return u}),zq=ee(function(u){return u.push(r,sm),yt(zm,r,u)});function Yq(u,a){return ny(u,V(a,3),fr)}s(Yq,"findKey");function Gq(u,a){return ny(u,V(a,3),Ul)}s(Gq,"findLastKey");function $q(u,a){return u==null?u:Ll(u,V(a,3),at)}s($q,"forIn");function Zq(u,a){return u==null?u:Py(u,V(a,3),at)}s(Zq,"forInRight");function Kq(u,a){return u&&fr(u,V(a,3))}s(Kq,"forOwn");function Qq(u,a){return u&&Ul(u,V(a,3))}s(Qq,"forOwnRight");function Xq(u){return u==null?[]:Ya(u,Ve(u))}s(Xq,"functions");function Jq(u){return u==null?[]:Ya(u,at(u))}s(Jq,"functionsIn");function vh(u,a,c){var p=u==null?r:In(u,a);return p===r?c:p}s(vh,"get");function eD(u,a){return u!=null&&fm(u,a,ER)}s(eD,"has");function bh(u,a){return u!=null&&fm(u,a,wR)}s(bh,"hasIn");var tD=rm(function(u,a,c){a!=null&&typeof a.toString!="function"&&(a=qa.call(a)),u[a]=c},mh(ct)),rD=rm(function(u,a,c){a!=null&&typeof a.toString!="function"&&(a=qa.call(a)),pe.call(u,a)?u[a].push(c):u[a]=[c]},V),nD=ee(Fo);function Ve(u){return st(u)?gy(u):Wl(u)}s(Ve,"keys");function at(u){return st(u)?gy(u,!0):DR(u)}s(at,"keysIn");function iD(u,a){var c={};return a=V(a,3),fr(u,function(p,d,y){Er(c,a(p,d,y),p)}),c}s(iD,"mapKeys");function oD(u,a){var c={};return a=V(a,3),fr(u,function(p,d,y){Er(c,d,a(p,d,y))}),c}s(oD,"mapValues");var uD=Pi(function(u,a,c){Ga(u,a,c)}),zm=Pi(function(u,a,c,p){Ga(u,a,c,p)}),sD=Tr(function(u,a){var c={};if(u==null)return c;var p=!1;a=Oe(a,function(y){return y=on(y,u),p||(p=y.length>1),y}),lr(u,rh(u),c),p&&(c=Mt(c,l|v|O,tx));for(var d=a.length;d--;)$l(c,a[d]);return c});function aD(u,a){return Ym(u,ac(V(a)))}s(aD,"omitBy");var cD=Tr(function(u,a){return u==null?{}:MR(u,a)});function Ym(u,a){if(u==null)return{};var c=Oe(rh(u),function(p){return[p]});return a=V(a),Ly(u,c,function(p,d){return a(p,d[0])})}s(Ym,"pickBy");function fD(u,a,c){a=on(a,u);var p=-1,d=a.length;for(d||(d=1,u=r);++p<d;){var y=u==null?r:u[hr(a[p])];y===r&&(p=d,y=c),u=Pr(y)?y.call(u):y}return u}s(fD,"result");function lD(u,a,c){return u==null?u:Wo(u,a,c)}s(lD,"set");function hD(u,a,c,p){return p=typeof p=="function"?p:r,u==null?u:Wo(u,a,c,p)}s(hD,"setWith");var Gm=om(Ve),$m=om(at);function pD(u,a,c){var p=K(u),d=p||sn(u)||Ri(u);if(a=V(a,4),c==null){var y=u&&u.constructor;d?c=p?new y:[]:we(u)?c=Pr(y)?Ci(Ma(u)):{}:c={}}return(d?qt:fr)(u,function(g,S,w){return a(c,g,S,w)}),c}s(pD,"transform");function _D(u,a){return u==null?!0:$l(u,a)}s(_D,"unset");function dD(u,a,c){return u==null?u:Wy(u,a,Ql(c))}s(dD,"update");function vD(u,a,c,p){return p=typeof p=="function"?p:r,u==null?u:Wy(u,a,Ql(c),p)}s(vD,"updateWith");function xi(u){return u==null?[]:Al(u,Ve(u))}s(xi,"values");function bD(u){return u==null?[]:Al(u,at(u))}s(bD,"valuesIn");function yD(u,a,c){return c===r&&(c=a,a=r),c!==r&&(c=kt(c),c=c===c?c:0),a!==r&&(a=kt(a),a=a===a?a:0),Pn(kt(u),a,c)}s(yD,"clamp");function mD(u,a,c){return a=Ir(a),c===r?(c=a,a=0):c=Ir(c),u=kt(u),TR(u,a,c)}s(mD,"inRange");function gD(u,a,c){if(c&&typeof c!="boolean"&&Je(u,a,c)&&(a=c=r),c===r&&(typeof a=="boolean"?(c=a,a=r):typeof u=="boolean"&&(c=u,u=r)),u===r&&a===r?(u=0,a=1):(u=Ir(u),a===r?(a=u,u=0):a=Ir(a)),u>a){var p=u;u=a,a=p}if(c||u%1||a%1){var d=yy();return ze(u+d*(a-u+XI("1e-"+((d+"").length-1))),a)}return zl(u,a)}s(gD,"random");var OD=Ii(function(u,a,c){return a=a.toLowerCase(),u+(c?Zm(a):a)});function Zm(u){return yh(he(u).toLowerCase())}s(Zm,"capitalize");function Km(u){return u=he(u),u&&u.replace(EI,lA).replace(WI,"")}s(Km,"deburr");function SD(u,a,c){u=he(u),a=gt(a);var p=u.length;c=c===r?p:Pn(X(c),0,p);var d=c;return c-=a.length,c>=0&&u.slice(c,d)==a}s(SD,"endsWith");function ED(u){return u=he(u),u&&nI.test(u)?u.replace(Pb,hA):u}s(ED,"escape");function wD(u){return u=he(u),u&&cI.test(u)?u.replace(pl,"\\$&"):u}s(wD,"escapeRegExp");var TD=Ii(function(u,a,c){return u+(c?"-":"")+a.toLowerCase()}),CD=Ii(function(u,a,c){return u+(c?" ":"")+a.toLowerCase()}),PD=Jy("toLowerCase");function ID(u,a,c){u=he(u),a=X(a);var p=a?Si(u):0;if(!a||p>=a)return u;var d=(a-p)/2;return Ja(Fa(d),c)+u+Ja(ka(d),c)}s(ID,"pad");function AD(u,a,c){u=he(u),a=X(a);var p=a?Si(u):0;return a&&p<a?u+Ja(a-p,c):u}s(AD,"padEnd");function RD(u,a,c){u=he(u),a=X(a);var p=a?Si(u):0;return a&&p<a?Ja(a-p,c)+u:u}s(RD,"padStart");function xD(u,a,c){return c||a==null?a=0:a&&(a=+a),UA(he(u).replace(_l,""),a||0)}s(xD,"parseInt");function ND(u,a,c){return(c?Je(u,a,c):a===r)?a=1:a=X(a),Yl(he(u),a)}s(ND,"repeat");function qD(){var u=arguments,a=he(u[0]);return u.length<3?a:a.replace(u[1],u[2])}s(qD,"replace");var DD=Ii(function(u,a,c){return u+(c?"_":"")+a.toLowerCase()});function jD(u,a,c){return c&&typeof c!="number"&&Je(u,a,c)&&(a=c=r),c=c===r?cr:c>>>0,c?(u=he(u),u&&(typeof a=="string"||a!=null&&!dh(a))&&(a=gt(a),!a&&Oi(u))?un($t(u),0,c):u.split(a,c)):[]}s(jD,"split");var MD=Ii(function(u,a,c){return u+(c?" ":"")+yh(a)});function LD(u,a,c){return u=he(u),c=c==null?0:Pn(X(c),0,u.length),a=gt(a),u.slice(c,c+a.length)==a}s(LD,"startsWith");function UD(u,a,c){var p=b.templateSettings;c&&Je(u,a,c)&&(a=r),u=he(u),a=lc({},a,p,um);var d=lc({},a.imports,p.imports,um),y=Ve(d),g=Al(d,y),S,w,R=0,x=a.interpolate||wa,q="__p += '",M=xl((a.escape||wa).source+"|"+x.source+"|"+(x===Ib?bI:wa).source+"|"+(a.evaluate||wa).source+"|$","g"),F="//# sourceURL="+(pe.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++GI+"]")+`
`;u.replace(M,function(Y,ne,oe,St,et,Et){return oe||(oe=St),q+=u.slice(R,Et).replace(wI,pA),ne&&(S=!0,q+=`' +
__e(`+ne+`) +
'`),et&&(w=!0,q+=`';
`+et+`;
__p += '`),oe&&(q+=`' +
((__t = (`+oe+`)) == null ? '' : __t) +
'`),R=Et+Y.length,Y}),q+=`';
`;var z=pe.call(a,"variable")&&a.variable;if(!z)q=`with (obj) {
`+q+`
}
`;else if(dI.test(z))throw new Z(o);q=(w?q.replace(JP,""):q).replace(eI,"$1").replace(tI,"$1;"),q="function("+(z||"obj")+`) {
`+(z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+q+`return __p
}`;var J=Xm(function(){return le(y,F+"return "+q).apply(r,g)});if(J.source=q,_h(J))throw J;return J}s(UD,"template");function kD(u){return he(u).toLowerCase()}s(kD,"toLower");function FD(u){return he(u).toUpperCase()}s(FD,"toUpper");function BD(u,a,c){if(u=he(u),u&&(c||a===r))return sy(u);if(!u||!(a=gt(a)))return u;var p=$t(u),d=$t(a),y=ay(p,d),g=cy(p,d)+1;return un(p,y,g).join("")}s(BD,"trim");function WD(u,a,c){if(u=he(u),u&&(c||a===r))return u.slice(0,ly(u)+1);if(!u||!(a=gt(a)))return u;var p=$t(u),d=cy(p,$t(a))+1;return un(p,0,d).join("")}s(WD,"trimEnd");function VD(u,a,c){if(u=he(u),u&&(c||a===r))return u.replace(_l,"");if(!u||!(a=gt(a)))return u;var p=$t(u),d=ay(p,$t(a));return un(p,d).join("")}s(VD,"trimStart");function HD(u,a){var c=wo,p=UP;if(we(a)){var d="separator"in a?a.separator:d;c="length"in a?X(a.length):c,p="omission"in a?gt(a.omission):p}u=he(u);var y=u.length;if(Oi(u)){var g=$t(u);y=g.length}if(c>=y)return u;var S=c-Si(p);if(S<1)return p;var w=g?un(g,0,S).join(""):u.slice(0,S);if(d===r)return w+p;if(g&&(S+=w.length-S),dh(d)){if(u.slice(S).search(d)){var R,x=w;for(d.global||(d=xl(d.source,he(Ab.exec(d))+"g")),d.lastIndex=0;R=d.exec(x);)var q=R.index;w=w.slice(0,q===r?S:q)}}else if(u.indexOf(gt(d),S)!=S){var M=w.lastIndexOf(d);M>-1&&(w=w.slice(0,M))}return w+p}s(HD,"truncate");function zD(u){return u=he(u),u&&rI.test(u)?u.replace(Cb,gA):u}s(zD,"unescape");var YD=Ii(function(u,a,c){return u+(c?" ":"")+a.toUpperCase()}),yh=Jy("toUpperCase");function Qm(u,a,c){return u=he(u),a=c?r:a,a===r?dA(u)?EA(u):uA(u):u.match(a)||[]}s(Qm,"words");var Xm=ee(function(u,a){try{return yt(u,r,a)}catch(c){return _h(c)?c:new Z(c)}}),GD=Tr(function(u,a){return qt(a,function(c){c=hr(c),Er(u,c,hh(u[c],u))}),u});function $D(u){var a=u==null?0:u.length,c=V();return u=a?Oe(u,function(p){if(typeof p[1]!="function")throw new Dt(i);return[c(p[0]),p[1]]}):[],ee(function(p){for(var d=-1;++d<a;){var y=u[d];if(yt(y[0],this,p))return yt(y[1],this,p)}})}s($D,"cond");function ZD(u){return gR(Mt(u,l))}s(ZD,"conforms");function mh(u){return function(){return u}}s(mh,"constant");function KD(u,a){return u==null||u!==u?a:u}s(KD,"defaultTo");var QD=tm(),XD=tm(!0);function ct(u){return u}s(ct,"identity");function gh(u){return xy(typeof u=="function"?u:Mt(u,l))}s(gh,"iteratee");function JD(u){return qy(Mt(u,l))}s(JD,"matches");function ej(u,a){return Dy(u,Mt(a,l))}s(ej,"matchesProperty");var tj=ee(function(u,a){return function(c){return Fo(c,u,a)}}),rj=ee(function(u,a){return function(c){return Fo(u,c,a)}});function Oh(u,a,c){var p=Ve(a),d=Ya(a,p);c==null&&!(we(a)&&(d.length||!p.length))&&(c=a,a=u,u=this,d=Ya(a,Ve(a)));var y=!(we(c)&&"chain"in c)||!!c.chain,g=Pr(u);return qt(d,function(S){var w=a[S];u[S]=w,g&&(u.prototype[S]=function(){var R=this.__chain__;if(y||R){var x=u(this.__wrapped__),q=x.__actions__=ut(this.__actions__);return q.push({func:w,args:arguments,thisArg:u}),x.__chain__=R,x}return w.apply(u,Xr([this.value()],arguments))})}),u}s(Oh,"mixin");function nj(){return We._===this&&(We._=AA),this}s(nj,"noConflict");function Sh(){}s(Sh,"noop");function ij(u){return u=X(u),ee(function(a){return jy(a,u)})}s(ij,"nthArg");var oj=Jl(Oe),uj=Jl(ry),sj=Jl(wl);function Jm(u){return uh(u)?Tl(hr(u)):LR(u)}s(Jm,"property");function aj(u){return function(a){return u==null?r:In(u,a)}}s(aj,"propertyOf");var cj=nm(),fj=nm(!0);function Eh(){return[]}s(Eh,"stubArray");function wh(){return!1}s(wh,"stubFalse");function lj(){return{}}s(lj,"stubObject");function hj(){return""}s(hj,"stubString");function pj(){return!0}s(pj,"stubTrue");function _j(u,a){if(u=X(u),u<1||u>Kr)return[];var c=cr,p=ze(u,cr);a=V(a),u-=cr;for(var d=Il(p,a);++c<u;)a(c);return d}s(_j,"times");function dj(u){return K(u)?Oe(u,hr):Ot(u)?[u]:ut(mm(he(u)))}s(dj,"toPath");function vj(u){var a=++PA;return he(u)+a}s(vj,"uniqueId");var bj=Xa(function(u,a){return u+a},0),yj=eh("ceil"),mj=Xa(function(u,a){return u/a},1),gj=eh("floor");function Oj(u){return u&&u.length?za(u,ct,kl):r}s(Oj,"max");function Sj(u,a){return u&&u.length?za(u,V(a,2),kl):r}s(Sj,"maxBy");function Ej(u){return oy(u,ct)}s(Ej,"mean");function wj(u,a){return oy(u,V(a,2))}s(wj,"meanBy");function Tj(u){return u&&u.length?za(u,ct,Vl):r}s(Tj,"min");function Cj(u,a){return u&&u.length?za(u,V(a,2),Vl):r}s(Cj,"minBy");var Pj=Xa(function(u,a){return u*a},1),Ij=eh("round"),Aj=Xa(function(u,a){return u-a},0);function Rj(u){return u&&u.length?Pl(u,ct):0}s(Rj,"sum");function xj(u,a){return u&&u.length?Pl(u,V(a,2)):0}return s(xj,"sumBy"),b.after=JN,b.ary=Rm,b.assign=Fq,b.assignIn=Hm,b.assignInWith=lc,b.assignWith=Bq,b.at=Wq,b.before=xm,b.bind=hh,b.bindAll=GD,b.bindKey=Nm,b.castArray=lq,b.chain=Pm,b.chunk=gx,b.compact=Ox,b.concat=Sx,b.cond=$D,b.conforms=ZD,b.constant=mh,b.countBy=RN,b.create=Vq,b.curry=qm,b.curryRight=Dm,b.debounce=jm,b.defaults=Hq,b.defaultsDeep=zq,b.defer=eq,b.delay=tq,b.difference=Ex,b.differenceBy=wx,b.differenceWith=Tx,b.drop=Cx,b.dropRight=Px,b.dropRightWhile=Ix,b.dropWhile=Ax,b.fill=Rx,b.filter=NN,b.flatMap=jN,b.flatMapDeep=MN,b.flatMapDepth=LN,b.flatten=Em,b.flattenDeep=xx,b.flattenDepth=Nx,b.flip=rq,b.flow=QD,b.flowRight=XD,b.fromPairs=qx,b.functions=Xq,b.functionsIn=Jq,b.groupBy=UN,b.initial=jx,b.intersection=Mx,b.intersectionBy=Lx,b.intersectionWith=Ux,b.invert=tD,b.invertBy=rD,b.invokeMap=FN,b.iteratee=gh,b.keyBy=BN,b.keys=Ve,b.keysIn=at,b.map=oc,b.mapKeys=iD,b.mapValues=oD,b.matches=JD,b.matchesProperty=ej,b.memoize=sc,b.merge=uD,b.mergeWith=zm,b.method=tj,b.methodOf=rj,b.mixin=Oh,b.negate=ac,b.nthArg=ij,b.omit=sD,b.omitBy=aD,b.once=nq,b.orderBy=WN,b.over=oj,b.overArgs=iq,b.overEvery=uj,b.overSome=sj,b.partial=ph,b.partialRight=Mm,b.partition=VN,b.pick=cD,b.pickBy=Ym,b.property=Jm,b.propertyOf=aj,b.pull=Wx,b.pullAll=Tm,b.pullAllBy=Vx,b.pullAllWith=Hx,b.pullAt=zx,b.range=cj,b.rangeRight=fj,b.rearg=oq,b.reject=YN,b.remove=Yx,b.rest=uq,b.reverse=fh,b.sampleSize=$N,b.set=lD,b.setWith=hD,b.shuffle=ZN,b.slice=Gx,b.sortBy=XN,b.sortedUniq=eN,b.sortedUniqBy=tN,b.split=jD,b.spread=sq,b.tail=rN,b.take=nN,b.takeRight=iN,b.takeRightWhile=oN,b.takeWhile=uN,b.tap=ON,b.throttle=aq,b.thru=ic,b.toArray=Bm,b.toPairs=Gm,b.toPairsIn=$m,b.toPath=dj,b.toPlainObject=Vm,b.transform=pD,b.unary=cq,b.union=sN,b.unionBy=aN,b.unionWith=cN,b.uniq=fN,b.uniqBy=lN,b.uniqWith=hN,b.unset=_D,b.unzip=lh,b.unzipWith=Cm,b.update=dD,b.updateWith=vD,b.values=xi,b.valuesIn=bD,b.without=pN,b.words=Qm,b.wrap=fq,b.xor=_N,b.xorBy=dN,b.xorWith=vN,b.zip=bN,b.zipObject=yN,b.zipObjectDeep=mN,b.zipWith=gN,b.entries=Gm,b.entriesIn=$m,b.extend=Hm,b.extendWith=lc,Oh(b,b),b.add=bj,b.attempt=Xm,b.camelCase=OD,b.capitalize=Zm,b.ceil=yj,b.clamp=yD,b.clone=hq,b.cloneDeep=_q,b.cloneDeepWith=dq,b.cloneWith=pq,b.conformsTo=vq,b.deburr=Km,b.defaultTo=KD,b.divide=mj,b.endsWith=SD,b.eq=Kt,b.escape=ED,b.escapeRegExp=wD,b.every=xN,b.find=qN,b.findIndex=Om,b.findKey=Yq,b.findLast=DN,b.findLastIndex=Sm,b.findLastKey=Gq,b.floor=gj,b.forEach=Im,b.forEachRight=Am,b.forIn=$q,b.forInRight=Zq,b.forOwn=Kq,b.forOwnRight=Qq,b.get=vh,b.gt=bq,b.gte=yq,b.has=eD,b.hasIn=bh,b.head=wm,b.identity=ct,b.includes=kN,b.indexOf=Dx,b.inRange=mD,b.invoke=nD,b.isArguments=xn,b.isArray=K,b.isArrayBuffer=mq,b.isArrayLike=st,b.isArrayLikeObject=qe,b.isBoolean=gq,b.isBuffer=sn,b.isDate=Oq,b.isElement=Sq,b.isEmpty=Eq,b.isEqual=wq,b.isEqualWith=Tq,b.isError=_h,b.isFinite=Cq,b.isFunction=Pr,b.isInteger=Lm,b.isLength=cc,b.isMap=Um,b.isMatch=Pq,b.isMatchWith=Iq,b.isNaN=Aq,b.isNative=Rq,b.isNil=Nq,b.isNull=xq,b.isNumber=km,b.isObject=we,b.isObjectLike=Re,b.isPlainObject=Yo,b.isRegExp=dh,b.isSafeInteger=qq,b.isSet=Fm,b.isString=fc,b.isSymbol=Ot,b.isTypedArray=Ri,b.isUndefined=Dq,b.isWeakMap=jq,b.isWeakSet=Mq,b.join=kx,b.kebabCase=TD,b.last=Ut,b.lastIndexOf=Fx,b.lowerCase=CD,b.lowerFirst=PD,b.lt=Lq,b.lte=Uq,b.max=Oj,b.maxBy=Sj,b.mean=Ej,b.meanBy=wj,b.min=Tj,b.minBy=Cj,b.stubArray=Eh,b.stubFalse=wh,b.stubObject=lj,b.stubString=hj,b.stubTrue=pj,b.multiply=Pj,b.nth=Bx,b.noConflict=nj,b.noop=Sh,b.now=uc,b.pad=ID,b.padEnd=AD,b.padStart=RD,b.parseInt=xD,b.random=gD,b.reduce=HN,b.reduceRight=zN,b.repeat=ND,b.replace=qD,b.result=fD,b.round=Ij,b.runInContext=E,b.sample=GN,b.size=KN,b.snakeCase=DD,b.some=QN,b.sortedIndex=$x,b.sortedIndexBy=Zx,b.sortedIndexOf=Kx,b.sortedLastIndex=Qx,b.sortedLastIndexBy=Xx,b.sortedLastIndexOf=Jx,b.startCase=MD,b.startsWith=LD,b.subtract=Aj,b.sum=Rj,b.sumBy=xj,b.template=UD,b.times=_j,b.toFinite=Ir,b.toInteger=X,b.toLength=Wm,b.toLower=kD,b.toNumber=kt,b.toSafeInteger=kq,b.toString=he,b.toUpper=FD,b.trim=BD,b.trimEnd=WD,b.trimStart=VD,b.truncate=HD,b.unescape=zD,b.uniqueId=vj,b.upperCase=YD,b.upperFirst=yh,b.each=Im,b.eachRight=Am,b.first=wm,Oh(b,function(){var u={};return fr(b,function(a,c){pe.call(b.prototype,c)||(u[c]=a)}),u}(),{chain:!1}),b.VERSION=t,qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){b[u].placeholder=b}),qt(["drop","take"],function(u,a){ie.prototype[u]=function(c){c=c===r?1:Ue(X(c),0);var p=this.__filtered__&&!a?new ie(this):this.clone();return p.__filtered__?p.__takeCount__=ze(c,p.__takeCount__):p.__views__.push({size:ze(c,cr),type:u+(p.__dir__<0?"Right":"")}),p},ie.prototype[u+"Right"]=function(c){return this.reverse()[u](c).reverse()}}),qt(["filter","map","takeWhile"],function(u,a){var c=a+1,p=c==Eb||c==WP;ie.prototype[u]=function(d){var y=this.clone();return y.__iteratees__.push({iteratee:V(d,3),type:c}),y.__filtered__=y.__filtered__||p,y}}),qt(["head","last"],function(u,a){var c="take"+(a?"Right":"");ie.prototype[u]=function(){return this[c](1).value()[0]}}),qt(["initial","tail"],function(u,a){var c="drop"+(a?"":"Right");ie.prototype[u]=function(){return this.__filtered__?new ie(this):this[c](1)}}),ie.prototype.compact=function(){return this.filter(ct)},ie.prototype.find=function(u){return this.filter(u).head()},ie.prototype.findLast=function(u){return this.reverse().find(u)},ie.prototype.invokeMap=ee(function(u,a){return typeof u=="function"?new ie(this):this.map(function(c){return Fo(c,u,a)})}),ie.prototype.reject=function(u){return this.filter(ac(V(u)))},ie.prototype.slice=function(u,a){u=X(u);var c=this;return c.__filtered__&&(u>0||a<0)?new ie(c):(u<0?c=c.takeRight(-u):u&&(c=c.drop(u)),a!==r&&(a=X(a),c=a<0?c.dropRight(-a):c.take(a-u)),c)},ie.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},ie.prototype.toArray=function(){return this.take(cr)},fr(ie.prototype,function(u,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),d=b[p?"take"+(a=="last"?"Right":""):a],y=p||/^find/.test(a);d&&(b.prototype[a]=function(){var g=this.__wrapped__,S=p?[1]:arguments,w=g instanceof ie,R=S[0],x=w||K(g),q=s(function(ne){var oe=d.apply(b,Xr([ne],S));return p&&M?oe[0]:oe},"interceptor");x&&c&&typeof R=="function"&&R.length!=1&&(w=x=!1);var M=this.__chain__,F=!!this.__actions__.length,z=y&&!M,J=w&&!F;if(!y&&x){g=J?g:new ie(this);var Y=u.apply(g,S);return Y.__actions__.push({func:ic,args:[q],thisArg:r}),new jt(Y,M)}return z&&J?u.apply(this,S):(Y=this.thru(q),z?p?Y.value()[0]:Y.value():Y)})}),qt(["pop","push","shift","sort","splice","unshift"],function(u){var a=Ra[u],c=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",p=/^(?:pop|shift)$/.test(u);b.prototype[u]=function(){var d=arguments;if(p&&!this.__chain__){var y=this.value();return a.apply(K(y)?y:[],d)}return this[c](function(g){return a.apply(K(g)?g:[],d)})}}),fr(ie.prototype,function(u,a){var c=b[a];if(c){var p=c.name+"";pe.call(Ti,p)||(Ti[p]=[]),Ti[p].push({name:a,func:c})}}),Ti[Qa(r,G).name]=[{name:"wrapper",func:r}],ie.prototype.clone=zA,ie.prototype.reverse=YA,ie.prototype.value=GA,b.prototype.at=SN,b.prototype.chain=EN,b.prototype.commit=wN,b.prototype.next=TN,b.prototype.plant=PN,b.prototype.reverse=IN,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=AN,b.prototype.first=b.prototype.head,qo&&(b.prototype[qo]=CN),b},"runInContext"),en=wA();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(We._=en,define(function(){return en})):En?((En.exports=en)._=en,gl._=en):We._=en}).call(Ni)});var Nn=m((Tte,$o)=>{function qj(r){return r&&r.__esModule?r:{default:r}}s(qj,"_interopRequireDefault");$o.exports=qj,$o.exports.__esModule=!0,$o.exports.default=$o.exports});var qi=m((Pte,Zo)=>{function Dj(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}s(Dj,"_classCallCheck");Zo.exports=Dj,Zo.exports.__esModule=!0,Zo.exports.default=Zo.exports});var hc=m((Ate,Rr)=>{function Ch(r){"@babel/helpers - typeof";return Rr.exports=Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr.exports.__esModule=!0,Rr.exports.default=Rr.exports,Ch(r)}s(Ch,"_typeof");Rr.exports=Ch,Rr.exports.__esModule=!0,Rr.exports.default=Rr.exports});var rg=m((xte,Ko)=>{var tg=hc().default;function jj(r,t){if(tg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}s(jj,"toPrimitive");Ko.exports=jj,Ko.exports.__esModule=!0,Ko.exports.default=Ko.exports});var ng=m((qte,Qo)=>{var Mj=hc().default,Lj=rg();function Uj(r){var t=Lj(r,"string");return Mj(t)=="symbol"?t:t+""}s(Uj,"toPropertyKey");Qo.exports=Uj,Qo.exports.__esModule=!0,Qo.exports.default=Qo.exports});var Di=m((jte,Xo)=>{var kj=ng();function ig(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,kj(n.key),n)}}s(ig,"_defineProperties");function Fj(r,t,e){return t&&ig(r.prototype,t),e&&ig(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}s(Fj,"_createClass");Xo.exports=Fj,Xo.exports.__esModule=!0,Xo.exports.default=Xo.exports});var og=m((Lte,xr)=>{function Ph(r,t){return xr.exports=Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},xr.exports.__esModule=!0,xr.exports.default=xr.exports,Ph(r,t)}s(Ph,"_setPrototypeOf");xr.exports=Ph,xr.exports.__esModule=!0,xr.exports.default=xr.exports});var ug=m((kte,Jo)=>{var Bj=og();function Wj(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Bj(r,t)}s(Wj,"_inherits");Jo.exports=Wj,Jo.exports.__esModule=!0,Jo.exports.default=Jo.exports});var sg=m((Bte,eu)=>{function Vj(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}s(Vj,"_assertThisInitialized");eu.exports=Vj,eu.exports.__esModule=!0,eu.exports.default=eu.exports});var ag=m((Vte,tu)=>{var Hj=hc().default,zj=sg();function Yj(r,t){if(t&&(Hj(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zj(r)}s(Yj,"_possibleConstructorReturn");tu.exports=Yj,tu.exports.__esModule=!0,tu.exports.default=tu.exports});var cg=m((zte,Nr)=>{function Ih(r){return Nr.exports=Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nr.exports.__esModule=!0,Nr.exports.default=Nr.exports,Ih(r)}s(Ih,"_getPrototypeOf");Nr.exports=Ih,Nr.exports.__esModule=!0,Nr.exports.default=Nr.exports});var lt=m(ft=>{"use strict";var Gj=ft&&ft.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ft,"__esModule",{value:!0});ft.PROTOCOL_ERROR=ft.SESSION_EXPIRED=ft.SERVICE_UNAVAILABLE=ft.Neo4jError=ft.newError=void 0;var $j="ServiceUnavailable";ft.SERVICE_UNAVAILABLE=$j;var Zj="SessionExpired";ft.SESSION_EXPIRED=Zj;var Kj="ProtocolError";ft.PROTOCOL_ERROR=Kj;var Qj="N/A",fg=function(r){Gj(t,r);function t(e,n){var i=r.call(this,e)||this;return i.constructor=t,i.__proto__=t.prototype,i.code=n,i.name="Neo4jError",i}return s(t,"Neo4jError"),t}(Error);ft.Neo4jError=fg;function Xj(r,t){return new fg(r,t??Qj)}s(Xj,"newError");ft.newError=Xj});var Dn=m(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.toString=wt.toNumber=wt.inSafeRange=wt.isInt=wt.int=void 0;var ru=lt(),lg=new Map,an=function(){function r(t,e){this.low=t||0,this.high=e||0}return s(r,"Integer"),r.prototype.inSafeRange=function(){return this.greaterThanOrEqual(r.MIN_SAFE_VALUE)&&this.lessThanOrEqual(r.MAX_SAFE_VALUE)},r.prototype.toInt=function(){return this.low},r.prototype.toNumber=function(){return this.high*qn+(this.low>>>0)},r.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(qn)+BigInt(this.low>>>0);var t=this.negate();return BigInt(-1)*(BigInt(t.high>>>0)*BigInt(qn)+BigInt(t.low>>>0))},r.prototype.toNumberOrInfinity=function(){return this.lessThan(r.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(r.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},r.prototype.toString=function(t){if(t=t||10,t<2||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var e;if(this.isNegative())if(this.equals(r.MIN_VALUE)){var n=r.fromNumber(t),i=this.div(n);return e=i.multiply(n).subtract(this),i.toString(t)+e.toInt().toString(t)}else return"-"+this.negate().toString(t);var o=r.fromNumber(Math.pow(t,6));e=this;for(var f="";;){var h=e.div(o),_=e.subtract(h.multiply(o)).toInt()>>>0,l=_.toString(t);if(e=h,e.isZero())return l+f;for(;l.length<6;)l="0"+l;f=""+l+f}},r.prototype.getHighBits=function(){return this.high},r.prototype.getLowBits=function(){return this.low},r.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(r.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=this.high!==0?this.high:this.low,e=31;e>0&&!(t&1<<e);e--);return this.high!==0?e+33:e+1},r.prototype.isZero=function(){return this.high===0&&this.low===0},r.prototype.isNegative=function(){return this.high<0},r.prototype.isPositive=function(){return this.high>=0},r.prototype.isOdd=function(){return(this.low&1)===1},r.prototype.isEven=function(){return(this.low&1)===0},r.prototype.equals=function(t){var e=r.fromValue(t);return this.high===e.high&&this.low===e.low},r.prototype.notEquals=function(t){return!this.equals(t)},r.prototype.lessThan=function(t){return this.compare(t)<0},r.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},r.prototype.greaterThan=function(t){return this.compare(t)>0},r.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},r.prototype.compare=function(t){var e=r.fromValue(t);if(this.equals(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.subtract(e).isNegative()?-1:1},r.prototype.negate=function(){return this.equals(r.MIN_VALUE)?r.MIN_VALUE:this.not().add(r.ONE)},r.prototype.add=function(t){var e=r.fromValue(t),n=this.high>>>16,i=this.high&65535,o=this.low>>>16,f=this.low&65535,h=e.high>>>16,_=e.high&65535,l=e.low>>>16,v=e.low&65535,O=0,T=0,j=0,U=0;return U+=f+v,j+=U>>>16,U&=65535,j+=o+l,T+=j>>>16,j&=65535,T+=i+_,O+=T>>>16,T&=65535,O+=n+h,O&=65535,r.fromBits(j<<16|U,O<<16|T)},r.prototype.subtract=function(t){var e=r.fromValue(t);return this.add(e.negate())},r.prototype.multiply=function(t){if(this.isZero())return r.ZERO;var e=r.fromValue(t);if(e.isZero())return r.ZERO;if(this.equals(r.MIN_VALUE))return e.isOdd()?r.MIN_VALUE:r.ZERO;if(e.equals(r.MIN_VALUE))return this.isOdd()?r.MIN_VALUE:r.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(_g)&&e.lessThan(_g))return r.fromNumber(this.toNumber()*e.toNumber());var n=this.high>>>16,i=this.high&65535,o=this.low>>>16,f=this.low&65535,h=e.high>>>16,_=e.high&65535,l=e.low>>>16,v=e.low&65535,O=0,T=0,j=0,U=0;return U+=f*v,j+=U>>>16,U&=65535,j+=o*v,T+=j>>>16,j&=65535,j+=f*l,T+=j>>>16,j&=65535,T+=i*v,O+=T>>>16,T&=65535,T+=o*l,O+=T>>>16,T&=65535,T+=f*_,O+=T>>>16,T&=65535,O+=n*v+i*l+o*_+f*h,O&=65535,r.fromBits(j<<16|U,O<<16|T)},r.prototype.div=function(t){var e=r.fromValue(t);if(e.isZero())throw(0,ru.newError)("division by zero");if(this.isZero())return r.ZERO;var n,i,o;if(this.equals(r.MIN_VALUE)){if(e.equals(r.ONE)||e.equals(r.NEG_ONE))return r.MIN_VALUE;if(e.equals(r.MIN_VALUE))return r.ONE;var f=this.shiftRight(1);return n=f.div(e).shiftLeft(1),n.equals(r.ZERO)?e.isNegative()?r.ONE:r.NEG_ONE:(i=this.subtract(e.multiply(n)),o=n.add(i.div(e)),o)}else if(e.equals(r.MIN_VALUE))return r.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(o=r.ZERO,i=this;i.greaterThanOrEqual(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(n)/Math.LN2),_=h<=48?1:Math.pow(2,h-48),l=r.fromNumber(n),v=l.multiply(e);v.isNegative()||v.greaterThan(i);)n-=_,l=r.fromNumber(n),v=l.multiply(e);l.isZero()&&(l=r.ONE),o=o.add(l),i=i.subtract(v)}return o},r.prototype.modulo=function(t){var e=r.fromValue(t);return this.subtract(this.div(e).multiply(e))},r.prototype.not=function(){return r.fromBits(~this.low,~this.high)},r.prototype.and=function(t){var e=r.fromValue(t);return r.fromBits(this.low&e.low,this.high&e.high)},r.prototype.or=function(t){var e=r.fromValue(t);return r.fromBits(this.low|e.low,this.high|e.high)},r.prototype.xor=function(t){var e=r.fromValue(t);return r.fromBits(this.low^e.low,this.high^e.high)},r.prototype.shiftLeft=function(t){var e=r.toNumber(t);return(e&=63)===0?r.ZERO:e<32?r.fromBits(this.low<<e,this.high<<e|this.low>>>32-e):r.fromBits(0,this.low<<e-32)},r.prototype.shiftRight=function(t){var e=r.toNumber(t);return(e&=63)===0?r.ZERO:t<32?r.fromBits(this.low>>>e|this.high<<32-e,this.high>>e):r.fromBits(this.high>>e-32,this.high>=0?0:-1)},r.isInteger=function(t){return(t&&t.__isInteger__)===!0},r.fromInt=function(t){var e,n;return t=t|0,t>=-128&&t<128&&(n=lg.get(t),n)?n:(e=new r(t,t<0?-1:0),t>=-128&&t<128&&lg.set(t,e),e)},r.fromBits=function(t,e){return new r(t,e)},r.fromNumber=function(t){return isNaN(t)||!isFinite(t)?r.ZERO:t<=-pg?r.MIN_VALUE:t+1>=pg?r.MAX_VALUE:t<0?r.fromNumber(-t).negate():new r(t%qn|0,t/qn|0)},r.fromString=function(t,e,n){var i=n===void 0?{}:n,o=i.strictStringValidation;if(t.length===0)throw(0,ru.newError)("number format error: empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return r.ZERO;if(e=e||10,e<2||e>36)throw(0,ru.newError)("radix out of range: "+e);var f;if((f=t.indexOf("-"))>0)throw(0,ru.newError)('number format error: interior "-" character: '+t);if(f===0)return r.fromString(t.substring(1),e).negate();for(var h=r.fromNumber(Math.pow(e,8)),_=r.ZERO,l=0;l<t.length;l+=8){var v=Math.min(8,t.length-l),O=t.substring(l,l+v),T=parseInt(O,e);if(o===!0&&!eM(O,T,e))throw(0,ru.newError)('number format error: "'+O+'" is NaN in radix '+e+": "+t);if(v<8){var j=r.fromNumber(Math.pow(e,v));_=_.multiply(j).add(r.fromNumber(T))}else _=_.multiply(h),_=_.add(r.fromNumber(T))}return _},r.fromValue=function(t,e){return e===void 0&&(e={}),t instanceof r?t:typeof t=="number"?r.fromNumber(t):typeof t=="string"?r.fromString(t,void 0,e):typeof t=="bigint"?r.fromString(t.toString()):new r(t.low,t.high)},r.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return r.fromValue(t).toNumber()}},r.toString=function(t,e){return r.fromValue(t).toString(e)},r.inSafeRange=function(t){return r.fromValue(t).inSafeRange()},r.ZERO=r.fromInt(0),r.ONE=r.fromInt(1),r.NEG_ONE=r.fromInt(-1),r.MAX_VALUE=r.fromBits(-1,2147483647),r.MIN_VALUE=r.fromBits(0,-2147483648),r.MIN_SAFE_VALUE=r.fromBits(1,-2097152),r.MAX_SAFE_VALUE=r.fromBits(-1,2097151),r.__isInteger__=!0,r}();function Jj(r,t,e){var n=r.toString(t),i=Math.max(e-n.length,0),o="0".repeat(i);return""+o+n}s(Jj,"_convertNumberToString");function eM(r,t,e){return!Number.isNaN(r)&&!Number.isNaN(t)&&Jj(t,e,r.length)===r.toLowerCase()}s(eM,"_isValidNumberFromString");Object.defineProperty(an.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var hg=65536,tM=1<<24,qn=hg*hg,rM=qn*qn,pg=rM/2,_g=an.fromInt(tM),nM=an.fromValue;wt.int=nM;var iM=an.isInteger;wt.isInt=iM;var oM=an.inSafeRange;wt.inSafeRange=oM;var uM=an.toNumber;wt.toNumber=uM;var sM=an.toString;wt.toString=sM;wt.default=an});var Ah=m(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.getBrokenObjectReason=cn.isBrokenObject=cn.createBrokenObject=void 0;var dg="__isBrokenObject__",vg="__reason__";function aM(r,t){t===void 0&&(t={});var e=s(function(){throw r},"fail");return new Proxy(t,{get:function(n,i){if(i===dg)return!0;if(i===vg)return r;if(i==="toJSON")return;e()},set:e,apply:e,construct:e,defineProperty:e,deleteProperty:e,getOwnPropertyDescriptor:e,getPrototypeOf:e,has:e,isExtensible:e,ownKeys:e,preventExtensions:e,setPrototypeOf:e})}s(aM,"createBrokenObject");cn.createBrokenObject=aM;function cM(r){return r!==null&&typeof r=="object"&&r[dg]===!0}s(cM,"isBrokenObject");cn.isBrokenObject=cM;function fM(r){return r[vg]}s(fM,"getBrokenObjectReason");cn.getBrokenObjectReason=fM});var _c=m(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.stringify=void 0;var bg=Ah();function lM(r){return JSON.stringify(r,function(t,e){return(0,bg.isBrokenObject)(e)?{__isBrokenObject__:!0,__reason__:(0,bg.getBrokenObjectReason)(e)}:typeof e=="bigint"?e+"n":e})}s(lM,"stringify");pc.stringify=lM});var Tt=m(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.ENCRYPTION_OFF=Se.ENCRYPTION_ON=Se.validateQueryAndParameters=Se.assertValidDate=Se.assertNumberOrInteger=Se.assertNumber=Se.assertString=Se.assertObject=Se.isString=Se.isObject=Se.isEmptyObjectOrNull=void 0;var hM=Dn(),ji=_c(),pM="ENCRYPTION_ON";Se.ENCRYPTION_ON=pM;var _M="ENCRYPTION_OFF";Se.ENCRYPTION_OFF=_M;function dM(r){if(r===null)return!0;if(!dc(r))return!1;for(var t in r)if(Object.prototype.hasOwnProperty.bind(r,t))return!1;return!0}s(dM,"isEmptyObjectOrNull");Se.isEmptyObjectOrNull=dM;function dc(r){return typeof r=="object"&&!Array.isArray(r)&&r!==null}s(dc,"isObject");Se.isObject=dc;function vM(r,t,e){var n="",i=t||{},o=(e==null?void 0:e.skipAsserts)||!1;return typeof r=="string"?n=r:r instanceof String?n=r.toString():typeof r=="object"&&r.text&&(n=r.text,i=r.parameters||{}),o||(OM(n),SM(i)),{validatedQuery:n,params:i}}s(vM,"validateQueryAndParameters");Se.validateQueryAndParameters=vM;function bM(r,t){if(!dc(r))throw new TypeError(t+" expected to be an object but was: "+(0,ji.stringify)(r));return r}s(bM,"assertObject");Se.assertObject=bM;function yg(r,t){if(!mg(r))throw new TypeError(t+" expected to be string but was: "+(0,ji.stringify)(r));return r}s(yg,"assertString");Se.assertString=yg;function yM(r,t){if(typeof r!="number")throw new TypeError(t+" expected to be a number but was: "+(0,ji.stringify)(r));return r}s(yM,"assertNumber");Se.assertNumber=yM;function mM(r,t){if(typeof r!="number"&&typeof r!="bigint"&&!(0,hM.isInt)(r))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,ji.stringify)(r));return r}s(mM,"assertNumberOrInteger");Se.assertNumberOrInteger=mM;function gM(r,t){if(Object.prototype.toString.call(r)!=="[object Date]")throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,ji.stringify)(r));if(Number.isNaN(r.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,ji.stringify)(r));return r}s(gM,"assertValidDate");Se.assertValidDate=gM;function OM(r){if(yg(r,"Cypher query"),r.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}s(OM,"assertCypherQuery");function SM(r){if(!dc(r)){var t=r.constructor?" "+r.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:"+t+" "+r)}}s(SM,"assertQueryParameters");function mg(r){return Object.prototype.toString.call(r)==="[object String]"}s(mg,"isString");Se.isString=mg});var Nh=m(I=>{"use strict";var EM=I&&I.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),wM=I&&I.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),TM=I&&I.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&EM(t,r,e);return wM(t,r),t};Object.defineProperty(I,"__esModule",{value:!0});I.floorMod=I.floorDiv=I.assertValidZoneId=I.assertValidNanosecond=I.assertValidSecond=I.assertValidMinute=I.assertValidHour=I.assertValidDay=I.assertValidMonth=I.assertValidYear=I.timeZoneOffsetInSeconds=I.totalNanoseconds=I.newDate=I.toStandardDate=I.isoStringToStandardDate=I.dateToIsoString=I.timeZoneOffsetToIsoString=I.timeToIsoString=I.durationToIsoString=I.dateToEpochDay=I.localDateTimeToEpochSecond=I.localTimeToNanoOfDay=I.normalizeNanosecondsForDuration=I.normalizeSecondsForDuration=I.SECONDS_PER_DAY=I.DAYS_PER_400_YEAR_CYCLE=I.DAYS_0000_TO_1970=I.NANOS_PER_HOUR=I.NANOS_PER_MINUTE=I.NANOS_PER_MILLISECOND=I.NANOS_PER_SECOND=I.SECONDS_PER_HOUR=I.SECONDS_PER_MINUTE=I.MINUTES_PER_HOUR=I.NANOSECOND_OF_SECOND_RANGE=I.SECOND_OF_MINUTE_RANGE=I.MINUTE_OF_HOUR_RANGE=I.HOUR_OF_DAY_RANGE=I.DAY_OF_MONTH_RANGE=I.MONTH_OF_YEAR_RANGE=I.YEAR_RANGE=void 0;var _e=TM(Dn()),gg=lt(),CM=Tt(),jn=function(){function r(t,e){this._minNumber=t,this._maxNumber=e,this._minInteger=(0,_e.int)(t),this._maxInteger=(0,_e.int)(e)}return s(r,"ValueRange"),r.prototype.contains=function(t){if((0,_e.isInt)(t)&&t instanceof _e.default)return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger);if(typeof t=="bigint"){var e=(0,_e.int)(t);return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger)}else return t>=this._minNumber&&t<=this._maxNumber},r.prototype.toString=function(){return"["+this._minNumber+", "+this._maxNumber+"]"},r}();I.YEAR_RANGE=new jn(-999999999,999999999);I.MONTH_OF_YEAR_RANGE=new jn(1,12);I.DAY_OF_MONTH_RANGE=new jn(1,31);I.HOUR_OF_DAY_RANGE=new jn(0,23);I.MINUTE_OF_HOUR_RANGE=new jn(0,59);I.SECOND_OF_MINUTE_RANGE=new jn(0,59);I.NANOSECOND_OF_SECOND_RANGE=new jn(0,999999999);I.MINUTES_PER_HOUR=60;I.SECONDS_PER_MINUTE=60;I.SECONDS_PER_HOUR=I.SECONDS_PER_MINUTE*I.MINUTES_PER_HOUR;I.NANOS_PER_SECOND=1e9;I.NANOS_PER_MILLISECOND=1e6;I.NANOS_PER_MINUTE=I.NANOS_PER_SECOND*I.SECONDS_PER_MINUTE;I.NANOS_PER_HOUR=I.NANOS_PER_MINUTE*I.MINUTES_PER_HOUR;I.DAYS_0000_TO_1970=719528;I.DAYS_PER_400_YEAR_CYCLE=146097;I.SECONDS_PER_DAY=86400;function PM(r,t){return(0,_e.int)(r).add(xh(t,I.NANOS_PER_SECOND))}s(PM,"normalizeSecondsForDuration");I.normalizeSecondsForDuration=PM;function IM(r){return Sg(r,I.NANOS_PER_SECOND)}s(IM,"normalizeNanosecondsForDuration");I.normalizeNanosecondsForDuration=IM;function AM(r,t,e,n){r=(0,_e.int)(r),t=(0,_e.int)(t),e=(0,_e.int)(e),n=(0,_e.int)(n);var i=r.multiply(I.NANOS_PER_HOUR);return i=i.add(t.multiply(I.NANOS_PER_MINUTE)),i=i.add(e.multiply(I.NANOS_PER_SECOND)),i.add(n)}s(AM,"localTimeToNanoOfDay");I.localTimeToNanoOfDay=AM;function RM(r,t,e,n,i,o,f){var h=Og(r,t,e),_=$M(n,i,o);return h.multiply(I.SECONDS_PER_DAY).add(_)}s(RM,"localDateTimeToEpochSecond");I.localDateTimeToEpochSecond=RM;function Og(r,t,e){r=(0,_e.int)(r),t=(0,_e.int)(t),e=(0,_e.int)(e);var n=r.multiply(365);return r.greaterThanOrEqual(0)?n=n.add(r.add(3).div(4).subtract(r.add(99).div(100)).add(r.add(399).div(400))):n=n.subtract(r.div(-4).subtract(r.div(-100)).add(r.div(-400))),n=n.add(t.multiply(367).subtract(362).div(12)),n=n.add(e.subtract(1)),t.greaterThan(2)&&(n=n.subtract(1),ZM(r)||(n=n.subtract(1))),n.subtract(I.DAYS_0000_TO_1970)}s(Og,"dateToEpochDay");I.dateToEpochDay=Og;function xM(r,t,e,n){var i=Ct(r),o=Ct(t),f=KM(e,n);return"P"+i+"M"+o+"DT"+f+"S"}s(xM,"durationToIsoString");I.durationToIsoString=xM;function NM(r,t,e,n){var i=Ct(r,2),o=Ct(t,2),f=Ct(e,2),h=Rh(n);return i+":"+o+":"+f+h}s(NM,"timeToIsoString");I.timeToIsoString=NM;function qM(r){if(r=(0,_e.int)(r),r.equals(0))return"Z";var t=r.isNegative();t&&(r=r.multiply(-1));var e=t?"-":"+",n=Ct(r.div(I.SECONDS_PER_HOUR),2),i=Ct(r.div(I.SECONDS_PER_MINUTE).modulo(I.MINUTES_PER_HOUR),2),o=r.modulo(I.SECONDS_PER_MINUTE),f=o.equals(0)?null:Ct(o,2);return f?""+e+n+":"+i+":"+f:""+e+n+":"+i}s(qM,"timeZoneOffsetToIsoString");I.timeZoneOffsetToIsoString=qM;function DM(r,t,e){var n=QM(r),i=Ct(t,2),o=Ct(e,2);return n+"-"+i+"-"+o}s(DM,"dateToIsoString");I.dateToIsoString=DM;function jM(r){return new Date(r)}s(jM,"isoStringToStandardDate");I.isoStringToStandardDate=jM;function MM(r){return new Date(r)}s(MM,"toStandardDate");I.toStandardDate=MM;function LM(r){return new Date(r)}s(LM,"newDate");I.newDate=LM;function UM(r,t){t=t||0;var e=r.getMilliseconds()*I.NANOS_PER_MILLISECOND;return XM(t,e)}s(UM,"totalNanoseconds");I.totalNanoseconds=UM;function kM(r){var t=r.getSeconds()>=r.getUTCSeconds()?r.getSeconds()-r.getUTCSeconds():r.getSeconds()-r.getUTCSeconds()+60,e=r.getTimezoneOffset();return e===0?0+t:-1*e*I.SECONDS_PER_MINUTE+t}s(kM,"timeZoneOffsetInSeconds");I.timeZoneOffsetInSeconds=kM;function FM(r){return Mn(r,I.YEAR_RANGE,"Year")}s(FM,"assertValidYear");I.assertValidYear=FM;function BM(r){return Mn(r,I.MONTH_OF_YEAR_RANGE,"Month")}s(BM,"assertValidMonth");I.assertValidMonth=BM;function WM(r){return Mn(r,I.DAY_OF_MONTH_RANGE,"Day")}s(WM,"assertValidDay");I.assertValidDay=WM;function VM(r){return Mn(r,I.HOUR_OF_DAY_RANGE,"Hour")}s(VM,"assertValidHour");I.assertValidHour=VM;function HM(r){return Mn(r,I.MINUTE_OF_HOUR_RANGE,"Minute")}s(HM,"assertValidMinute");I.assertValidMinute=HM;function zM(r){return Mn(r,I.SECOND_OF_MINUTE_RANGE,"Second")}s(zM,"assertValidSecond");I.assertValidSecond=zM;function YM(r){return Mn(r,I.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")}s(YM,"assertValidNanosecond");I.assertValidNanosecond=YM;function GM(r,t){try{Intl.DateTimeFormat(void 0,{timeZone:t})}catch{throw(0,gg.newError)(r+' is expected to be a valid ZoneId but was: "'+t+'"')}}s(GM,"assertValidZoneId");I.assertValidZoneId=GM;function Mn(r,t,e){if((0,CM.assertNumberOrInteger)(r,e),!t.contains(r))throw(0,gg.newError)(e+" is expected to be in range "+t+" but was: "+r);return r}s(Mn,"assertValidTemporalValue");function $M(r,t,e){r=(0,_e.int)(r),t=(0,_e.int)(t),e=(0,_e.int)(e);var n=r.multiply(I.SECONDS_PER_HOUR);return n=n.add(t.multiply(I.SECONDS_PER_MINUTE)),n.add(e)}s($M,"localTimeToSecondOfDay");function ZM(r){return r=(0,_e.int)(r),r.modulo(4).equals(0)?r.modulo(100).equals(0)?!!r.modulo(400).equals(0):!0:!1}s(ZM,"isLeapYear");function xh(r,t){r=(0,_e.int)(r),t=(0,_e.int)(t);var e=r.div(t);return r.isPositive()!==t.isPositive()&&e.multiply(t).notEquals(r)&&(e=e.subtract(1)),e}s(xh,"floorDiv");I.floorDiv=xh;function Sg(r,t){return r=(0,_e.int)(r),t=(0,_e.int)(t),r.subtract(xh(r,t).multiply(t))}s(Sg,"floorMod");I.floorMod=Sg;function KM(r,t){r=(0,_e.int)(r),t=(0,_e.int)(t);var e,n,i=r.isNegative(),o=t.greaterThan(0);return i&&o?r.equals(-1)?e="-0":e=r.add(1).toString():e=r.toString(),o&&(i?n=Rh(t.negate().add(2*I.NANOS_PER_SECOND).modulo(I.NANOS_PER_SECOND)):n=Rh(t.add(I.NANOS_PER_SECOND).modulo(I.NANOS_PER_SECOND))),n?e+n:e}s(KM,"formatSecondsAndNanosecondsForDuration");function Rh(r){return r=(0,_e.int)(r),r.equals(0)?"":"."+Ct(r,9)}s(Rh,"formatNanosecond");function QM(r){var t=(0,_e.int)(r);return t.isNegative()||t.greaterThan(9999)?Ct(t,6,{usePositiveSign:!0}):Ct(t,4)}s(QM,"formatYear");function Ct(r,t,e){r=(0,_e.int)(r);var n=r.isNegative();n&&(r=r.negate());var i=r.toString();if(t)for(;i.length<t;)i="0"+i;return n?"-"+i:(e==null?void 0:e.usePositiveSign)===!0?"+"+i:i}s(Ct,"formatNumber");function XM(r,t){return r instanceof _e.default?r.add(t):typeof r=="bigint"?r+BigInt(t):r+t}s(XM,"add")});var Lg=m(se=>{"use strict";var JM=se&&se.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),eL=se&&se.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Eg=se&&se.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&JM(t,r,e);return eL(t,r),t},tL=se&&se.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(f)throw f.error}}return o};Object.defineProperty(se,"__esModule",{value:!0});se.isDateTime=se.DateTime=se.isLocalDateTime=se.LocalDateTime=se.isDate=se.Date=se.isTime=se.Time=se.isLocalTime=se.LocalTime=se.isDuration=se.Duration=void 0;var Q=Eg(Nh()),qr=Tt(),rL=lt(),nu=Eg(Dn()),Mi={value:!0,enumerable:!1,configurable:!1,writable:!1},wg="__isDuration__",Tg="__isLocalTime__",Cg="__isTime__",Pg="__isDate__",Ig="__isLocalDateTime__",Ag="__isDateTime__",Rg=function(){function r(t,e,n,i){this.months=(0,qr.assertNumberOrInteger)(t,"Months"),this.days=(0,qr.assertNumberOrInteger)(e,"Days"),(0,qr.assertNumberOrInteger)(n,"Seconds"),(0,qr.assertNumberOrInteger)(i,"Nanoseconds"),this.seconds=Q.normalizeSecondsForDuration(n,i),this.nanoseconds=Q.normalizeNanosecondsForDuration(i),Object.freeze(this)}return s(r,"Duration"),r.prototype.toString=function(){return Q.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},r}();se.Duration=Rg;Object.defineProperty(Rg.prototype,wg,Mi);function nL(r){return Li(r,wg)}s(nL,"isDuration");se.isDuration=nL;var xg=function(){function r(t,e,n,i){this.hour=Q.assertValidHour(t),this.minute=Q.assertValidMinute(e),this.second=Q.assertValidSecond(n),this.nanosecond=Q.assertValidNanosecond(i),Object.freeze(this)}return s(r,"LocalTime"),r.fromStandardDate=function(t,e){iu(t,e);var n=Q.totalNanoseconds(t,e);return new r(t.getHours(),t.getMinutes(),t.getSeconds(),n instanceof nu.default?n.toInt():typeof n=="bigint"?(0,nu.int)(n).toInt():n)},r.prototype.toString=function(){return Q.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},r}();se.LocalTime=xg;Object.defineProperty(xg.prototype,Tg,Mi);function iL(r){return Li(r,Tg)}s(iL,"isLocalTime");se.isLocalTime=iL;var Ng=function(){function r(t,e,n,i,o){this.hour=Q.assertValidHour(t),this.minute=Q.assertValidMinute(e),this.second=Q.assertValidSecond(n),this.nanosecond=Q.assertValidNanosecond(i),this.timeZoneOffsetSeconds=(0,qr.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return s(r,"Time"),r.fromStandardDate=function(t,e){return iu(t,e),new r(t.getHours(),t.getMinutes(),t.getSeconds(),(0,nu.toNumber)(Q.totalNanoseconds(t,e)),Q.timeZoneOffsetInSeconds(t))},r.prototype.toString=function(){return Q.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+Q.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},r}();se.Time=Ng;Object.defineProperty(Ng.prototype,Cg,Mi);function oL(r){return Li(r,Cg)}s(oL,"isTime");se.isTime=oL;var qg=function(){function r(t,e,n){this.year=Q.assertValidYear(t),this.month=Q.assertValidMonth(e),this.day=Q.assertValidDay(n),Object.freeze(this)}return s(r,"Date"),r.fromStandardDate=function(t){return iu(t),new r(t.getFullYear(),t.getMonth()+1,t.getDate())},r.prototype.toString=function(){return Q.dateToIsoString(this.year,this.month,this.day)},r}();se.Date=qg;Object.defineProperty(qg.prototype,Pg,Mi);function uL(r){return Li(r,Pg)}s(uL,"isDate");se.isDate=uL;var Dg=function(){function r(t,e,n,i,o,f,h){this.year=Q.assertValidYear(t),this.month=Q.assertValidMonth(e),this.day=Q.assertValidDay(n),this.hour=Q.assertValidHour(i),this.minute=Q.assertValidMinute(o),this.second=Q.assertValidSecond(f),this.nanosecond=Q.assertValidNanosecond(h),Object.freeze(this)}return s(r,"LocalDateTime"),r.fromStandardDate=function(t,e){return iu(t,e),new r(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,nu.toNumber)(Q.totalNanoseconds(t,e)))},r.prototype.toString=function(){return Mg(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},r}();se.LocalDateTime=Dg;Object.defineProperty(Dg.prototype,Ig,Mi);function sL(r){return Li(r,Ig)}s(sL,"isLocalDateTime");se.isLocalDateTime=sL;var jg=function(){function r(t,e,n,i,o,f,h,_,l){this.year=Q.assertValidYear(t),this.month=Q.assertValidMonth(e),this.day=Q.assertValidDay(n),this.hour=Q.assertValidHour(i),this.minute=Q.assertValidMinute(o),this.second=Q.assertValidSecond(f),this.nanosecond=Q.assertValidNanosecond(h);var v=tL(cL(_,l),2),O=v[0],T=v[1];this.timeZoneOffsetSeconds=O,this.timeZoneId=T||void 0,Object.freeze(this)}return s(r,"DateTime"),r.fromStandardDate=function(t,e){return iu(t,e),new r(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,nu.toNumber)(Q.totalNanoseconds(t,e)),Q.timeZoneOffsetInSeconds(t),null)},r.prototype.toString=function(){var t=Mg(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),e=this.timeZoneId?"["+this.timeZoneId+"]":Q.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds||0);return t+e},r}();se.DateTime=jg;Object.defineProperty(jg.prototype,Ag,Mi);function aL(r){return Li(r,Ag)}s(aL,"isDateTime");se.isDateTime=aL;function Li(r,t){return(r&&r[t])===!0}s(Li,"hasIdentifierProperty");function Mg(r,t,e,n,i,o,f){return Q.dateToIsoString(r,t,e)+"T"+Q.timeToIsoString(n,i,o,f)}s(Mg,"localDateTimeToString");function cL(r,t){var e=r||r===0,n=t&&t!=="";if(!e&&!n)throw(0,rL.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: "+r+" and id: "+t);var i=[void 0,void 0];return e&&((0,qr.assertNumberOrInteger)(r,"Time zone offset in seconds"),i[0]=r),n&&((0,qr.assertString)(t,"Time zone ID"),Q.assertValidZoneId("Time zone ID",t),i[1]=t),i}s(cL,"verifyTimeZoneArguments");function iu(r,t){(0,qr.assertValidDate)(r,"Standard date"),t!=null&&(0,qr.assertNumberOrInteger)(t,"Nanosecond")}s(iu,"verifyStandardDateAndNanos")});var Gg=m(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.isPathSegment=xe.PathSegment=xe.isPath=xe.Path=xe.isUnboundRelationship=xe.UnboundRelationship=xe.isRelationship=xe.Relationship=xe.isNode=xe.Node=void 0;var qh=_c(),ou={value:!0,enumerable:!1,configurable:!1,writable:!1},Ug="__isNode__",kg="__isRelationship__",Fg="__isUnboundRelationship__",Bg="__isPath__",Wg="__isPathSegment__";function uu(r,t){return(r&&r[t])===!0}s(uu,"hasIdentifierProperty");var Vg=function(){function r(t,e,n){this.identity=t,this.labels=e,this.properties=n}return s(r,"Node"),r.prototype.toString=function(){for(var t="("+this.identity,e=0;e<this.labels.length;e++)t+=":"+this.labels[e];var n=Object.keys(this.properties);if(n.length>0){t+=" {";for(var e=0;e<n.length;e++)e>0&&(t+=","),t+=n[e]+":"+(0,qh.stringify)(this.properties[n[e]]);t+="}"}return t+=")",t},r}();xe.Node=Vg;Object.defineProperty(Vg.prototype,Ug,ou);function fL(r){return uu(r,Ug)}s(fL,"isNode");xe.isNode=fL;var Dh=function(){function r(t,e,n,i,o){this.identity=t,this.start=e,this.end=n,this.type=i,this.properties=o}return s(r,"Relationship"),r.prototype.toString=function(){var t="("+this.start+")-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){t+=" {";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n]+":"+(0,qh.stringify)(this.properties[e[n]]);t+="}"}return t+="]->("+this.end+")",t},r}();xe.Relationship=Dh;Object.defineProperty(Dh.prototype,kg,ou);function lL(r){return uu(r,kg)}s(lL,"isRelationship");xe.isRelationship=lL;var Hg=function(){function r(t,e,n){this.identity=t,this.type=e,this.properties=n}return s(r,"UnboundRelationship"),r.prototype.bind=function(t,e){return new Dh(this.identity,t,e,this.type,this.properties)},r.prototype.toString=function(){var t="-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){t+=" {";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n]+":"+(0,qh.stringify)(this.properties[e[n]]);t+="}"}return t+="]->",t},r}();xe.UnboundRelationship=Hg;Object.defineProperty(Hg.prototype,Fg,ou);function hL(r){return uu(r,Fg)}s(hL,"isUnboundRelationship");xe.isUnboundRelationship=hL;var zg=function(){function r(t,e,n){this.start=t,this.relationship=e,this.end=n}return s(r,"PathSegment"),r}();xe.PathSegment=zg;Object.defineProperty(zg.prototype,Wg,ou);function pL(r){return uu(r,Wg)}s(pL,"isPathSegment");xe.isPathSegment=pL;var Yg=function(){function r(t,e,n){this.start=t,this.end=e,this.segments=n,this.length=n.length}return s(r,"Path"),r}();xe.Path=Yg;Object.defineProperty(Yg.prototype,Bg,ou);function _L(r){return uu(r,Bg)}s(_L,"isPath");xe.isPath=_L});var Zg=m(Dr=>{"use strict";var jh=Dr&&Dr.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Mh=Dr&&Dr.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lh=Dr&&Dr.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(f)throw f.error}}return o};Object.defineProperty(Dr,"__esModule",{value:!0});var $g=lt();function dL(r){var t={};return r.forEach(function(e,n){t[e]=n}),t}s(dL,"generateFieldLookup");var vL=function(){function r(t,e,n){this.keys=t,this.length=t.length,this._fields=e,this._fieldLookup=n||dL(t)}return s(r,"Record"),r.prototype.forEach=function(t){var e,n;try{for(var i=Mh(this.entries()),o=i.next();!o.done;o=i.next()){var f=Lh(o.value,2),h=f[0],_=f[1];t(_,h,this)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},r.prototype.map=function(t){var e,n,i=[];try{for(var o=Mh(this.entries()),f=o.next();!f.done;f=o.next()){var h=Lh(f.value,2),_=h[0],l=h[1];i.push(t(l,_,this))}}catch(v){e={error:v}}finally{try{f&&!f.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},r.prototype.entries=function(){var t;return jh(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.keys.length?[4,[this.keys[t],this._fields[t]]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},r.prototype.values=function(){var t;return jh(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.keys.length?[4,this._fields[t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},r.prototype[Symbol.iterator]=function(){var t;return jh(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.keys.length?[4,this._fields[t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},r.prototype.toObject=function(){var t,e,n={};try{for(var i=Mh(this.entries()),o=i.next();!o.done;o=i.next()){var f=Lh(o.value,2),h=f[0],_=f[1];n[h]=_}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},r.prototype.get=function(t){var e;if(typeof t!="number"){if(e=this._fieldLookup[t],e===void 0)throw(0,$g.newError)("This record has no field with key '"+t+"', available key are: ["+this.keys+"].")}else e=t;if(e>this._fields.length-1||e<0)throw(0,$g.newError)("This record has no field with index '"+e+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[e]},r.prototype.has=function(t){return typeof t=="number"?t>=0&&t<this._fields.length:this._fieldLookup[t]!==void 0},r}();Dr.default=vL});var Xg=m(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.isPoint=Ui.Point=void 0;var vc=Tt(),Kg="__isPoint__",Qg=function(){function r(t,e,n,i){this.srid=(0,vc.assertNumberOrInteger)(t,"SRID"),this.x=(0,vc.assertNumber)(e,"X coordinate"),this.y=(0,vc.assertNumber)(n,"Y coordinate"),this.z=i==null?i:(0,vc.assertNumber)(i,"Z coordinate"),Object.freeze(this)}return s(r,"Point"),r.prototype.toString=function(){return this.z||this.z===0?"Point{srid="+Ln(this.srid)+", x="+Ln(this.x)+", y="+Ln(this.y)+", z="+Ln(this.z)+"}":"Point{srid="+Ln(this.srid)+", x="+Ln(this.x)+", y="+Ln(this.y)+"}"},r}();Ui.Point=Qg;function Ln(r){return Number.isInteger(r)?r+".0":r.toString()}s(Ln,"formatAsFloat");Object.defineProperty(Qg.prototype,Kg,{value:!0,enumerable:!1,configurable:!1,writable:!1});function bL(r){return(r&&r[Kg])===!0}s(bL,"isPoint");Ui.isPoint=bL});var Fh=m(Te=>{"use strict";var yL=Te&&Te.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),mL=Te&&Te.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),gL=Te&&Te.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&yL(t,r,e);return mL(t,r),t};Object.defineProperty(Te,"__esModule",{value:!0});Te.Stats=Te.QueryStatistics=Te.ProfiledPlan=Te.Plan=Te.Notification=Te.ServerInfo=Te.queryType=void 0;var Jg=gL(Dn()),OL=function(){function r(t,e,n,i){this.query={text:t,parameters:e},this.queryType=n.type,this.counters=new eO(n.stats||{}),this.updateStatistics=this.counters,this.plan=n.plan||n.profile?new Uh(n.plan||n.profile):!1,this.profile=n.profile?new kh(n.profile):!1,this.notifications=this._buildNotifications(n.notifications),this.server=new rO(n.server,i),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:n.db||null}}return s(r,"ResultSummary"),r.prototype._buildNotifications=function(t){return t?t.map(function(e){return new tO(e)}):[]},r.prototype.hasPlan=function(){return this.plan instanceof Uh},r.prototype.hasProfile=function(){return this.profile instanceof kh},r}(),Uh=function(){function r(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=t.children?t.children.map(function(e){return new r(e)}):[]}return s(r,"Plan"),r}();Te.Plan=Uh;var kh=function(){function r(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=ki("dbHits",t),this.rows=ki("rows",t),this.pageCacheMisses=ki("pageCacheMisses",t),this.pageCacheHits=ki("pageCacheHits",t),this.pageCacheHitRatio=ki("pageCacheHitRatio",t),this.time=ki("time",t),this.children=t.children?t.children.map(function(e){return new r(e)}):[]}return s(r,"ProfiledPlan"),r.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},r}();Te.ProfiledPlan=kh;var SL=function(){function r(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0}return s(r,"Stats"),r}();Te.Stats=SL;var eO=function(){function r(t){var e=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(t).forEach(function(n){var i=n.replace(/(-\w)/g,function(o){return o[1].toUpperCase()});i in e._stats?e._stats[i]=Fi(t[n]):i==="systemUpdates"?e._systemUpdates=Fi(t[n]):i==="containsSystemUpdates"?e._containsSystemUpdates=t[n]:i==="containsUpdates"&&(e._containsUpdates=t[n])}),this._stats=Object.freeze(this._stats)}return s(r,"QueryStatistics"),r.prototype.containsUpdates=function(){var t=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(e,n){return e+t._stats[n]},0)>0},r.prototype.updates=function(){return this._stats},r.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},r.prototype.systemUpdates=function(){return this._systemUpdates},r}();Te.QueryStatistics=eO;var tO=function(){function r(t){this.code=t.code,this.title=t.title,this.description=t.description,this.severity=t.severity,this.position=r._constructPosition(t.position)}return s(r,"Notification"),r._constructPosition=function(t){return t?{offset:Fi(t.offset),line:Fi(t.line),column:Fi(t.column)}:{}},r}();Te.Notification=tO;var rO=function(){function r(t,e){t&&(this.address=t.address,this.version=t.version,this.agent=t.version),this.protocolVersion=e}return s(r,"ServerInfo"),r}();Te.ServerInfo=rO;function Fi(r){return r instanceof Jg.default?r.toInt():typeof r=="bigint"?(0,Jg.int)(r).toInt():r}s(Fi,"intValue");function ki(r,t,e){if(e===void 0&&(e=0),r in t){var n=t[r];return Fi(n)}else return e}s(ki,"valueOrDefault");var EL={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};Te.queryType=EL;Te.default=OL});var bc=m(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.FailedObserver=Bi.CompletedObserver=void 0;var wL=function(){function r(){}return s(r,"CompletedObserver"),r.prototype.subscribe=function(t){su(t,t.onKeys,[]),su(t,t.onCompleted,{})},r.prototype.cancel=function(){},r.prototype.prepareToHandleSingleResponse=function(){},r.prototype.markCompleted=function(){},r.prototype.onError=function(t){throw Error("CompletedObserver not supposed to call onError")},r}();Bi.CompletedObserver=wL;var TL=function(){function r(t){var e=t.error,n=t.onError;this._error=e,this._beforeError=n,this._observers=[],this.onError(e)}return s(r,"FailedObserver"),r.prototype.subscribe=function(t){su(t,t.onError,this._error),this._observers.push(t)},r.prototype.onError=function(t){var e=this;Promise.resolve(su(this,this._beforeError,t)).then(function(){return e._observers.forEach(function(n){return su(n,n.onError,t)})})},r.prototype.cancel=function(){},r.prototype.prepareToHandleSingleResponse=function(){},r.prototype.markCompleted=function(){},r}();Bi.FailedObserver=TL;function su(r,t,e){t&&t.bind(r)(e)}s(su,"apply")});var Wi=m(pr=>{"use strict";var CL=pr&&pr.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),PL=pr&&pr.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),IL=pr&&pr.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&CL(t,r,e);return PL(t,r),t};Object.defineProperty(pr,"__esModule",{value:!0});pr.Bookmark=void 0;var nO=IL(Tt()),AL="bookmarks",iO=function(){function r(t){this._values=xL(t)}return s(r,"Bookmark"),r.empty=function(){return RL},r.prototype.isEmpty=function(){return this._values.length===0},r.prototype.values=function(){return this._values},r.prototype.asBeginTransactionParameters=function(){var t;return this.isEmpty()?{}:(t={},t[AL]=this._values,t)},r}();pr.Bookmark=iO;var RL=new iO(null);function xL(r){if(!r)return[];if(nO.isString(r))return[r];if(Array.isArray(r)){for(var t=[],e=oO(r),n=0;n<e.length;n++){var i=e[n];if(i!=null){if(!nO.isString(i))throw new TypeError("Bookmark value should be a string, given: '"+i+"'");t.push(i)}}return t}throw new TypeError("Bookmark should either be a string or a string array, given: '"+r+"'")}s(xL,"asStringArray");function oO(r){return r.reduce(function(t,e){return Array.isArray(e)?t.concat(oO(e)):t.concat(e)},[])}s(oO,"flattenArray")});var Vi=m(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.BOLT_PROTOCOL_V4_4=de.BOLT_PROTOCOL_V4_3=de.BOLT_PROTOCOL_V4_2=de.BOLT_PROTOCOL_V4_1=de.BOLT_PROTOCOL_V4_0=de.BOLT_PROTOCOL_V3=de.BOLT_PROTOCOL_V2=de.BOLT_PROTOCOL_V1=de.DEFAULT_POOL_MAX_SIZE=de.DEFAULT_POOL_ACQUISITION_TIMEOUT=de.ACCESS_MODE_WRITE=de.ACCESS_MODE_READ=de.FETCH_ALL=void 0;var NL=-1;de.FETCH_ALL=NL;var qL=60*1e3;de.DEFAULT_POOL_ACQUISITION_TIMEOUT=qL;var DL=100;de.DEFAULT_POOL_MAX_SIZE=DL;var jL="READ";de.ACCESS_MODE_READ=jL;var ML="WRITE";de.ACCESS_MODE_WRITE=ML;var LL=1;de.BOLT_PROTOCOL_V1=LL;var UL=2;de.BOLT_PROTOCOL_V2=UL;var kL=3;de.BOLT_PROTOCOL_V3=kL;var FL=4;de.BOLT_PROTOCOL_V4_0=FL;var BL=4.1;de.BOLT_PROTOCOL_V4_1=BL;var WL=4.2;de.BOLT_PROTOCOL_V4_2=WL;var VL=4.3;de.BOLT_PROTOCOL_V4_3=VL;var HL=4.4;de.BOLT_PROTOCOL_V4_4=HL});var au=m(Xt=>{"use strict";var sO=Xt&&Xt.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.EMPTY_CONNECTION_HOLDER=Xt.ReadOnlyConnectionHolder=Xt.ConnectionHolder=void 0;var zL=lt(),YL=Tt(),GL=Vi(),$L=Wi(),Bh=function(){function r(t){var e=t===void 0?{}:t,n=e.mode,i=n===void 0?GL.ACCESS_MODE_WRITE:n,o=e.database,f=o===void 0?"":o,h=e.bookmark,_=e.connectionProvider,l=e.impersonatedUser,v=e.onDatabaseNameResolved;this._mode=i,this._database=f?(0,YL.assertString)(f,"database"):"",this._bookmark=h||$L.Bookmark.empty(),this._connectionProvider=_,this._impersonatedUser=l,this._referenceCount=0,this._connectionPromise=Promise.resolve(),this._onDatabaseNameResolved=v}return s(r,"ConnectionHolder"),r.prototype.mode=function(){return this._mode},r.prototype.database=function(){return this._database},r.prototype.setDatabase=function(t){this._database=t},r.prototype.bookmark=function(){return this._bookmark},r.prototype.connectionProvider=function(){return this._connectionProvider},r.prototype.referenceCount=function(){return this._referenceCount},r.prototype.initializeConnection=function(){if(this._referenceCount===0&&this._connectionProvider)this._connectionPromise=this._connectionProvider.acquireConnection({accessMode:this._mode,database:this._database,bookmarks:this._bookmark,impersonatedUser:this._impersonatedUser,onDatabaseNameResolved:this._onDatabaseNameResolved});else return this._referenceCount++,!1;return this._referenceCount++,!0},r.prototype.getConnection=function(){return this._connectionPromise},r.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},r.prototype.close=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection())},r.prototype._releaseConnection=function(){return this._connectionPromise=this._connectionPromise.then(function(t){return t?t.isOpen()?t.resetAndFlush().catch(uO).then(function(){return t._release()}):t._release():Promise.resolve()}).catch(uO),this._connectionPromise},r}();Xt.ConnectionHolder=Bh;var aO=function(r){sO(t,r);function t(e){var n=r.call(this,{mode:e.mode(),database:e.database(),bookmark:e.bookmark(),connectionProvider:e.connectionProvider()})||this;return n._connectionHolder=e,n}return s(t,"ReadOnlyConnectionHolder"),t.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve()})},t.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve()})},t}(Bh);Xt.ReadOnlyConnectionHolder=aO;Xt.default=aO;var ZL=function(r){sO(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"EmptyConnectionHolder"),t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return Promise.reject((0,zL.newError)("This connection holder does not serve connections"))},t.prototype.releaseConnection=function(){return Promise.resolve()},t.prototype.close=function(){return Promise.resolve()},t}(Bh),KL=new ZL;Xt.EMPTY_CONNECTION_HOLDER=KL;function uO(r){}s(uO,"ignoreError")});var yc=m(_r=>{"use strict";var QL=_r&&_r.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),XL=_r&&_r.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),JL=_r&&_r.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&QL(t,r,e);return XL(t,r),t};Object.defineProperty(_r,"__esModule",{value:!0});_r.TxConfig=void 0;var cu=JL(Tt()),cO=lt(),eU=Dn(),fO=function(){function r(t){iU(t),this.timeout=rU(t),this.metadata=nU(t)}return s(r,"TxConfig"),r.empty=function(){return tU},r.prototype.isEmpty=function(){return Object.values(this).every(function(t){return t==null})},r}();_r.TxConfig=fO;var tU=new fO({});function rU(r){if(cu.isObject(r)&&(r.timeout||r.timeout===0)){cu.assertNumberOrInteger(r.timeout,"Transaction timeout");var t=(0,eU.int)(r.timeout);if(t.isZero())throw(0,cO.newError)("Transaction timeout should not be zero");if(t.isNegative())throw(0,cO.newError)("Transaction timeout should not be negative");return t}return null}s(rU,"extractTimeout");function nU(r){if(cu.isObject(r)&&r.metadata){var t=r.metadata;if(cu.assertObject(t,"config.metadata"),Object.keys(t).length!==0)return t}return null}s(nU,"extractMetadata");function iU(r){r&&cu.assertObject(r,"Transaction config")}s(iU,"assertValidConfig")});var Vh=m(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.canRetryOn=void 0;var Wh=lt();function oU(r){return r&&r instanceof Wh.Neo4jError&&r.code&&(r.code===Wh.SERVICE_UNAVAILABLE||r.code===Wh.SESSION_EXPIRED||sU(r)||uU(r))}s(oU,"canRetryOn");mc.canRetryOn=oU;function uU(r){var t=r.code;return t.indexOf("TransientError")>=0?!(t==="Neo.TransientError.Transaction.Terminated"||t==="Neo.TransientError.Transaction.LockClientStopped"):!1}s(uU,"_isTransientError");function sU(r){return r.code==="Neo.ClientError.Security.AuthorizationExpired"}s(sU,"_isAuthorizationExpired")});var Hh=m(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.TransactionExecutor=void 0;var gc=lt(),aU=Vh(),cU=30*1e3,fU=1e3,lU=2,hU=.2,pU=function(){function r(t,e,n,i){this._maxRetryTimeMs=Oc(t,cU),this._initialRetryDelayMs=Oc(e,fU),this._multiplier=Oc(n,lU),this._jitterFactor=Oc(i,hU),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return s(r,"TransactionExecutor"),r.prototype.execute=function(t,e){var n=this;return new Promise(function(i,o){n._executeTransactionInsidePromise(t,e,i,o)}).catch(function(i){var o=Date.now(),f=n._initialRetryDelayMs;return n._retryTransactionPromise(t,e,i,o,f)})},r.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(t){return clearTimeout(t)}),this._inFlightTimeoutIds=[]},r.prototype._retryTransactionPromise=function(t,e,n,i,o){var f=this,h=Date.now()-i;return h>this._maxRetryTimeMs||!(0,aU.canRetryOn)(n)?Promise.reject(n):new Promise(function(_,l){var v=f._computeDelayWithJitter(o),O=setTimeout(function(){f._inFlightTimeoutIds=f._inFlightTimeoutIds.filter(function(T){return T!==O}),f._executeTransactionInsidePromise(t,e,_,l)},v);f._inFlightTimeoutIds.push(O)}).catch(function(_){var l=o*f._multiplier;return f._retryTransactionPromise(t,e,_,i,l)})},r.prototype._executeTransactionInsidePromise=function(t,e,n,i){var o=this,f;try{f=t()}catch(_){i(_);return}var h=this._safeExecuteTransactionWork(f,e);h.then(function(_){return o._handleTransactionWorkSuccess(_,f,n,i)}).catch(function(_){return o._handleTransactionWorkFailure(_,f,i)})},r.prototype._safeExecuteTransactionWork=function(t,e){try{var n=e(t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}},r.prototype._handleTransactionWorkSuccess=function(t,e,n,i){e.isOpen()?e.commit().then(function(){n(t)}).catch(function(o){i(o)}):n(t)},r.prototype._handleTransactionWorkFailure=function(t,e,n){e.isOpen()?e.rollback().catch(function(i){}).then(function(){return n(t)}):n(t)},r.prototype._computeDelayWithJitter=function(t){var e=t*this._jitterFactor,n=t-e,i=t+e;return Math.random()*(i-n)+n},r.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,gc.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs);if(this._initialRetryDelayMs<0)throw(0,gc.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs);if(this._multiplier<1)throw(0,gc.newError)("Multiplier should be >= 1.0: "+this._multiplier);if(this._jitterFactor<0||this._jitterFactor>1)throw(0,gc.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor)},r}();Sc.TransactionExecutor=pU;function Oc(r,t){return r||r===0?r:t}s(Oc,"_valueOrDefault")});var zh=m(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.ConnectivityVerifier=void 0;var _U=au(),dU=Vi(),vU=lt(),bU=function(){function r(t){this._connectionProvider=t}return s(r,"ConnectivityVerifier"),r.prototype.verify=function(t){var e=t===void 0?{}:t,n=e.database,i=n===void 0?"":n;return yU(this._connectionProvider,i)},r}();Ec.ConnectivityVerifier=bU;function yU(r,t){var e=new _U.ConnectionHolder({mode:dU.ACCESS_MODE_READ,database:t,connectionProvider:r});return e.initializeConnection(),e.getConnection().then(function(n){if(!n)throw(0,vU.newError)("Unexpected error acquiring transaction");return e.close().then(function(){return n.server})}).catch(function(n){return e.close().catch(function(i){}).then(function(){return Promise.reject(n)})})}s(yU,"acquireAndReleaseDummyConnection")});var Zh=m(zi=>{"use strict";var mU=zi&&zi.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hi;Object.defineProperty(zi,"__esModule",{value:!0});zi.Logger=void 0;var lO=lt(),Yh="error",Gh="warn",fu="info",$h="debug",gU=fu,Tc=(Hi={},Hi[Yh]=0,Hi[Gh]=1,Hi[fu]=2,Hi[$h]=3,Hi),hO=function(){function r(t,e){this._level=t,this._loggerFunction=e}return s(r,"Logger"),r.create=function(t){if(t&&t.logging){var e=t.logging,n=EU(e),i=wU(e);return new r(n,i)}return this.noOp()},r.noOp=function(){return SU},r.prototype.isErrorEnabled=function(){return wc(this._level,Yh)},r.prototype.error=function(t){this.isErrorEnabled()&&this._loggerFunction(Yh,t)},r.prototype.isWarnEnabled=function(){return wc(this._level,Gh)},r.prototype.warn=function(t){this.isWarnEnabled()&&this._loggerFunction(Gh,t)},r.prototype.isInfoEnabled=function(){return wc(this._level,fu)},r.prototype.info=function(t){this.isInfoEnabled()&&this._loggerFunction(fu,t)},r.prototype.isDebugEnabled=function(){return wc(this._level,$h)},r.prototype.debug=function(t){this.isDebugEnabled()&&this._loggerFunction($h,t)},r}();zi.Logger=hO;var OU=function(r){mU(t,r);function t(){return r.call(this,fu,function(e,n){})||this}return s(t,"NoOpLogger"),t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(e){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(e){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(e){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(e){},t}(hO),SU=new OU;function wc(r,t){return Tc[r]>=Tc[t]}s(wc,"isLevelEnabled");function EU(r){if(r&&r.level){var t=r.level,e=Tc[t];if(!e&&e!==0)throw(0,lO.newError)("Illegal logging level: "+t+". Supported levels are: "+Object.keys(Tc));return t}return gU}s(EU,"extractConfiguredLevel");function wU(r){if(r&&r.logger){var t=r.logger;if(t&&typeof t=="function")return t}throw(0,lO.newError)("Illegal logger function: "+r.logger)}s(wU,"extractConfiguredLogger")});var Kh=m(Ge=>{"use strict";var Cc=Ge&&Ge.__assign||function(){return Cc=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Cc.apply(this,arguments)},_O=Ge&&Ge.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(f)throw f.error}}return o};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Url=Ge.formatIPv6Address=Ge.formatIPv4Address=Ge.defaultPortForScheme=Ge.parseDatabaseUrl=void 0;var TU=Tt(),CU=7687,PU=7474,IU=7473,dO=function(){function r(t,e,n,i,o){this.scheme=t,this.host=e,this.port=n,this.hostAndPort=i,this.query=o}return s(r,"Url"),r}();Ge.Url=dO;function AU(r){(0,TU.assertString)(r,"URL");var t=xU(r),e=FU(t.url),n=t.schemeMissing?null:NU(e.scheme),i=qU(e.host),o=LU(i),f=DU(e.port,n),h=o+":"+f,_=jU(e.query||RU(e.resourceName),r);return new dO(n,i,f,h,_)}s(AU,"parseDatabaseUrl");Ge.parseDatabaseUrl=AU;function RU(r){if(typeof r!="string")return null;var t=_O(r.split("?"),2),e=t[0],n=t[1];return n}s(RU,"extractResourceQueryString");function xU(r){return r=r.trim(),r.indexOf("://")===-1?{schemeMissing:!0,url:"none://"+r}:{schemeMissing:!1,url:r}}s(xU,"sanitizeUrl");function NU(r){return r?(r=r.trim(),r.charAt(r.length-1)===":"&&(r=r.substring(0,r.length-1)),r):null}s(NU,"extractScheme");function qU(r,t){if(!r)throw new Error("Unable to extract host from "+t);return r.trim()}s(qU,"extractHost");function DU(r,t){var e=typeof r=="string"?parseInt(r,10):r;return e===0||e?e:bO(t)}s(DU,"extractPort");function jU(r,t){var e=r?MU(r):null,n={};return e&&e.split("&").forEach(function(i){var o=i.split("=");if(o.length!==2)throw new Error("Invalid parameters: '"+o+"' in URL '"+t+"'.");var f=pO(o[0],"key",t),h=pO(o[1],"value",t);if(n[f])throw new Error("Duplicated query parameters with key '"+f+"' in URL '"+t+"'");n[f]=h}),n}s(jU,"extractQuery");function MU(r){return r=(r||"").trim(),r&&r.charAt(0)==="?"&&(r=r.substring(1,r.length)),r}s(MU,"trimAndSanitizeQuery");function pO(r,t,e){if(r=(r||"").trim(),!r)throw new Error("Illegal empty "+t+" in URL query '"+e+"'");return r}s(pO,"trimAndVerifyQueryElement");function vO(r){var t=r.charAt(0)==="[",e=r.charAt(r.length-1)==="]";if(!t&&!e)return"["+r+"]";if(t&&e)return r;throw new Error("Illegal IPv6 address "+r)}s(vO,"escapeIPv6Address");function LU(r){if(!r)throw new Error("Illegal host "+r);var t=r.indexOf(":")>=0;return t?vO(r):r}s(LU,"formatHost");function UU(r,t){return r+":"+t}s(UU,"formatIPv4Address");Ge.formatIPv4Address=UU;function kU(r,t){var e=vO(r);return e+":"+t}s(kU,"formatIPv6Address");Ge.formatIPv6Address=kU;function bO(r){return r==="http"?PU:r==="https"?IU:CU}s(bO,"defaultPortForScheme");Ge.defaultPortForScheme=bO;function FU(r){function t(h,_){var l=h.indexOf(_);return l>=0?[h.substring(0,l),h[l],h.substring(l+1)]:[h,"",""]}s(t,"partition");function e(h,_){var l=h.lastIndexOf(_);return l>=0?[h.substring(0,l),h[l],h.substring(l+1)]:["","",h]}s(e,"rpartition");function n(h,_,l){var v=t(h,_),O=t(v[2],l);return[O[0],O[2]]}s(n,"between");function i(h){var _={},l;l=e(h,"@"),l[1]==="@"&&(_.userInfo=decodeURIComponent(l[0]),h=l[2]);var v=_O(n(h,"[","]"),2),O=v[0],T=v[1];return O!==""?(_.host=O,l=t(T,":")):(l=t(h,":"),_.host=l[0]),l[1]===":"&&(_.port=l[2]),_}s(i,"parseAuthority");var o={},f;return f=t(r,":"),f[1]===":"&&(o.scheme=decodeURIComponent(f[0]),r=f[2]),f=t(r,"#"),f[1]==="#"&&(o.fragment=decodeURIComponent(f[2]),r=f[0]),f=t(r,"?"),f[1]==="?"&&(o.query=f[2],r=f[0]),r.startsWith("//")?(f=t(r.substr(2),"/"),o=Cc(Cc({},o),i(f[0])),o.path=f[1]+f[2]):o.path=r,o}s(FU,"uriJsParse")});var Xh=m(dr=>{"use strict";var BU=dr&&dr.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),WU=dr&&dr.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),VU=dr&&dr.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&BU(t,r,e);return WU(t,r),t};Object.defineProperty(dr,"__esModule",{value:!0});dr.ServerAddress=void 0;var Qh=Tt(),HU=VU(Kh()),zU=function(){function r(t,e,n,i){this._host=(0,Qh.assertString)(t,"host"),this._resolved=e?(0,Qh.assertString)(e,"resolved"):null,this._port=(0,Qh.assertNumber)(n,"port"),this._hostPort=i,this._stringValue=e?i+"("+e+")":""+i}return s(r,"ServerAddress"),r.prototype.host=function(){return this._host},r.prototype.resolvedHost=function(){return this._resolved?this._resolved:this._host},r.prototype.port=function(){return this._port},r.prototype.resolveWith=function(t){return new r(this._host,t,this._port,this._hostPort)},r.prototype.asHostPort=function(){return this._hostPort},r.prototype.asKey=function(){return this._hostPort},r.prototype.toString=function(){return this._stringValue},r.fromUrl=function(t){var e=HU.parseDatabaseUrl(t);return new r(e.host,null,e.port,e.hostAndPort)},r}();dr.ServerAddress=zU});var yO=m(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});var YU=function(){function r(){}return s(r,"BaseHostNameResolver"),r.prototype.resolve=function(){throw new Error("Abstract function")},r.prototype._resolveToItself=function(t){return Promise.resolve([t])},r}();Jh.default=YU});var tp=m(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});var GU=Xh();function $U(r){return Promise.resolve([r])}s($U,"resolveToSelf");var ZU=function(){function r(t){this._resolverFunction=t||$U}return s(r,"ConfiguredCustomResolver"),r.prototype.resolve=function(t){var e=this;return new Promise(function(n){return n(e._resolverFunction(t.asHostPort()))}).then(function(n){if(!Array.isArray(n))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+("Each address is '<host>:<port>'. Got: "+n));return n.map(function(i){return GU.ServerAddress.fromUrl(i)})})},r}();ep.default=ZU});var gO=m(fn=>{"use strict";var mO=fn&&fn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fn,"__esModule",{value:!0});fn.ConfiguredCustomResolver=fn.BaseHostNameResolver=void 0;var KU=mO(yO());fn.BaseHostNameResolver=KU.default;var QU=mO(tp());fn.ConfiguredCustomResolver=QU.default});var rp=m(te=>{"use strict";var XU=te&&te.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),JU=te&&te.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),tt=te&&te.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&XU(t,r,e);return JU(t,r),t};Object.defineProperty(te,"__esModule",{value:!0});te.objectUtil=te.retryStrategy=te.resolver=te.serverAddress=te.urlUtil=te.logger=te.connectivityVerifier=te.transactionExecutor=te.txConfig=te.connectionHolder=te.constants=te.bookmark=te.observer=te.temporalUtil=te.util=void 0;var ek=tt(Tt());te.util=ek;var tk=tt(Nh());te.temporalUtil=tk;var rk=tt(bc());te.observer=rk;var nk=tt(Wi());te.bookmark=nk;var ik=tt(Vi());te.constants=ik;var ok=tt(au());te.connectionHolder=ok;var uk=tt(yc());te.txConfig=uk;var sk=tt(Hh());te.transactionExecutor=sk;var ak=tt(zh());te.connectivityVerifier=ak;var ck=tt(Zh());te.logger=ck;var fk=tt(Kh());te.urlUtil=fk;var lk=tt(Xh());te.serverAddress=lk;var hk=tt(gO());te.resolver=hk;var pk=tt(Vh());te.retryStrategy=pk;var _k=tt(Ah());te.objectUtil=_k});var Pc=m(lu=>{"use strict";var dk=lu&&lu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lu,"__esModule",{value:!0});var vk=dk(Fh()),OO=rp(),bk=OO.connectionHolder.EMPTY_CONNECTION_HOLDER,yk=s(function(r){console.log("Uncaught error when processing result: "+r)},"DEFAULT_ON_ERROR"),mk=s(function(r){},"DEFAULT_ON_COMPLETED"),gk=function(){function r(t,e,n,i){this._stack=Ok(),this._streamObserverPromise=t,this._p=null,this._query=e,this._parameters=n||{},this._connectionHolder=i||bk}return s(r,"Result"),r.prototype.keys=function(){var t=this;return new Promise(function(e,n){t._streamObserverPromise.then(function(i){return i.subscribe({onKeys:function(o){return e(o)},onError:function(o){return n(o)}})}).catch(n)})},r.prototype.summary=function(){var t=this;return new Promise(function(e,n){t._streamObserverPromise.then(function(i){i.cancel(),i.subscribe({onCompleted:function(o){return t._createSummary(o).then(e,n)},onError:function(o){return n(o)}})}).catch(n)})},r.prototype._getOrCreatePromise=function(){var t=this;return this._p||(this._p=new Promise(function(e,n){var i=[],o={onNext:function(f){i.push(f)},onCompleted:function(f){e({records:i,summary:f})},onError:function(f){n(f)}};t.subscribe(o)})),this._p},r.prototype.then=function(t,e){return this._getOrCreatePromise().then(t,e)},r.prototype.catch=function(t){return this._getOrCreatePromise().catch(t)},r.prototype.finally=function(t){return this._getOrCreatePromise().finally(t)},r.prototype.subscribe=function(t){var e=this,n=t.onCompleted||mk,i=s(function(h){e._createSummary(h).then(function(_){return n.call(t,_)})},"onCompletedWrapper");t.onCompleted=i;var o=t.onError||yk,f=s(function(h){e._connectionHolder.releaseConnection().then(function(){Sk(h,e._stack),o.call(t,h)})},"onErrorWrapper");t.onError=f,this._streamObserverPromise.then(function(h){return h.subscribe(t)}).catch(function(h){return t.onError(h)})},r.prototype._cancel=function(){this._streamObserverPromise.then(function(t){return t.cancel()})},r.prototype._createSummary=function(t){var e=OO.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=e.validatedQuery,i=e.params,o=this._connectionHolder;return o.getConnection().then(function(f){return o.releaseConnection().then(function(){return f?f.protocol().version:void 0})},function(f){}).then(function(f){return new vk.default(n,i,t,f)})},r}();function Ok(){var r=new Error("");return r.stack?r.stack.replace(/^Error(\n\r)*/,""):null}s(Ok,"captureStacktrace");function Sk(r,t){t&&(r.stack=r.toString()+`
`+t)}s(Sk,"replaceStacktrace");lu.default=gk});var SO=m(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});var Ek=function(){function r(){}return s(r,"ConnectionProvider"),r.prototype.acquireConnection=function(t){throw Error("Not implemented")},r.prototype.supportsMultiDb=function(){throw Error("Not implemented")},r.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},r.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},r.prototype.close=function(){throw Error("Not implemented")},r}();np.default=Ek});var EO=m(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var wk=function(){function r(){this.id="",this.databaseId=""}return s(r,"Connection"),r.prototype.isOpen=function(){return!1},r.prototype.protocol=function(){throw Error("Not implemented")},r.prototype.connect=function(t,e){throw Error("Not implemented")},r.prototype.write=function(t,e,n){throw Error("Not implemented")},r.prototype.resetAndFlush=function(){throw Error("Not implemented")},r.prototype.close=function(){throw Error("Not implemented")},r.prototype._release=function(){return Promise.resolve()},r}();ip.default=wk});var up=m(jr=>{"use strict";var Tk=jr&&jr.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},Ck=jr&&jr.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Pk=jr&&jr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jr,"__esModule",{value:!0});var Ik=Tt(),op=au(),TO=Wi(),Ak=yc(),Jt=bc(),er=lt(),CO=Pk(Pc()),Rk=function(){function r(t){var e=t.connectionHolder,n=t.onClose,i=t.onBookmark,o=t.onConnection,f=t.reactive,h=t.fetchSize,_=t.impersonatedUser;this._connectionHolder=e,this._reactive=f,this._state=tr.ACTIVE,this._onClose=n,this._onBookmark=i,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._onComplete=this._onCompleteCallback.bind(this),this._fetchSize=h,this._results=[],this._impersonatedUser=_}return s(r,"Transaction"),r.prototype._begin=function(t,e){var n=this;this._connectionHolder.getConnection().then(function(i){if(n._onConnection(),i)return i.protocol().beginTransaction({bookmark:t,txConfig:e,mode:n._connectionHolder.mode(),database:n._connectionHolder.database(),impersonatedUser:n._impersonatedUser,beforeError:n._onError,afterComplete:n._onComplete});throw(0,er.newError)("No connection available")}).catch(function(i){return n._onError(i)})},r.prototype.run=function(t,e){var n=(0,Ik.validateQueryAndParameters)(t,e),i=n.validatedQuery,o=n.params,f=this._state.run(i,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize});return this._results.push(f),f},r.prototype.commit=function(){var t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(i){return n(i)}})})},r.prototype.rollback=function(){var t=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(i){return n(i)}})})},r.prototype.isOpen=function(){return this._state===tr.ACTIVE},r.prototype.close=function(){return Tk(this,void 0,void 0,function(){return Ck(this,function(t){switch(t.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},r.prototype._onErrorCallback=function(t){return this._state=tr.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},r.prototype._onCompleteCallback=function(t){this._onBookmark(new TO.Bookmark(t.bookmark))},r}(),tr={ACTIVE:{commit:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete,i=r.onConnection,o=r.pendingResults;return{result:wO(!0,t,e,n,i,o),state:tr.SUCCEEDED}},rollback:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete,i=r.onConnection,o=r.pendingResults;return{result:wO(!1,t,e,n,i,o),state:tr.ROLLED_BACK}},run:function(r,t,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete,f=e.onConnection,h=e.reactive,_=e.fetchSize,l=n.getConnection().then(function(v){if(f(),v)return v.protocol().run(r,t,{bookmark:TO.Bookmark.empty(),txConfig:Ak.TxConfig.empty(),beforeError:i,afterComplete:o,reactive:h,fetchSize:_});throw(0,er.newError)("No connection available")}).catch(function(v){return new Jt.FailedObserver({error:v,onError:i})});return vr(l,r,t,n)}},FAILED:{commit:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete;return{result:vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:e}),"COMMIT",{},t),state:tr.FAILED}},rollback:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete;return{result:vr(new Jt.CompletedObserver,"ROLLBACK",{},t),state:tr.FAILED}},run:function(r,t,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete;return vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:i}),r,t,n)}},SUCCEEDED:{commit:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete;return{result:vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot commit this transaction, because it has already been committed."),onError:e}),"COMMIT",{}),state:tr.SUCCEEDED,connectionHolder:t}},rollback:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete;return{result:vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot rollback this transaction, because it has already been committed."),onError:e}),"ROLLBACK",{}),state:tr.SUCCEEDED,connectionHolder:t}},run:function(r,t,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete;return vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot run query in this transaction, because it has already been committed."),onError:i}),r,t,n)}},ROLLED_BACK:{commit:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete;return{result:vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:e}),"COMMIT",{},t),state:tr.ROLLED_BACK}},rollback:function(r){var t=r.connectionHolder,e=r.onError,n=r.onComplete;return{result:vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t),state:tr.ROLLED_BACK}},run:function(r,t,e){var n=e.connectionHolder,i=e.onError,o=e.onComplete;return vr(new Jt.FailedObserver({error:(0,er.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:i}),r,t,n)}}};function wO(r,t,e,n,i,o){var f=t.getConnection().then(function(h){return i(),o.forEach(function(_){return _._cancel()}),Promise.all(o).then(function(_){if(h)return r?h.protocol().commitTransaction({beforeError:e,afterComplete:n}):h.protocol().rollbackTransaction({beforeError:e,afterComplete:n});throw(0,er.newError)("No connection available")})}).catch(function(h){return new Jt.FailedObserver({error:h,onError:e})});return new CO.default(f,r?"COMMIT":"ROLLBACK",{},t)}s(wO,"finishTransaction");function vr(r,t,e,n){return n===void 0&&(n=op.EMPTY_CONNECTION_HOLDER),new CO.default(Promise.resolve(r),t,e,new op.ReadOnlyConnectionHolder(n||op.EMPTY_CONNECTION_HOLDER))}s(vr,"newCompletedResult");jr.default=Rk});var fp=m(Ur=>{"use strict";var sp=Ur&&Ur.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},ap=Ur&&Ur.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},AO=Ur&&Ur.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ur,"__esModule",{value:!0});var cp=bc(),xk=Tt(),Mr=lt(),Nk=AO(Pc()),qk=AO(up()),PO=au(),Lr=Vi(),Dk=Hh(),IO=Wi(),Yi=yc(),jk=function(){function r(t){var e=t.mode,n=t.connectionProvider,i=t.bookmark,o=t.database,f=t.config,h=t.reactive,_=t.fetchSize,l=t.impersonatedUser;this._mode=e,this._database=o,this._reactive=h,this._fetchSize=_,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._readConnectionHolder=new PO.ConnectionHolder({mode:Lr.ACCESS_MODE_READ,database:o,bookmark:i,connectionProvider:n,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._writeConnectionHolder=new PO.ConnectionHolder({mode:Lr.ACCESS_MODE_WRITE,database:o,bookmark:i,connectionProvider:n,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._open=!0,this._hasTx=!1,this._impersonatedUser=l,this._lastBookmark=i||IO.Bookmark.empty(),this._transactionExecutor=Mk(f),this._onComplete=this._onCompleteCallback.bind(this),this._databaseNameResolved=this._database!==""}return s(r,"Session"),r.prototype.run=function(t,e,n){var i=this,o=(0,xk.validateQueryAndParameters)(t,e),f=o.validatedQuery,h=o.params,_=n?new Yi.TxConfig(n):Yi.TxConfig.empty();return this._run(f,h,function(l){return i._assertSessionIsOpen(),l.protocol().run(f,h,{bookmark:i._lastBookmark,txConfig:_,mode:i._mode,database:i._database,impersonatedUser:i._impersonatedUser,afterComplete:i._onComplete,reactive:i._reactive,fetchSize:i._fetchSize})})},r.prototype._run=function(t,e,n){var i=this._connectionHolderWithMode(this._mode),o;return this._open?!this._hasTx&&i.initializeConnection()?o=i.getConnection().then(function(f){return n(f)}).catch(function(f){return Promise.resolve(new cp.FailedObserver({error:f}))}):o=Promise.resolve(new cp.FailedObserver({error:(0,Mr.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):o=Promise.resolve(new cp.FailedObserver({error:(0,Mr.newError)("Cannot run query in a closed session.")})),new Nk.default(o,t,e,i)},r.prototype._acquireConnection=function(t){return sp(this,void 0,void 0,function(){var e,n,i=this;return ap(this,function(o){return n=this._connectionHolderWithMode(this._mode),this._open?!this._hasTx&&n.initializeConnection()?e=n.getConnection().then(function(f){return t(f)}).then(function(f){return sp(i,void 0,void 0,function(){return ap(this,function(h){switch(h.label){case 0:return[4,n.releaseConnection()];case 1:return h.sent(),[2,f]}})})}):e=Promise.reject((0,Mr.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):e=Promise.reject((0,Mr.newError)("Cannot run query in a closed session.")),[2,e]})})},r.prototype.beginTransaction=function(t){var e=t,n=Yi.TxConfig.empty();return e&&(n=new Yi.TxConfig(e)),this._beginTransaction(this._mode,n)},r.prototype._beginTransaction=function(t,e){if(!this._open)throw(0,Mr.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,Mr.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var n=r._validateSessionMode(t),i=this._connectionHolderWithMode(n);i.initializeConnection(),this._hasTx=!0;var o=new qk.default({connectionHolder:i,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmark:this._updateBookmark.bind(this),onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize});return o._begin(this._lastBookmark,e),o},r.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,Mr.newError)("You cannot run more transactions on a closed session.")},r.prototype._transactionClosed=function(){this._hasTx=!1},r.prototype.lastBookmark=function(){return this._lastBookmark.values()},r.prototype.readTransaction=function(t,e){var n=new Yi.TxConfig(e);return this._runTransaction(Lr.ACCESS_MODE_READ,n,t)},r.prototype.writeTransaction=function(t,e){var n=new Yi.TxConfig(e);return this._runTransaction(Lr.ACCESS_MODE_WRITE,n,t)},r.prototype._runTransaction=function(t,e,n){var i=this;return this._transactionExecutor.execute(function(){return i._beginTransaction(t,e)},n)},r.prototype._onDatabaseNameResolved=function(t){if(!this._databaseNameResolved){var e=t||"";this._database=e,this._readConnectionHolder.setDatabase(e),this._writeConnectionHolder.setDatabase(e),this._databaseNameResolved=!0}},r.prototype._updateBookmark=function(t){t&&!t.isEmpty()&&(this._lastBookmark=t)},r.prototype.close=function(){return sp(this,void 0,void 0,function(){return ap(this,function(t){switch(t.label){case 0:return this._open?(this._open=!1,this._transactionExecutor.close(),[4,this._readConnectionHolder.close()]):[3,3];case 1:return t.sent(),[4,this._writeConnectionHolder.close()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},r.prototype._connectionHolderWithMode=function(t){if(t===Lr.ACCESS_MODE_READ)return this._readConnectionHolder;if(t===Lr.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,Mr.newError)("Unknown access mode: "+t)},r.prototype._onCompleteCallback=function(t){this._updateBookmark(new IO.Bookmark(t.bookmark))},r._validateSessionMode=function(t){var e=t||Lr.ACCESS_MODE_WRITE;if(e!==Lr.ACCESS_MODE_READ&&e!==Lr.ACCESS_MODE_WRITE)throw(0,Mr.newError)("Illegal session mode "+e);return e},r}();function Mk(r){var t=r&&r.maxTransactionRetryTime?r.maxTransactionRetryTime:null;return new Dk.TransactionExecutor(t)}s(Mk,"_createTransactionExecutor");Ur.default=jk});var MO=m(rr=>{"use strict";var NO=rr&&rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rr,"__esModule",{value:!0});rr.WRITE=rr.READ=rr.Driver=void 0;var RO=Wi(),Lk=zh(),Uk=NO(tp()),Gi=Vi(),kk=Zh(),xO=NO(fp()),Fk=Tt(),Bk=60*60*1e3,Wk=1e3,Vk=Gi.ACCESS_MODE_READ;rr.READ=Vk;var qO=Gi.ACCESS_MODE_WRITE;rr.WRITE=qO;var Hk=0,DO=function(){function r(t,e,n,i){e===void 0&&(e={}),i===void 0&&(i=s(function(o){return new xO.default(o)},"createSession")),Yk(e),zk(e),this._id=Hk++,this._meta=t,this._config=e,this._log=kk.Logger.create(e),this._createConnectionProvider=n,this._createSession=i,this._connectionProvider=null,this._afterConstruction()}return s(r,"Driver"),r.prototype.verifyConnectivity=function(t){var e=t===void 0?{}:t,n=e.database,i=n===void 0?"":n,o=this._getOrCreateConnectionProvider(),f=new Lk.ConnectivityVerifier(o);return f.verify({database:i})},r.prototype.supportsMultiDb=function(){var t=this._getOrCreateConnectionProvider();return t.supportsMultiDb()},r.prototype.supportsTransactionConfig=function(){var t=this._getOrCreateConnectionProvider();return t.supportsTransactionConfig()},r.prototype.supportsUserImpersonation=function(){var t=this._getOrCreateConnectionProvider();return t.supportsUserImpersonation()},r.prototype._supportsRouting=function(){return this._meta.routing},r.prototype._isEncrypted=function(){return this._config.encrypted===Fk.ENCRYPTION_ON},r.prototype._getTrust=function(){return this._config.trust},r.prototype.session=function(t){var e=t===void 0?{}:t,n=e.defaultAccessMode,i=n===void 0?qO:n,o=e.bookmarks,f=e.database,h=f===void 0?"":f,_=e.impersonatedUser,l=e.fetchSize;return this._newSession({defaultAccessMode:i,bookmarkOrBookmarks:o,database:h,reactive:!1,impersonatedUser:_,fetchSize:jO(l,this._config.fetchSize)})},r.prototype.close=function(){return this._log.info("Driver "+this._id+" closing"),this._connectionProvider?this._connectionProvider.close():Promise.resolve()},r.prototype._afterConstruction=function(){this._log.info(this._meta.typename+" driver "+this._id+" created for server address "+this._meta.address)},r.prototype._newSession=function(t){var e=t.defaultAccessMode,n=t.bookmarkOrBookmarks,i=t.database,o=t.reactive,f=t.impersonatedUser,h=t.fetchSize,_=xO.default._validateSessionMode(e),l=this._getOrCreateConnectionProvider(),v=n?new RO.Bookmark(n):RO.Bookmark.empty();return this._createSession({mode:_,database:i||"",connectionProvider:l,bookmark:v,config:this._config,reactive:o,impersonatedUser:f,fetchSize:h})},r.prototype._getOrCreateConnectionProvider=function(){return this._connectionProvider||(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,Gk(this._config))),this._connectionProvider},r}();rr.Driver=DO;function zk(r){var t=r.resolver;if(t&&typeof t!="function")throw new TypeError("Configured resolver should be a function. Got: "+t);return r}s(zk,"validateConfig");function Yk(r){r.maxConnectionLifetime=lp(r.maxConnectionLifetime,Bk),r.maxConnectionPoolSize=lp(r.maxConnectionPoolSize,Gi.DEFAULT_POOL_MAX_SIZE),r.connectionAcquisitionTimeout=lp(r.connectionAcquisitionTimeout,Gi.DEFAULT_POOL_ACQUISITION_TIMEOUT),r.fetchSize=jO(r.fetchSize,Wk)}s(Yk,"sanitizeConfig");function lp(r,t){var e=parseInt(r,10);return e>0||e===0?e:e<0?Number.MAX_SAFE_INTEGER:t}s(lp,"sanitizeIntValue");function jO(r,t){var e=parseInt(r,10);if(e>0||e===Gi.FETCH_ALL)return e;if(e===0||e<0)throw new Error("The fetch size can only be a positive value or "+Gi.FETCH_ALL+" for ALL. However fetchSize = "+e);return t}s(jO,"validateFetchSizeValue");function Gk(r){return new Uk.default(r.resolver)}s(Gk,"createHostNameResolver");rr.default=DO});var LO=m(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});var $k={basic:function(r,t,e){return e?{scheme:"basic",principal:r,credentials:t,realm:e}:{scheme:"basic",principal:r,credentials:t}},kerberos:function(r){return{scheme:"kerberos",principal:"",credentials:r}},bearer:function(r){return{scheme:"bearer",credentials:r}},custom:function(r,t,e,n,i){return i?{scheme:n,principal:r,credentials:t,realm:e,parameters:i}:{scheme:n,principal:r,credentials:t,realm:e}}};hp.default=$k});var kO=m(UO=>{"use strict";Object.defineProperty(UO,"__esModule",{value:!0})});var re=m(A=>{"use strict";var Zk=A&&A.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Kk=A&&A.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),$i=A&&A.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Zk(t,r,e);return Kk(t,r),t},kn=A&&A.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(A,"__esModule",{value:!0});A.types=A.Driver=A.Session=A.Transaction=A.Connection=A.ConnectionProvider=A.Result=A.Stats=A.QueryStatistics=A.ProfiledPlan=A.Plan=A.Notification=A.ServerInfo=A.queryType=A.ResultSummary=A.Record=A.isPathSegment=A.PathSegment=A.isPath=A.Path=A.isUnboundRelationship=A.UnboundRelationship=A.isRelationship=A.Relationship=A.isNode=A.Node=A.Time=A.LocalTime=A.LocalDateTime=A.isTime=A.isLocalTime=A.isLocalDateTime=A.isDuration=A.isDateTime=A.isDate=A.Duration=A.DateTime=A.Date=A.Point=A.isPoint=A.internal=A.toString=A.toNumber=A.inSafeRange=A.isInt=A.int=A.Integer=A.error=A.Neo4jError=A.newError=void 0;A.auth=A.json=A.driver=void 0;var Un=lt();Object.defineProperty(A,"newError",{enumerable:!0,get:function(){return Un.newError}});Object.defineProperty(A,"Neo4jError",{enumerable:!0,get:function(){return Un.Neo4jError}});var Ft=$i(Dn());A.Integer=Ft.default;Object.defineProperty(A,"int",{enumerable:!0,get:function(){return Ft.int}});Object.defineProperty(A,"isInt",{enumerable:!0,get:function(){return Ft.isInt}});Object.defineProperty(A,"inSafeRange",{enumerable:!0,get:function(){return Ft.inSafeRange}});Object.defineProperty(A,"toNumber",{enumerable:!0,get:function(){return Ft.toNumber}});Object.defineProperty(A,"toString",{enumerable:!0,get:function(){return Ft.toString}});var Ee=Lg();Object.defineProperty(A,"Date",{enumerable:!0,get:function(){return Ee.Date}});Object.defineProperty(A,"DateTime",{enumerable:!0,get:function(){return Ee.DateTime}});Object.defineProperty(A,"Duration",{enumerable:!0,get:function(){return Ee.Duration}});Object.defineProperty(A,"isDate",{enumerable:!0,get:function(){return Ee.isDate}});Object.defineProperty(A,"isDateTime",{enumerable:!0,get:function(){return Ee.isDateTime}});Object.defineProperty(A,"isDuration",{enumerable:!0,get:function(){return Ee.isDuration}});Object.defineProperty(A,"isLocalDateTime",{enumerable:!0,get:function(){return Ee.isLocalDateTime}});Object.defineProperty(A,"isLocalTime",{enumerable:!0,get:function(){return Ee.isLocalTime}});Object.defineProperty(A,"isTime",{enumerable:!0,get:function(){return Ee.isTime}});Object.defineProperty(A,"LocalDateTime",{enumerable:!0,get:function(){return Ee.LocalDateTime}});Object.defineProperty(A,"LocalTime",{enumerable:!0,get:function(){return Ee.LocalTime}});Object.defineProperty(A,"Time",{enumerable:!0,get:function(){return Ee.Time}});var Me=Gg();Object.defineProperty(A,"Node",{enumerable:!0,get:function(){return Me.Node}});Object.defineProperty(A,"isNode",{enumerable:!0,get:function(){return Me.isNode}});Object.defineProperty(A,"Relationship",{enumerable:!0,get:function(){return Me.Relationship}});Object.defineProperty(A,"isRelationship",{enumerable:!0,get:function(){return Me.isRelationship}});Object.defineProperty(A,"UnboundRelationship",{enumerable:!0,get:function(){return Me.UnboundRelationship}});Object.defineProperty(A,"isUnboundRelationship",{enumerable:!0,get:function(){return Me.isUnboundRelationship}});Object.defineProperty(A,"Path",{enumerable:!0,get:function(){return Me.Path}});Object.defineProperty(A,"isPath",{enumerable:!0,get:function(){return Me.isPath}});Object.defineProperty(A,"PathSegment",{enumerable:!0,get:function(){return Me.PathSegment}});Object.defineProperty(A,"isPathSegment",{enumerable:!0,get:function(){return Me.isPathSegment}});var FO=kn(Zg());A.Record=FO.default;var Ic=Xg();Object.defineProperty(A,"isPoint",{enumerable:!0,get:function(){return Ic.isPoint}});Object.defineProperty(A,"Point",{enumerable:!0,get:function(){return Ic.Point}});var $e=$i(Fh());A.ResultSummary=$e.default;Object.defineProperty(A,"queryType",{enumerable:!0,get:function(){return $e.queryType}});Object.defineProperty(A,"ServerInfo",{enumerable:!0,get:function(){return $e.ServerInfo}});Object.defineProperty(A,"Notification",{enumerable:!0,get:function(){return $e.Notification}});Object.defineProperty(A,"Plan",{enumerable:!0,get:function(){return $e.Plan}});Object.defineProperty(A,"ProfiledPlan",{enumerable:!0,get:function(){return $e.ProfiledPlan}});Object.defineProperty(A,"QueryStatistics",{enumerable:!0,get:function(){return $e.QueryStatistics}});Object.defineProperty(A,"Stats",{enumerable:!0,get:function(){return $e.Stats}});var BO=kn(Pc());A.Result=BO.default;var Qk=kn(SO());A.ConnectionProvider=Qk.default;var WO=kn(EO());A.Connection=WO.default;var VO=kn(up());A.Transaction=VO.default;var HO=kn(fp());A.Session=HO.default;var pp=$i(MO()),zO=pp;A.Driver=pp.default;A.driver=zO;var YO=kn(LO());A.auth=YO.default;var GO=$i(kO());A.types=GO;var $O=$i(_c());A.json=$O;var ZO=$i(rp());A.internal=ZO;var KO={SERVICE_UNAVAILABLE:Un.SERVICE_UNAVAILABLE,SESSION_EXPIRED:Un.SESSION_EXPIRED,PROTOCOL_ERROR:Un.PROTOCOL_ERROR};A.error=KO;var Xk={newError:Un.newError,Neo4jError:Un.Neo4jError,error:KO,Integer:Ft.default,int:Ft.int,isInt:Ft.isInt,inSafeRange:Ft.inSafeRange,toNumber:Ft.toNumber,toString:Ft.toString,internal:ZO,isPoint:Ic.isPoint,Point:Ic.Point,Date:Ee.Date,DateTime:Ee.DateTime,Duration:Ee.Duration,isDate:Ee.isDate,isDateTime:Ee.isDateTime,isDuration:Ee.isDuration,isLocalDateTime:Ee.isLocalDateTime,isLocalTime:Ee.isLocalTime,isTime:Ee.isTime,LocalDateTime:Ee.LocalDateTime,LocalTime:Ee.LocalTime,Time:Ee.Time,Node:Me.Node,isNode:Me.isNode,Relationship:Me.Relationship,isRelationship:Me.isRelationship,UnboundRelationship:Me.UnboundRelationship,isUnboundRelationship:Me.isUnboundRelationship,Path:Me.Path,isPath:Me.isPath,PathSegment:Me.PathSegment,isPathSegment:Me.isPathSegment,Record:FO.default,ResultSummary:$e.default,queryType:$e.queryType,ServerInfo:$e.ServerInfo,Notification:$e.Notification,Plan:$e.Plan,ProfiledPlan:$e.ProfiledPlan,QueryStatistics:$e.QueryStatistics,Stats:$e.Stats,Result:BO.default,Transaction:VO.default,Session:HO.default,Driver:pp.default,Connection:WO.default,types:GO,driver:zO,json:$O,auth:YO.default};A.default=Xk});var Zi=m(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});function Jk(r){return typeof r=="function"}s(Jk,"isFunction");_p.isFunction=Jk});var hu=m(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var dp=!1;vp.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var t=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+t.stack)}else dp&&console.log("RxJS: Back to a better error behavior. Thank you. <3");dp=r},get useDeprecatedSynchronousErrorHandling(){return dp}}});var Ac=m(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});function eF(r){setTimeout(function(){throw r},0)}s(eF,"hostReportError");bp.hostReportError=eF});var mp=m(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});var tF=hu(),rF=Ac();yp.empty={closed:!0,next:function(r){},error:function(r){if(tF.config.useDeprecatedSynchronousErrorHandling)throw r;rF.hostReportError(r)},complete:function(){}}});var rt=m(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var Rc=m(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});function nF(r){return r!==null&&typeof r=="object"}s(nF,"isObject");Op.isObject=nF});var Ep=m(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});var iF=function(){function r(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,n){return n+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return s(r,"UnsubscriptionErrorImpl"),r.prototype=Object.create(Error.prototype),r}();Sp.UnsubscriptionError=iF});var ke=m(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});var oF=rt(),uF=Rc(),sF=Zi(),xc=Ep(),aF=function(){function r(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return s(r,"Subscription"),r.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this,n=e._parentOrParents,i=e._ctorUnsubscribe,o=e._unsubscribe,f=e._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var h=0;h<n.length;++h){var _=n[h];_.remove(this)}if(sF.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(O){t=O instanceof xc.UnsubscriptionError?QO(O.errors):[O]}}if(oF.isArray(f))for(var h=-1,l=f.length;++h<l;){var v=f[h];if(uF.isObject(v))try{v.unsubscribe()}catch(T){t=t||[],T instanceof xc.UnsubscriptionError?t=t.concat(QO(T.errors)):t.push(T)}}if(t)throw new xc.UnsubscriptionError(t)}},r.prototype.add=function(t){var e=t;if(!t)return r.EMPTY;switch(typeof t){case"function":e=new r(t);case"object":if(e===this||e.closed||typeof e.unsubscribe!="function")return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof r)){var n=e;e=new r,e._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=e._parentOrParents;if(i===null)e._parentOrParents=this;else if(i instanceof r){if(i===this)return e;e._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return e;var o=this._subscriptions;return o===null?this._subscriptions=[e]:o.push(e),e},r.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},r.EMPTY=function(t){return t.closed=!0,t}(new r),r}();wp.Subscription=aF;function QO(r){return r.reduce(function(t,e){return t.concat(e instanceof xc.UnsubscriptionError?e.errors:e)},[])}s(QO,"flattenUnsubscriptionErrors")});var Nc=m(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();pu.$$rxSubscriber=pu.rxSubscriber});var $=m(Qi=>{"use strict";var JO=Qi&&Qi.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qi,"__esModule",{value:!0});var XO=Zi(),Tp=mp(),cF=ke(),fF=Nc(),Ki=hu(),qc=Ac(),eS=function(r){JO(t,r);function t(e,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Tp.empty;break;case 1:if(!e){o.destination=Tp.empty;break}if(typeof e=="object"){e instanceof t?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new Cp(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new Cp(o,e,n,i);break}return o}return s(t,"Subscriber"),t.prototype[fF.rxSubscriber]=function(){return this},t.create=function(e,n,i){var o=new t(e,n,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(cF.Subscription);Qi.Subscriber=eS;var Cp=function(r){JO(t,r);function t(e,n,i,o){var f=r.call(this)||this;f._parentSubscriber=e;var h,_=f;return XO.isFunction(n)?h=n:n&&(h=n.next,i=n.error,o=n.complete,n!==Tp.empty&&(_=Object.create(n),XO.isFunction(_.unsubscribe)&&f.add(_.unsubscribe.bind(_)),_.unsubscribe=f.unsubscribe.bind(f))),f._context=_,f._next=h,f._error=i,f._complete=o,f}return s(t,"SafeSubscriber"),t.prototype.next=function(e){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ki.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,e):this.__tryOrSetError(n,this._next,e)&&this.unsubscribe()}},t.prototype.error=function(e){if(!this.isStopped){var n=this._parentSubscriber,i=Ki.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(this.__tryOrSetError(n,this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=e,n.syncErrorThrown=!0):qc.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;qc.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=s(function(){return e._complete.call(e._context)},"wrappedComplete");!Ki.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,n){try{e.call(this._context,n)}catch(i){if(this.unsubscribe(),Ki.config.useDeprecatedSynchronousErrorHandling)throw i;qc.hostReportError(i)}},t.prototype.__tryOrSetError=function(e,n,i){if(!Ki.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return Ki.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(qc.hostReportError(o),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(eS);Qi.SafeSubscriber=Cp});var Dc=m(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});var lF=$();function hF(r){for(;r;){var t=r,e=t.closed,n=t.destination,i=t.isStopped;if(e||i)return!1;n&&n instanceof lF.Subscriber?r=n:r=null}return!0}s(hF,"canReportError");Pp.canReportError=hF});var rS=m(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});var Ip=$(),tS=Nc(),pF=mp();function _F(r,t,e){if(r){if(r instanceof Ip.Subscriber)return r;if(r[tS.rxSubscriber])return r[tS.rxSubscriber]()}return!r&&!t&&!e?new Ip.Subscriber(pF.empty):new Ip.Subscriber(r,t,e)}s(_F,"toSubscriber");Ap.toSubscriber=_F});var Fn=m(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var ln=m(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});function dF(r){return r}s(dF,"identity");xp.identity=dF});var Mc=m(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});var vF=ln();function bF(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return nS(r)}s(bF,"pipe");jc.pipe=bF;function nS(r){return r.length===0?vF.identity:r.length===1?r[0]:s(function(e){return r.reduce(function(n,i){return i(n)},e)},"piped")}s(nS,"pipeFromArray");jc.pipeFromArray=nS});var ae=m(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});var yF=Dc(),mF=rS(),gF=Fn(),OF=Mc(),Lc=hu(),SF=function(){function r(t){this._isScalar=!1,t&&(this._subscribe=t)}return s(r,"Observable"),r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this.operator,o=mF.toSubscriber(t,e,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||Lc.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Lc.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Lc.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),yF.canReportError(t)?t.error(e):console.warn(e)}},r.prototype.forEach=function(t,e){var n=this;return e=iS(e),new e(function(i,o){var f;f=n.subscribe(function(h){try{t(h)}catch(_){o(_),f&&f.unsubscribe()}},o,i)})},r.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},r.prototype[gF.observable]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?this:OF.pipeFromArray(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=iS(t),new t(function(n,i){var o;e.subscribe(function(f){return o=f},function(f){return i(f)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();Np.Observable=SF;function iS(r){if(r||(r=Lc.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}s(iS,"getPromiseCtor")});var _u=m(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});var EF=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return s(r,"ObjectUnsubscribedErrorImpl"),r.prototype=Object.create(Error.prototype),r}();qp.ObjectUnsubscribedError=EF});var Dp=m(du=>{"use strict";var wF=du&&du.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(du,"__esModule",{value:!0});var TF=ke(),CF=function(r){wF(t,r);function t(e,n){var i=r.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return s(t,"SubjectSubscription"),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,n=e.observers;if(this.subject=null,!(!n||n.length===0||e.isStopped||e.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},t}(TF.Subscription);du.SubjectSubscription=CF});var Ze=m(Bn=>{"use strict";var Lp=Bn&&Bn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Bn,"__esModule",{value:!0});var oS=ae(),PF=$(),jp=ke(),vu=_u(),IF=Dp(),AF=Nc(),uS=function(r){Lp(t,r);function t(e){var n=r.call(this,e)||this;return n.destination=e,n}return s(t,"SubjectSubscriber"),t}(PF.Subscriber);Bn.SubjectSubscriber=uS;var sS=function(r){Lp(t,r);function t(){var e=r.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return s(t,"Subject"),t.prototype[AF.rxSubscriber]=function(){return new uS(this)},t.prototype.lift=function(e){var n=new Mp(this,this);return n.operator=e,n},t.prototype.next=function(e){if(this.closed)throw new vu.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),f=0;f<i;f++)o[f].next(e)},t.prototype.error=function(e){if(this.closed)throw new vu.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),f=0;f<i;f++)o[f].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new vu.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(e){if(this.closed)throw new vu.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,e)},t.prototype._subscribe=function(e){if(this.closed)throw new vu.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),jp.Subscription.EMPTY):this.isStopped?(e.complete(),jp.Subscription.EMPTY):(this.observers.push(e),new IF.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new oS.Observable;return e.source=this,e},t.create=function(e,n){return new Mp(e,n)},t}(oS.Observable);Bn.Subject=sS;var Mp=function(r){Lp(t,r);function t(e,n){var i=r.call(this)||this;return i.destination=e,i.source=n,i}return s(t,"AnonymousSubject"),t.prototype.next=function(e){var n=this.destination;n&&n.next&&n.next(e)},t.prototype.error=function(e){var n=this.destination;n&&n.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var n=this.source;return n?this.source.subscribe(e):jp.Subscription.EMPTY},t}(sS);Bn.AnonymousSubject=Mp});var Uc=m(bu=>{"use strict";var RF=bu&&bu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(bu,"__esModule",{value:!0});var xF=$();function NF(){return s(function(t){return t.lift(new qF(t))},"refCountOperatorFunction")}s(NF,"refCount");bu.refCount=NF;var qF=function(){function r(t){this.connectable=t}return s(r,"RefCountOperator"),r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new DF(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),DF=function(r){RF(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return s(t,"RefCountSubscriber"),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(xF.Subscriber)});var kp=m(Xi=>{"use strict";var Up=Xi&&Xi.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Xi,"__esModule",{value:!0});var jF=Ze(),MF=ae(),LF=$(),aS=ke(),UF=Uc(),cS=function(r){Up(t,r);function t(e,n){var i=r.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return s(t,"ConnectableObservable"),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,e=this._connection=new aS.Subscription,e.add(this.source.subscribe(new kF(this.getSubject(),this))),e.closed&&(this._connection=null,e=aS.Subscription.EMPTY)),e},t.prototype.refCount=function(){return UF.refCount()(this)},t}(MF.Observable);Xi.ConnectableObservable=cS;Xi.connectableObservableDescriptor=function(){var r=cS.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var kF=function(r){Up(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return s(t,"ConnectableSubscriber"),t.prototype._error=function(e){this._unsubscribe(),r.prototype._error.call(this,e)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}},t}(jF.SubjectSubscriber),Une=function(){function r(t){this.connectable=t}return s(r,"RefCountOperator"),r.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new FF(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),FF=function(r){Up(t,r);function t(e,n){var i=r.call(this,e)||this;return i.connectable=n,i}return s(t,"RefCountSubscriber"),t.prototype._unsubscribe=function(){var e=this.connectable;if(!e){this.connection=null;return}this.connectable=null;var n=e._refCount;if(n<=0){this.connection=null;return}if(e._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=e._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},t}(LF.Subscriber)});var Bp=m(Ji=>{"use strict";var kc=Ji&&Ji.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ji,"__esModule",{value:!0});var fS=$(),lS=ke(),BF=ae(),WF=Ze();function VF(r,t,e,n){return function(i){return i.lift(new HF(r,t,e,n))}}s(VF,"groupBy");Ji.groupBy=VF;var HF=function(){function r(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}return s(r,"GroupByOperator"),r.prototype.call=function(t,e){return e.subscribe(new zF(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),zF=function(r){kc(t,r);function t(e,n,i,o,f){var h=r.call(this,e)||this;return h.keySelector=n,h.elementSelector=i,h.durationSelector=o,h.subjectSelector=f,h.groups=null,h.attemptedToUnsubscribe=!1,h.count=0,h}return s(t,"GroupBySubscriber"),t.prototype._next=function(e){var n;try{n=this.keySelector(e)}catch(i){this.error(i);return}this._group(e,n)},t.prototype._group=function(e,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),f;if(this.elementSelector)try{f=this.elementSelector(e)}catch(l){this.error(l)}else f=e;if(!o){o=this.subjectSelector?this.subjectSelector():new WF.Subject,i.set(n,o);var h=new Fp(n,o,this);if(this.destination.next(h),this.durationSelector){var _=void 0;try{_=this.durationSelector(new Fp(n,o))}catch(l){this.error(l);return}this.add(_.subscribe(new YF(n,o,this)))}}o.closed||o.next(f)},t.prototype._error=function(e){var n=this.groups;n&&(n.forEach(function(i,o){i.error(e)}),n.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(n,i){n.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},t}(fS.Subscriber),YF=function(r){kc(t,r);function t(e,n,i){var o=r.call(this,n)||this;return o.key=e,o.group=n,o.parent=i,o}return s(t,"GroupDurationSubscriber"),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this,n=e.parent,i=e.key;this.key=this.parent=null,n&&n.removeGroup(i)},t}(fS.Subscriber),Fp=function(r){kc(t,r);function t(e,n,i){var o=r.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=i,o}return s(t,"GroupedObservable"),t.prototype._subscribe=function(e){var n=new lS.Subscription,i=this,o=i.refCountSubscription,f=i.groupSubject;return o&&!o.closed&&n.add(new GF(o)),n.add(f.subscribe(e)),n},t}(BF.Observable);Ji.GroupedObservable=Fp;var GF=function(r){kc(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,e.count++,n}return s(t,"InnerRefCountSubscription"),t.prototype.unsubscribe=function(){var e=this.parent;!e.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),e.count-=1,e.count===0&&e.attemptedToUnsubscribe&&e.unsubscribe())},t}(lS.Subscription)});var Wp=m(yu=>{"use strict";var $F=yu&&yu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(yu,"__esModule",{value:!0});var ZF=Ze(),KF=_u(),QF=function(r){$F(t,r);function t(e){var n=r.call(this)||this;return n._value=e,n}return s(t,"BehaviorSubject"),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(e){var n=r.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new KF.ObjectUnsubscribedError;return this._value},t.prototype.next=function(e){r.prototype.next.call(this,this._value=e)},t}(ZF.Subject);yu.BehaviorSubject=QF});var hS=m(mu=>{"use strict";var XF=mu&&mu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(mu,"__esModule",{value:!0});var JF=ke(),eB=function(r){XF(t,r);function t(e,n){return r.call(this)||this}return s(t,"Action"),t.prototype.schedule=function(e,n){return n===void 0&&(n=0),this},t}(JF.Subscription);mu.Action=eB});var eo=m(gu=>{"use strict";var tB=gu&&gu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(gu,"__esModule",{value:!0});var rB=hS(),nB=function(r){tB(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return s(t,"AsyncAction"),t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,n){var i=!1,o=void 0;try{this.work(e)}catch(f){i=!0,o=!!f&&f||new Error(f)}if(i)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var e=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null},t}(rB.Action);gu.AsyncAction=nB});var pS=m(Ou=>{"use strict";var iB=Ou&&Ou.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ou,"__esModule",{value:!0});var oB=eo(),uB=function(r){iB(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return s(t,"QueueAction"),t.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},t.prototype.execute=function(e,n){return n>0||this.closed?r.prototype.execute.call(this,e,n):this._execute(e,n)},t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},t}(oB.AsyncAction);Ou.QueueAction=uB});var Hp=m(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var sB=function(){function r(t,e){e===void 0&&(e=r.now),this.SchedulerAction=t,this.now=e}return s(r,"Scheduler"),r.prototype.schedule=function(t,e,n){return e===void 0&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},r.now=function(){return Date.now()},r}();Vp.Scheduler=sB});var to=m(Su=>{"use strict";var aB=Su&&Su.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Su,"__esModule",{value:!0});var _S=Hp(),cB=function(r){aB(t,r);function t(e,n){n===void 0&&(n=_S.Scheduler.now);var i=r.call(this,e,function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return s(t,"AsyncScheduler"),t.prototype.schedule=function(e,n,i){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,i):r.prototype.schedule.call(this,e,n,i)},t.prototype.flush=function(e){var n=this.actions;if(this.active){n.push(e);return}var i;this.active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this.active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},t}(_S.Scheduler);Su.AsyncScheduler=cB});var dS=m(Eu=>{"use strict";var fB=Eu&&Eu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Eu,"__esModule",{value:!0});var lB=to(),hB=function(r){fB(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"QueueScheduler"),t}(lB.AsyncScheduler);Eu.QueueScheduler=hB});var zp=m(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});var pB=pS(),_B=dS();wu.queueScheduler=new _B.QueueScheduler(pB.QueueAction);wu.queue=wu.queueScheduler});var nr=m(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});var vS=ae();Tu.EMPTY=new vS.Observable(function(r){return r.complete()});function dB(r){return r?vB(r):Tu.EMPTY}s(dB,"empty");Tu.empty=dB;function vB(r){return new vS.Observable(function(t){return r.schedule(function(){return t.complete()})})}s(vB,"emptyScheduled")});var ir=m(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});function bB(r){return r&&typeof r.schedule=="function"}s(bB,"isScheduler");Yp.isScheduler=bB});var $p=m(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.subscribeToArray=function(r){return function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}}});var Fc=m(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});var yB=ae(),mB=ke();function gB(r,t){return new yB.Observable(function(e){var n=new mB.Subscription,i=0;return n.add(t.schedule(function(){if(i===r.length){e.complete();return}e.next(r[i++]),e.closed||n.add(this.schedule())})),n})}s(gB,"scheduleArray");Zp.scheduleArray=gB});var ro=m(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var OB=ae(),SB=$p(),EB=Fc();function wB(r,t){return t?EB.scheduleArray(r,t):new OB.Observable(SB.subscribeToArray(r))}s(wB,"fromArray");Kp.fromArray=wB});var Cu=m(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var TB=ir(),CB=ro(),PB=Fc();function IB(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return TB.isScheduler(e)?(r.pop(),PB.scheduleArray(r,e)):CB.fromArray(r)}s(IB,"of");Qp.of=IB});var Bc=m(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});var bS=ae();function AB(r,t){return t?new bS.Observable(function(e){return t.schedule(RB,0,{error:r,subscriber:e})}):new bS.Observable(function(e){return e.error(r)})}s(AB,"throwError");Xp.throwError=AB;function RB(r){var t=r.error,e=r.subscriber;e.error(t)}s(RB,"dispatch")});var Iu=m(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});var xB=nr(),NB=Cu(),qB=Bc(),DB;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(DB=Pu.NotificationKind||(Pu.NotificationKind={}));var jB=function(){function r(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue=t==="N"}return s(r,"Notification"),r.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},r.prototype.do=function(t,e,n){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},r.prototype.accept=function(t,e,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,e,n)},r.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return NB.of(this.value);case"E":return qB.throwError(this.error);case"C":return xB.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(t){return typeof t<"u"?new r("N",t):r.undefinedValueNotification},r.createError=function(t){return new r("E",void 0,t)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();Pu.Notification=jB});var e_=m(hn=>{"use strict";var MB=hn&&hn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(hn,"__esModule",{value:!0});var LB=$(),Jp=Iu();function UB(r,t){return t===void 0&&(t=0),s(function(n){return n.lift(new yS(r,t))},"observeOnOperatorFunction")}s(UB,"observeOn");hn.observeOn=UB;var yS=function(){function r(t,e){e===void 0&&(e=0),this.scheduler=t,this.delay=e}return s(r,"ObserveOnOperator"),r.prototype.call=function(t,e){return e.subscribe(new mS(t,this.scheduler,this.delay))},r}();hn.ObserveOnOperator=yS;var mS=function(r){MB(t,r);function t(e,n,i){i===void 0&&(i=0);var o=r.call(this,e)||this;return o.scheduler=n,o.delay=i,o}return s(t,"ObserveOnSubscriber"),t.dispatch=function(e){var n=e.notification,i=e.destination;n.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(e){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new gS(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Jp.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Jp.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Jp.Notification.createComplete()),this.unsubscribe()},t}(LB.Subscriber);hn.ObserveOnSubscriber=mS;var gS=function(){function r(t,e){this.notification=t,this.destination=e}return s(r,"ObserveOnMessage"),r}();hn.ObserveOnMessage=gS});var Wc=m(Au=>{"use strict";var kB=Au&&Au.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Au,"__esModule",{value:!0});var FB=Ze(),BB=zp(),WB=ke(),VB=e_(),HB=_u(),zB=Dp(),YB=function(r){kB(t,r);function t(e,n,i){e===void 0&&(e=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return s(t,"ReplaySubject"),t.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,e)},t.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new GB(this._getNow(),e)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,e)},t.prototype._subscribe=function(e){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,f=i.length,h;if(this.closed)throw new HB.ObjectUnsubscribedError;if(this.isStopped||this.hasError?h=WB.Subscription.EMPTY:(this.observers.push(e),h=new zB.SubjectSubscription(this,e)),o&&e.add(e=new VB.ObserveOnSubscriber(e,o)),n)for(var _=0;_<f&&!e.closed;_++)e.next(i[_]);else for(var _=0;_<f&&!e.closed;_++)e.next(i[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h},t.prototype._getNow=function(){return(this.scheduler||BB.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,f=o.length,h=0;h<f&&!(e-o[h].time<i);)h++;return f>n&&(h=Math.max(h,f-n)),h>0&&o.splice(0,h),o},t}(FB.Subject);Au.ReplaySubject=YB;var GB=function(){function r(t,e){this.time=t,this.value=e}return s(r,"ReplayEvent"),r}()});var xu=m(Ru=>{"use strict";var $B=Ru&&Ru.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ru,"__esModule",{value:!0});var ZB=Ze(),OS=ke(),KB=function(r){$B(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return s(t,"AsyncSubject"),t.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),OS.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),OS.Subscription.EMPTY):r.prototype._subscribe.call(this,e)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(e){this.hasCompleted||r.prototype.error.call(this,e)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},t}(ZB.Subject);Ru.AsyncSubject=KB});var ES=m(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});var QB=1,XB=function(){return Promise.resolve()}(),Vc={};function SS(r){return r in Vc?(delete Vc[r],!0):!1}s(SS,"findAndClearHandle");Hc.Immediate={setImmediate:function(r){var t=QB++;return Vc[t]=!0,XB.then(function(){return SS(t)&&r()}),t},clearImmediate:function(r){SS(r)}};Hc.TestTools={pending:function(){return Object.keys(Vc).length}}});var TS=m(Nu=>{"use strict";var JB=Nu&&Nu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Nu,"__esModule",{value:!0});var wS=ES(),e2=eo(),t2=function(r){JB(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return s(t,"AsapAction"),t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=wS.Immediate.setImmediate(e.flush.bind(e,null))))},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);e.actions.length===0&&(wS.Immediate.clearImmediate(n),e.scheduled=void 0)},t}(e2.AsyncAction);Nu.AsapAction=t2});var CS=m(qu=>{"use strict";var r2=qu&&qu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(qu,"__esModule",{value:!0});var n2=to(),i2=function(r){r2(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"AsapScheduler"),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,f=n.length;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<f&&(e=n.shift()));if(this.active=!1,i){for(;++o<f&&(e=n.shift());)e.unsubscribe();throw i}},t}(n2.AsyncScheduler);qu.AsapScheduler=i2});var t_=m(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var o2=TS(),u2=CS();Du.asapScheduler=new u2.AsapScheduler(o2.AsapAction);Du.asap=Du.asapScheduler});var nt=m(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});var s2=eo(),a2=to();ju.asyncScheduler=new a2.AsyncScheduler(s2.AsyncAction);ju.async=ju.asyncScheduler});var PS=m(Mu=>{"use strict";var c2=Mu&&Mu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Mu,"__esModule",{value:!0});var f2=eo(),l2=function(r){c2(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return s(t,"AnimationFrameAction"),t.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},t.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);e.actions.length===0&&(cancelAnimationFrame(n),e.scheduled=void 0)},t}(f2.AsyncAction);Mu.AnimationFrameAction=l2});var IS=m(Lu=>{"use strict";var h2=Lu&&Lu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Lu,"__esModule",{value:!0});var p2=to(),_2=function(r){h2(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"AnimationFrameScheduler"),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,f=n.length;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while(++o<f&&(e=n.shift()));if(this.active=!1,i){for(;++o<f&&(e=n.shift());)e.unsubscribe();throw i}},t}(p2.AsyncScheduler);Lu.AnimationFrameScheduler=_2});var AS=m(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});var d2=PS(),v2=IS();Uu.animationFrameScheduler=new v2.AnimationFrameScheduler(d2.AnimationFrameAction);Uu.animationFrame=Uu.animationFrameScheduler});var NS=m(no=>{"use strict";var RS=no&&no.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(no,"__esModule",{value:!0});var b2=eo(),y2=to(),m2=function(r){RS(t,r);function t(e,n){e===void 0&&(e=xS),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,e,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return s(t,"VirtualTimeScheduler"),t.prototype.flush=function(){for(var e=this,n=e.actions,i=e.maxFrames,o,f;(f=n[0])&&f.delay<=i&&(n.shift(),this.frame=f.delay,!(o=f.execute(f.state,f.delay))););if(o){for(;f=n.shift();)f.unsubscribe();throw o}},t.frameTimeFactor=10,t}(y2.AsyncScheduler);no.VirtualTimeScheduler=m2;var xS=function(r){RS(t,r);function t(e,n,i){i===void 0&&(i=e.index+=1);var o=r.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=i,o.active=!0,o.index=e.index=i,o}return s(t,"VirtualAction"),t.prototype.schedule=function(e,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,e,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(e,n)},t.prototype.requestAsyncId=function(e,n,i){i===void 0&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,n,i){i===void 0&&(i=0)},t.prototype._execute=function(e,n){if(this.active===!0)return r.prototype._execute.call(this,e,n)},t.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},t}(b2.AsyncAction);no.VirtualAction=xS});var zc=m(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});function g2(){}s(g2,"noop");r_.noop=g2});var qS=m(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});var O2=ae();function S2(r){return!!r&&(r instanceof O2.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}s(S2,"isObservable");n_.isObservable=S2});var io=m(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});var E2=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s(r,"ArgumentOutOfRangeErrorImpl"),r.prototype=Object.create(Error.prototype),r}();i_.ArgumentOutOfRangeError=E2});var oo=m(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});var w2=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s(r,"EmptyErrorImpl"),r.prototype=Object.create(Error.prototype),r}();o_.EmptyError=w2});var s_=m(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});var T2=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return s(r,"TimeoutErrorImpl"),r.prototype=Object.create(Error.prototype),r}();u_.TimeoutError=T2});var Pt=m(uo=>{"use strict";var C2=uo&&uo.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(uo,"__esModule",{value:!0});var P2=$();function I2(r,t){return s(function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new DS(r,t))},"mapOperation")}s(I2,"map");uo.map=I2;var DS=function(){function r(t,e){this.project=t,this.thisArg=e}return s(r,"MapOperator"),r.prototype.call=function(t,e){return e.subscribe(new A2(t,this.project,this.thisArg))},r}();uo.MapOperator=DS;var A2=function(r){C2(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return s(t,"MapSubscriber"),t.prototype._next=function(e){var n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(P2.Subscriber)});var LS=m(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});var R2=ae(),jS=xu(),x2=Pt(),N2=Dc(),q2=rt(),D2=ir();function MS(r,t,e){if(t)if(D2.isScheduler(t))e=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return MS(r,e).apply(void 0,n).pipe(x2.map(function(o){return q2.isArray(o)?t.apply(void 0,o):t(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,f,h={context:o,subject:f,callbackFunc:r,scheduler:e};return new R2.Observable(function(_){if(e){var v={args:n,subscriber:_,params:h};return e.schedule(j2,0,v)}else{if(!f){f=new jS.AsyncSubject;var l=s(function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];f.next(O.length<=1?O[0]:O),f.complete()},"handler");try{r.apply(o,n.concat([l]))}catch(O){N2.canReportError(f)?f.error(O):console.warn(O)}}return f.subscribe(_)}})}}s(MS,"bindCallback");a_.bindCallback=MS;function j2(r){var t=this,e=this,n=r.args,i=r.subscriber,o=r.params,f=o.callbackFunc,h=o.context,_=o.scheduler,l=o.subject;if(!l){l=o.subject=new jS.AsyncSubject;var v=s(function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];var j=O.length<=1?O[0]:O;t.add(_.schedule(M2,0,{value:j,subject:l}))},"handler");try{f.apply(h,n.concat([v]))}catch(O){l.error(O)}}this.add(l.subscribe(i))}s(j2,"dispatch");function M2(r){var t=r.value,e=r.subject;e.next(t),e.complete()}s(M2,"dispatchNext")});var BS=m(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});var L2=ae(),kS=xu(),U2=Pt(),k2=Dc(),F2=ir(),B2=rt();function FS(r,t,e){if(t)if(F2.isScheduler(t))e=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return FS(r,e).apply(void 0,n).pipe(U2.map(function(o){return B2.isArray(o)?t.apply(void 0,o):t(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:e,context:this};return new L2.Observable(function(f){var h=o.context,_=o.subject;if(e)return e.schedule(W2,0,{params:o,subscriber:f,context:h});if(!_){_=o.subject=new kS.AsyncSubject;var l=s(function(){for(var v=[],O=0;O<arguments.length;O++)v[O]=arguments[O];var T=v.shift();if(T){_.error(T);return}_.next(v.length<=1?v[0]:v),_.complete()},"handler");try{r.apply(h,n.concat([l]))}catch(v){k2.canReportError(_)?_.error(v):console.warn(v)}}return _.subscribe(f)})}}s(FS,"bindNodeCallback");c_.bindNodeCallback=FS;function W2(r){var t=this,e=r.params,n=r.subscriber,i=r.context,o=e.callbackFunc,f=e.args,h=e.scheduler,_=e.subject;if(!_){_=e.subject=new kS.AsyncSubject;var l=s(function(){for(var v=[],O=0;O<arguments.length;O++)v[O]=arguments[O];var T=v.shift();if(T)t.add(h.schedule(US,0,{err:T,subject:_}));else{var j=v.length<=1?v[0]:v;t.add(h.schedule(V2,0,{value:j,subject:_}))}},"handler");try{o.apply(i,f.concat([l]))}catch(v){this.add(h.schedule(US,0,{err:v,subject:_}))}}this.add(_.subscribe(n))}s(W2,"dispatch");function V2(r){var t=r.value,e=r.subject;e.next(t),e.complete()}s(V2,"dispatchNext");function US(r){var t=r.err,e=r.subject;e.error(t)}s(US,"dispatchError")});var pn=m(ku=>{"use strict";var H2=ku&&ku.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ku,"__esModule",{value:!0});var z2=$(),Y2=function(r){H2(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"OuterSubscriber"),t.prototype.notifyNext=function(e,n,i,o,f){this.destination.next(n)},t.prototype.notifyError=function(e,n){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(z2.Subscriber);ku.OuterSubscriber=Y2});var WS=m(Fu=>{"use strict";var G2=Fu&&Fu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Fu,"__esModule",{value:!0});var $2=$(),Z2=function(r){G2(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o.index=0,o}return s(t,"InnerSubscriber"),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}($2.Subscriber);Fu.InnerSubscriber=Z2});var VS=m(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});var K2=Ac();f_.subscribeToPromise=function(r){return function(t){return r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,K2.hostReportError),t}}});var ao=m(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});function HS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}s(HS,"getSymbolIterator");so.getSymbolIterator=HS;so.iterator=HS();so.$$iterator=so.iterator});var zS=m(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});var Q2=ao();l_.subscribeToIterable=function(r){return function(t){var e=r[Q2.iterator]();do{var n=void 0;try{n=e.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof e.return=="function"&&t.add(function(){e.return&&e.return()}),t}}});var YS=m(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});var X2=Fn();h_.subscribeToObservable=function(r){return function(t){var e=r[X2.observable]();if(typeof e.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}}});var __=m(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var v_=m(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});function J2(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}s(J2,"isPromise");d_.isPromise=J2});var Bu=m(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});var eW=$p(),tW=VS(),rW=zS(),nW=YS(),iW=__(),oW=v_(),uW=Rc(),sW=ao(),aW=Fn();b_.subscribeTo=function(r){if(r&&typeof r[aW.observable]=="function")return nW.subscribeToObservable(r);if(iW.isArrayLike(r))return eW.subscribeToArray(r);if(oW.isPromise(r))return tW.subscribeToPromise(r);if(r&&typeof r[sW.iterator]=="function")return rW.subscribeToIterable(r);var t=uW.isObject(r)?"an invalid object":"'"+r+"'",e="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(e)}});var _n=m(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});var cW=WS(),fW=Bu(),lW=ae();function hW(r,t,e,n,i){if(i===void 0&&(i=new cW.InnerSubscriber(r,e,n)),!i.closed)return t instanceof lW.Observable?t.subscribe(i):fW.subscribeTo(t)(i)}s(hW,"subscribeToResult");y_.subscribeToResult=hW});var Yc=m(Wn=>{"use strict";var pW=Wn&&Wn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Wn,"__esModule",{value:!0});var _W=ir(),dW=rt(),vW=pn(),bW=_n(),yW=ro(),GS={};function mW(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0,n=void 0;return _W.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&dW.isArray(r[0])&&(r=r[0]),yW.fromArray(r,n).lift(new $S(e))}s(mW,"combineLatest");Wn.combineLatest=mW;var $S=function(){function r(t){this.resultSelector=t}return s(r,"CombineLatestOperator"),r.prototype.call=function(t,e){return e.subscribe(new ZS(t,this.resultSelector))},r}();Wn.CombineLatestOperator=$S;var ZS=function(r){pW(t,r);function t(e,n){var i=r.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return s(t,"CombineLatestSubscriber"),t.prototype._next=function(e){this.values.push(GS),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=e[i];this.add(bW.subscribeToResult(this,o,void 0,i))}}},t.prototype.notifyComplete=function(e){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(e,n,i){var o=this.values,f=o[i],h=this.toRespond?f===GS?--this.toRespond:this.toRespond:0;o[i]=n,h===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(vW.OuterSubscriber);Wn.CombineLatestSubscriber=ZS});var KS=m(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});var gW=ae(),OW=ke(),SW=Fn();function EW(r,t){return new gW.Observable(function(e){var n=new OW.Subscription;return n.add(t.schedule(function(){var i=r[SW.observable]();n.add(i.subscribe({next:function(o){n.add(t.schedule(function(){return e.next(o)}))},error:function(o){n.add(t.schedule(function(){return e.error(o)}))},complete:function(){n.add(t.schedule(function(){return e.complete()}))}}))})),n})}s(EW,"scheduleObservable");m_.scheduleObservable=EW});var QS=m(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});var wW=ae(),TW=ke();function CW(r,t){return new wW.Observable(function(e){var n=new TW.Subscription;return n.add(t.schedule(function(){return r.then(function(i){n.add(t.schedule(function(){e.next(i),n.add(t.schedule(function(){return e.complete()}))}))},function(i){n.add(t.schedule(function(){return e.error(i)}))})})),n})}s(CW,"schedulePromise");g_.schedulePromise=CW});var XS=m(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});var PW=ae(),IW=ke(),AW=ao();function RW(r,t){if(!r)throw new Error("Iterable cannot be null");return new PW.Observable(function(e){var n=new IW.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(t.schedule(function(){i=r[AW.iterator](),n.add(t.schedule(function(){if(!e.closed){var o,f;try{var h=i.next();o=h.value,f=h.done}catch(_){e.error(_);return}f?e.complete():(e.next(o),this.schedule())}}))})),n})}s(RW,"scheduleIterable");O_.scheduleIterable=RW});var JS=m(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var xW=Fn();function NW(r){return r&&typeof r[xW.observable]=="function"}s(NW,"isInteropObservable");S_.isInteropObservable=NW});var e0=m(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});var qW=ao();function DW(r){return r&&typeof r[qW.iterator]=="function"}s(DW,"isIterable");E_.isIterable=DW});var T_=m(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});var jW=KS(),MW=QS(),LW=Fc(),UW=XS(),kW=JS(),FW=v_(),BW=__(),WW=e0();function VW(r,t){if(r!=null){if(kW.isInteropObservable(r))return jW.scheduleObservable(r,t);if(FW.isPromise(r))return MW.schedulePromise(r,t);if(BW.isArrayLike(r))return LW.scheduleArray(r,t);if(WW.isIterable(r)||typeof r=="string")return UW.scheduleIterable(r,t)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}s(VW,"scheduled");w_.scheduled=VW});var or=m(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});var t0=ae(),HW=Bu(),zW=T_();function YW(r,t){return t?zW.scheduled(r,t):r instanceof t0.Observable?r:new t0.Observable(HW.subscribeTo(r))}s(YW,"from");C_.from=YW});var Ce=m(kr=>{"use strict";var Gc=kr&&kr.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(kr,"__esModule",{value:!0});var $c=$(),GW=ae(),$W=Bu(),ZW=function(r){Gc(t,r);function t(e){var n=r.call(this)||this;return n.parent=e,n}return s(t,"SimpleInnerSubscriber"),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}($c.Subscriber);kr.SimpleInnerSubscriber=ZW;var KW=function(r){Gc(t,r);function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o}return s(t,"ComplexInnerSubscriber"),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}($c.Subscriber);kr.ComplexInnerSubscriber=KW;var QW=function(r){Gc(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"SimpleOuterSubscriber"),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}($c.Subscriber);kr.SimpleOuterSubscriber=QW;var XW=function(r){Gc(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"ComplexOuterSubscriber"),t.prototype.notifyNext=function(e,n,i,o){this.destination.next(n)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}($c.Subscriber);kr.ComplexOuterSubscriber=XW;function JW(r,t){if(!t.closed){if(r instanceof GW.Observable)return r.subscribe(t);var e;try{e=$W.subscribeTo(r)(t)}catch(n){t.error(n)}return e}}s(JW,"innerSubscribe");kr.innerSubscribe=JW});var Wu=m(dn=>{"use strict";var e4=dn&&dn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(dn,"__esModule",{value:!0});var t4=Pt(),r4=or(),P_=Ce();function I_(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(I_(function(i,o){return r4.from(r(i,o)).pipe(t4.map(function(f,h){return t(i,f,o,h)}))},e))}:(typeof t=="number"&&(e=t),function(n){return n.lift(new r0(r,e))})}s(I_,"mergeMap");dn.mergeMap=I_;var r0=function(){function r(t,e){e===void 0&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return s(r,"MergeMapOperator"),r.prototype.call=function(t,e){return e.subscribe(new n0(t,this.project,this.concurrent))},r}();dn.MergeMapOperator=r0;var n0=function(r){e4(t,r);function t(e,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,e)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return s(t,"MergeMapSubscriber"),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new P_.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=P_.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(P_.SimpleOuterSubscriber);dn.MergeMapSubscriber=n0;dn.flatMap=I_});var Zc=m(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});var n4=Wu(),i4=ln();function o4(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),n4.mergeMap(i4.identity,r)}s(o4,"mergeAll");A_.mergeAll=o4});var x_=m(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});var u4=Zc();function s4(){return u4.mergeAll(1)}s(s4,"concatAll");R_.concatAll=s4});var Vu=m(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});var a4=Cu(),c4=x_();function f4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return c4.concatAll()(a4.of.apply(void 0,r))}s(f4,"concat");N_.concat=f4});var Kc=m(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});var l4=ae(),h4=or(),p4=nr();function _4(r){return new l4.Observable(function(t){var e;try{e=r()}catch(i){t.error(i);return}var n=e?h4.from(e):p4.empty();return n.subscribe(t)})}s(_4,"defer");q_.defer=_4});var o0=m(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});var d4=ae(),i0=rt(),v4=Pt(),b4=Rc(),y4=or();function m4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1){var e=r[0];if(i0.isArray(e))return Qc(e,null);if(b4.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype){var n=Object.keys(e);return Qc(n.map(function(o){return e[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&i0.isArray(r[0])?r[0]:r,Qc(r,null).pipe(v4.map(function(o){return i.apply(void 0,o)}))}return Qc(r,null)}s(m4,"forkJoin");D_.forkJoin=m4;function Qc(r,t){return new d4.Observable(function(e){var n=r.length;if(n===0){e.complete();return}for(var i=new Array(n),o=0,f=0,h=s(function(l){var v=y4.from(r[l]),O=!1;e.add(v.subscribe({next:function(T){O||(O=!0,f++),i[l]=T},error:function(T){return e.error(T)},complete:function(){o++,(o===n||!O)&&(f===n&&e.next(t?t.reduce(function(T,j,U){return T[j]=i[U],T},{}):i),e.complete())}}))},"_loop_1"),_=0;_<n;_++)h(_)})}s(Qc,"forkJoinInternal")});var a0=m(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});var g4=ae(),O4=rt(),S4=Zi(),E4=Pt();function u0(r,t,e,n){return S4.isFunction(e)&&(n=e,e=void 0),n?u0(r,t,e).pipe(E4.map(function(i){return O4.isArray(i)?n.apply(void 0,i):n(i)})):new g4.Observable(function(i){function o(f){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(f)}s(o,"handler"),s0(r,t,o,i,e)})}s(u0,"fromEvent");j_.fromEvent=u0;function s0(r,t,e,n,i){var o;if(C4(r)){var f=r;r.addEventListener(t,e,i),o=s(function(){return f.removeEventListener(t,e,i)},"unsubscribe")}else if(T4(r)){var h=r;r.on(t,e),o=s(function(){return h.off(t,e)},"unsubscribe")}else if(w4(r)){var _=r;r.addListener(t,e),o=s(function(){return _.removeListener(t,e)},"unsubscribe")}else if(r&&r.length)for(var l=0,v=r.length;l<v;l++)s0(r[l],t,e,n,i);else throw new TypeError("Invalid event target");n.add(o)}s(s0,"setupSubscription");function w4(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}s(w4,"isNodeStyleEventEmitter");function T4(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}s(T4,"isJQueryStyleEventEmitter");function C4(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}s(C4,"isEventTarget")});var f0=m(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});var P4=ae(),I4=rt(),A4=Zi(),R4=Pt();function c0(r,t,e){return e?c0(r,t).pipe(R4.map(function(n){return I4.isArray(n)?e.apply(void 0,n):e(n)})):new P4.Observable(function(n){var i=s(function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return n.next(f.length===1?f[0]:f)},"handler"),o;try{o=r(i)}catch(f){n.error(f);return}if(A4.isFunction(t))return function(){return t(i,o)}})}s(c0,"fromEventPattern");M_.fromEventPattern=c0});var h0=m(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});var x4=ae(),l0=ln(),N4=ir();function q4(r,t,e,n,i){var o,f;if(arguments.length==1){var h=r;f=h.initialState,t=h.condition,e=h.iterate,o=h.resultSelector||l0.identity,i=h.scheduler}else n===void 0||N4.isScheduler(n)?(f=r,o=l0.identity,i=n):(f=r,o=n);return new x4.Observable(function(_){var l=f;if(i)return i.schedule(D4,0,{subscriber:_,iterate:e,condition:t,resultSelector:o,state:l});do{if(t){var v=void 0;try{v=t(l)}catch(T){_.error(T);return}if(!v){_.complete();break}}var O=void 0;try{O=o(l)}catch(T){_.error(T);return}if(_.next(O),_.closed)break;try{l=e(l)}catch(T){_.error(T);return}}while(!0)})}s(q4,"generate");L_.generate=q4;function D4(r){var t=r.subscriber,e=r.condition;if(!t.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){t.error(o);return}else r.needIterate=!0;if(e){var n=void 0;try{n=e(r.state)}catch(o){t.error(o);return}if(!n){t.complete();return}if(t.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){t.error(o);return}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(r)}}s(D4,"dispatch")});var _0=m(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});var j4=Kc(),p0=nr();function M4(r,t,e){return t===void 0&&(t=p0.EMPTY),e===void 0&&(e=p0.EMPTY),j4.defer(function(){return r()?t:e})}s(M4,"iif");U_.iif=M4});var Hu=m(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});var L4=rt();function U4(r){return!L4.isArray(r)&&r-parseFloat(r)+1>=0}s(U4,"isNumeric");k_.isNumeric=U4});var v0=m(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});var k4=ae(),d0=nt(),F4=Hu();function B4(r,t){return r===void 0&&(r=0),t===void 0&&(t=d0.async),(!F4.isNumeric(r)||r<0)&&(r=0),(!t||typeof t.schedule!="function")&&(t=d0.async),new k4.Observable(function(e){return e.add(t.schedule(W4,r,{subscriber:e,counter:0,period:r})),e})}s(B4,"interval");F_.interval=B4;function W4(r){var t=r.subscriber,e=r.counter,n=r.period;t.next(e),this.schedule({subscriber:t,counter:e+1,period:n},n)}s(W4,"dispatch")});var W_=m(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});var V4=ae(),H4=ir(),z4=Zc(),Y4=ro();function G4(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return H4.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(e=r.pop())):typeof i=="number"&&(e=r.pop()),n===null&&r.length===1&&r[0]instanceof V4.Observable?r[0]:z4.mergeAll(e)(Y4.fromArray(r,n))}s(G4,"merge");B_.merge=G4});var V_=m(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var $4=ae(),Z4=zc();zu.NEVER=new $4.Observable(Z4.noop);function K4(){return zu.NEVER}s(K4,"never");zu.never=K4});var b0=m(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});var Q4=ae(),X4=or(),J4=rt(),eV=nr();function H_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===0)return eV.EMPTY;var e=r[0],n=r.slice(1);return r.length===1&&J4.isArray(e)?H_.apply(void 0,e):new Q4.Observable(function(i){var o=s(function(){return i.add(H_.apply(void 0,n).subscribe(i))},"subNext");return X4.from(e).subscribe({next:function(f){i.next(f)},error:o,complete:o})})}s(H_,"onErrorResumeNext");z_.onErrorResumeNext=H_});var g0=m(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var y0=ae(),tV=ke();function rV(r,t){return t?new y0.Observable(function(e){var n=Object.keys(r),i=new tV.Subscription;return i.add(t.schedule(m0,0,{keys:n,index:0,subscriber:e,subscription:i,obj:r})),i}):new y0.Observable(function(e){for(var n=Object.keys(r),i=0;i<n.length&&!e.closed;i++){var o=n[i];r.hasOwnProperty(o)&&e.next([o,r[o]])}e.complete()})}s(rV,"pairs");Xc.pairs=rV;function m0(r){var t=r.keys,e=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(e<t.length){var f=t[e];n.next([f,o[f]]),i.add(this.schedule({keys:t,index:e+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}s(m0,"dispatch");Xc.dispatch=m0});var G_=m(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});function nV(r,t){function e(){return!e.pred.apply(e.thisArg,arguments)}return s(e,"notPred"),e.pred=r,e.thisArg=t,e}s(nV,"not");Y_.not=nV});var Vn=m(Yu=>{"use strict";var iV=Yu&&Yu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Yu,"__esModule",{value:!0});var oV=$();function uV(r,t){return s(function(n){return n.lift(new sV(r,t))},"filterOperatorFunction")}s(uV,"filter");Yu.filter=uV;var sV=function(){function r(t,e){this.predicate=t,this.thisArg=e}return s(r,"FilterOperator"),r.prototype.call=function(t,e){return e.subscribe(new aV(t,this.predicate,this.thisArg))},r}(),aV=function(r){iV(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return s(t,"FilterSubscriber"),t.prototype._next=function(e){var n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(e)},t}(oV.Subscriber)});var w0=m($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});var cV=G_(),O0=Bu(),S0=Vn(),E0=ae();function fV(r,t,e){return[S0.filter(t,e)(new E0.Observable(O0.subscribeTo(r))),S0.filter(cV.not(t,e))(new E0.Observable(O0.subscribeTo(r)))]}s(fV,"partition");$_.partition=fV});var Z_=m(Hn=>{"use strict";var lV=Hn&&Hn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Hn,"__esModule",{value:!0});var hV=rt(),pV=ro(),_V=pn(),dV=_n();function vV(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)if(hV.isArray(r[0]))r=r[0];else return r[0];return pV.fromArray(r,void 0).lift(new T0)}s(vV,"race");Hn.race=vV;var T0=function(){function r(){}return s(r,"RaceOperator"),r.prototype.call=function(t,e){return e.subscribe(new C0(t))},r}();Hn.RaceOperator=T0;var C0=function(r){lV(t,r);function t(e){var n=r.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return s(t,"RaceSubscriber"),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,n=e.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=e[i],f=dV.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(f),this.add(f)}this.observables=null}},t.prototype.notifyNext=function(e,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var f=this.subscriptions[o];f.unsubscribe(),this.remove(f)}this.subscriptions=null}this.destination.next(n)},t}(_V.OuterSubscriber);Hn.RaceSubscriber=C0});var I0=m(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});var bV=ae();function yV(r,t,e){return r===void 0&&(r=0),new bV.Observable(function(n){t===void 0&&(t=r,r=0);var i=0,o=r;if(e)return e.schedule(P0,0,{index:i,count:t,start:r,subscriber:n});do{if(i++>=t){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}s(yV,"range");Jc.range=yV;function P0(r){var t=r.start,e=r.index,n=r.count,i=r.subscriber;if(e>=n){i.complete();return}i.next(t),!i.closed&&(r.index=e+1,r.start=t+1,this.schedule(r))}s(P0,"dispatch");Jc.dispatch=P0});var Q_=m(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});var mV=ae(),gV=nt(),A0=Hu(),R0=ir();function OV(r,t,e){r===void 0&&(r=0);var n=-1;return A0.isNumeric(t)?n=Number(t)<1&&1||Number(t):R0.isScheduler(t)&&(e=t),R0.isScheduler(e)||(e=gV.async),new mV.Observable(function(i){var o=A0.isNumeric(r)?r:+r-e.now();return e.schedule(SV,o,{index:0,period:n,subscriber:i})})}s(OV,"timer");K_.timer=OV;function SV(r){var t=r.index,e=r.period,n=r.subscriber;if(n.next(t),!n.closed){if(e===-1)return n.complete();r.index=t+1,this.schedule(r,e)}}s(SV,"dispatch")});var x0=m(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});var EV=ae(),wV=or(),TV=nr();function CV(r,t){return new EV.Observable(function(e){var n;try{n=r()}catch(h){e.error(h);return}var i;try{i=t(n)}catch(h){e.error(h);return}var o=i?wV.from(i):TV.EMPTY,f=o.subscribe(e);return function(){f.unsubscribe(),n&&n.unsubscribe()}})}s(CV,"using");X_.using=CV});var tf=m(zn=>{"use strict";var N0=zn&&zn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(zn,"__esModule",{value:!0});var PV=ro(),IV=rt(),AV=$(),ef=ao(),J_=Ce();function RV(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return typeof e=="function"&&r.pop(),PV.fromArray(r,void 0).lift(new q0(e))}s(RV,"zip");zn.zip=RV;var q0=function(){function r(t){this.resultSelector=t}return s(r,"ZipOperator"),r.prototype.call=function(t,e){return e.subscribe(new D0(t,this.resultSelector))},r}();zn.ZipOperator=q0;var D0=function(r){N0(t,r);function t(e,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,e)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return s(t,"ZipSubscriber"),t.prototype._next=function(e){var n=this.iterators;IV.isArray(e)?n.push(new NV(e)):typeof e[ef.iterator]=="function"?n.push(new xV(e[ef.iterator]())):n.push(new qV(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,n=e.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=e[i];if(o.stillUnsubscribed){var f=this.destination;f.add(o.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,n=e.length,i=this.destination,o=0;o<n;o++){var f=e[o];if(typeof f.hasValue=="function"&&!f.hasValue())return}for(var h=!1,_=[],o=0;o<n;o++){var f=e[o],l=f.next();if(f.hasCompleted()&&(h=!0),l.done){i.complete();return}_.push(l.value)}this.resultSelector?this._tryresultSelector(_):i.next(_),h&&i.complete()},t.prototype._tryresultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(AV.Subscriber);zn.ZipSubscriber=D0;var xV=function(){function r(t){this.iterator=t,this.nextResult=t.next()}return s(r,"StaticIterator"),r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},r.prototype.hasCompleted=function(){var t=this.nextResult;return!!(t&&t.done)},r}(),NV=function(){function r(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return s(r,"StaticArrayIterator"),r.prototype[ef.iterator]=function(){return this},r.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),qV=function(r){N0(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return s(t,"ZipBufferIterator"),t.prototype[ef.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return e.length===0&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return J_.innerSubscribe(this.observable,new J_.SimpleInnerSubscriber(this))},t}(J_.SimpleOuterSubscriber)});var Gu=m(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});var DV=ae();k.Observable=DV.Observable;var jV=kp();k.ConnectableObservable=jV.ConnectableObservable;var MV=Bp();k.GroupedObservable=MV.GroupedObservable;var LV=Fn();k.observable=LV.observable;var UV=Ze();k.Subject=UV.Subject;var kV=Wp();k.BehaviorSubject=kV.BehaviorSubject;var FV=Wc();k.ReplaySubject=FV.ReplaySubject;var BV=xu();k.AsyncSubject=BV.AsyncSubject;var j0=t_();k.asap=j0.asap;k.asapScheduler=j0.asapScheduler;var M0=nt();k.async=M0.async;k.asyncScheduler=M0.asyncScheduler;var L0=zp();k.queue=L0.queue;k.queueScheduler=L0.queueScheduler;var U0=AS();k.animationFrame=U0.animationFrame;k.animationFrameScheduler=U0.animationFrameScheduler;var k0=NS();k.VirtualTimeScheduler=k0.VirtualTimeScheduler;k.VirtualAction=k0.VirtualAction;var WV=Hp();k.Scheduler=WV.Scheduler;var VV=ke();k.Subscription=VV.Subscription;var HV=$();k.Subscriber=HV.Subscriber;var F0=Iu();k.Notification=F0.Notification;k.NotificationKind=F0.NotificationKind;var zV=Mc();k.pipe=zV.pipe;var YV=zc();k.noop=YV.noop;var GV=ln();k.identity=GV.identity;var $V=qS();k.isObservable=$V.isObservable;var ZV=io();k.ArgumentOutOfRangeError=ZV.ArgumentOutOfRangeError;var KV=oo();k.EmptyError=KV.EmptyError;var QV=_u();k.ObjectUnsubscribedError=QV.ObjectUnsubscribedError;var XV=Ep();k.UnsubscriptionError=XV.UnsubscriptionError;var JV=s_();k.TimeoutError=JV.TimeoutError;var eH=LS();k.bindCallback=eH.bindCallback;var tH=BS();k.bindNodeCallback=tH.bindNodeCallback;var rH=Yc();k.combineLatest=rH.combineLatest;var nH=Vu();k.concat=nH.concat;var iH=Kc();k.defer=iH.defer;var oH=nr();k.empty=oH.empty;var uH=o0();k.forkJoin=uH.forkJoin;var sH=or();k.from=sH.from;var aH=a0();k.fromEvent=aH.fromEvent;var cH=f0();k.fromEventPattern=cH.fromEventPattern;var fH=h0();k.generate=fH.generate;var lH=_0();k.iif=lH.iif;var hH=v0();k.interval=hH.interval;var pH=W_();k.merge=pH.merge;var _H=V_();k.never=_H.never;var dH=Cu();k.of=dH.of;var vH=b0();k.onErrorResumeNext=vH.onErrorResumeNext;var bH=g0();k.pairs=bH.pairs;var yH=w0();k.partition=yH.partition;var mH=Z_();k.race=mH.race;var gH=I0();k.range=gH.range;var OH=Bc();k.throwError=OH.throwError;var SH=Q_();k.timer=SH.timer;var EH=x0();k.using=EH.using;var wH=tf();k.zip=wH.zip;var TH=T_();k.scheduled=TH.scheduled;var CH=nr();k.EMPTY=CH.EMPTY;var PH=V_();k.NEVER=PH.NEVER;var IH=hu();k.config=IH.config});var td=m($u=>{"use strict";var AH=$u&&$u.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($u,"__esModule",{value:!0});var ed=Ce();function RH(r){return s(function(e){return e.lift(new xH(r))},"auditOperatorFunction")}s(RH,"audit");$u.audit=RH;var xH=function(){function r(t){this.durationSelector=t}return s(r,"AuditOperator"),r.prototype.call=function(t,e){return e.subscribe(new NH(t,this.durationSelector))},r}(),NH=function(r){AH(t,r);function t(e,n){var i=r.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return s(t,"AuditSubscriber"),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(e)}catch(f){return this.destination.error(f)}var o=ed.innerSubscribe(n,new ed.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},t.prototype.clearThrottle=function(){var e=this,n=e.value,i=e.hasValue,o=e.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(ed.SimpleOuterSubscriber)});var B0=m(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var qH=nt(),DH=td(),jH=Q_();function MH(r,t){return t===void 0&&(t=qH.async),DH.audit(function(){return jH.timer(r,t)})}s(MH,"auditTime");rd.auditTime=MH});var W0=m(Zu=>{"use strict";var LH=Zu&&Zu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Zu,"__esModule",{value:!0});var nd=Ce();function UH(r){return s(function(e){return e.lift(new kH(r))},"bufferOperatorFunction")}s(UH,"buffer");Zu.buffer=UH;var kH=function(){function r(t){this.closingNotifier=t}return s(r,"BufferOperator"),r.prototype.call=function(t,e){return e.subscribe(new FH(t,this.closingNotifier))},r}(),FH=function(r){LH(t,r);function t(e,n){var i=r.call(this,e)||this;return i.buffer=[],i.add(nd.innerSubscribe(n,new nd.SimpleInnerSubscriber(i))),i}return s(t,"BufferSubscriber"),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(nd.SimpleOuterSubscriber)});var z0=m(Ku=>{"use strict";var V0=Ku&&Ku.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ku,"__esModule",{value:!0});var H0=$();function BH(r,t){return t===void 0&&(t=null),s(function(n){return n.lift(new WH(r,t))},"bufferCountOperatorFunction")}s(BH,"bufferCount");Ku.bufferCount=BH;var WH=function(){function r(t,e){this.bufferSize=t,this.startBufferEvery=e,!e||t===e?this.subscriberClass=VH:this.subscriberClass=HH}return s(r,"BufferCountOperator"),r.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},r}(),VH=function(r){V0(t,r);function t(e,n){var i=r.call(this,e)||this;return i.bufferSize=n,i.buffer=[],i}return s(t,"BufferCountSubscriber"),t.prototype._next=function(e){var n=this.buffer;n.push(e),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},t.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),r.prototype._complete.call(this)},t}(H0.Subscriber),HH=function(r){V0(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return s(t,"BufferSkipCountSubscriber"),t.prototype._next=function(e){var n=this,i=n.bufferSize,o=n.startBufferEvery,f=n.buffers,h=n.count;this.count++,h%o===0&&f.push([]);for(var _=f.length;_--;){var l=f[_];l.push(e),l.length===i&&(f.splice(_,1),this.destination.next(l))}},t.prototype._complete=function(){for(var e=this,n=e.buffers,i=e.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},t}(H0.Subscriber)});var $0=m(Qu=>{"use strict";var zH=Qu&&Qu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qu,"__esModule",{value:!0});var YH=nt(),GH=$(),$H=ir();function ZH(r){var t=arguments.length,e=YH.async;$H.isScheduler(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),s(function(f){return f.lift(new KH(r,n,i,e))},"bufferTimeOperatorFunction")}s(ZH,"bufferTime");Qu.bufferTime=ZH;var KH=function(){function r(t,e,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=i}return s(r,"BufferTimeOperator"),r.prototype.call=function(t,e){return e.subscribe(new XH(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),QH=function(){function r(){this.buffer=[]}return s(r,"Context"),r}(),XH=function(r){zH(t,r);function t(e,n,i,o,f){var h=r.call(this,e)||this;h.bufferTimeSpan=n,h.bufferCreationInterval=i,h.maxBufferSize=o,h.scheduler=f,h.contexts=[];var _=h.openContext();if(h.timespanOnly=i==null||i<0,h.timespanOnly){var l={subscriber:h,context:_,bufferTimeSpan:n};h.add(_.closeAction=f.schedule(Y0,n,l))}else{var v={subscriber:h,context:_},O={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:h,scheduler:f};h.add(_.closeAction=f.schedule(G0,n,v)),h.add(f.schedule(JH,i,O))}return h}return s(t,"BufferTimeSubscriber"),t.prototype._next=function(e){for(var n=this.contexts,i=n.length,o,f=0;f<i;f++){var h=n[f],_=h.buffer;_.push(e),_.length==this.maxBufferSize&&(o=h)}o&&this.onBufferFull(o)},t.prototype._error=function(e){this.contexts.length=0,r.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this,n=e.contexts,i=e.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var n=e.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){e=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:e,bufferTimeSpan:i};this.add(e.closeAction=this.scheduler.schedule(Y0,i,o))}},t.prototype.openContext=function(){var e=new QH;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var n=this.contexts,i=n?n.indexOf(e):-1;i>=0&&n.splice(n.indexOf(e),1)},t}(GH.Subscriber);function Y0(r){var t=r.subscriber,e=r.context;e&&t.closeContext(e),t.closed||(r.context=t.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}s(Y0,"dispatchBufferTimeSpanOnly");function JH(r){var t=r.bufferCreationInterval,e=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),f=this;n.closed||(n.add(o.closeAction=i.schedule(G0,e,{subscriber:n,context:o})),f.schedule(r,t))}s(JH,"dispatchBufferCreation");function G0(r){var t=r.subscriber,e=r.context;t.closeContext(e)}s(G0,"dispatchBufferClose")});var K0=m(Xu=>{"use strict";var e3=Xu&&Xu.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Xu,"__esModule",{value:!0});var t3=ke(),Z0=_n(),r3=pn();function n3(r,t){return s(function(n){return n.lift(new i3(r,t))},"bufferToggleOperatorFunction")}s(n3,"bufferToggle");Xu.bufferToggle=n3;var i3=function(){function r(t,e){this.openings=t,this.closingSelector=e}return s(r,"BufferToggleOperator"),r.prototype.call=function(t,e){return e.subscribe(new o3(t,this.openings,this.closingSelector))},r}(),o3=function(r){e3(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.closingSelector=i,o.contexts=[],o.add(Z0.subscribeToResult(o,n)),o}return s(t,"BufferToggleSubscriber"),t.prototype._next=function(e){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(e)},t.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,e)},t.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},t.prototype.notifyNext=function(e,n){e?this.closeBuffer(e):this.openBuffer(n)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var n=this.closingSelector,i=n.call(this,e);i&&this.trySubscribe(i)}catch(o){this._error(o)}},t.prototype.closeBuffer=function(e){var n=this.contexts;if(n&&e){var i=e.buffer,o=e.subscription;this.destination.next(i),n.splice(n.indexOf(e),1),this.remove(o),o.unsubscribe()}},t.prototype.trySubscribe=function(e){var n=this.contexts,i=[],o=new t3.Subscription,f={buffer:i,subscription:o};n.push(f);var h=Z0.subscribeToResult(this,e,f);!h||h.closed?this.closeBuffer(f):(h.context=f,this.add(h),o.add(h))},t}(r3.OuterSubscriber)});var Q0=m(Ju=>{"use strict";var u3=Ju&&Ju.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ju,"__esModule",{value:!0});var s3=ke(),id=Ce();function a3(r){return function(t){return t.lift(new c3(r))}}s(a3,"bufferWhen");Ju.bufferWhen=a3;var c3=function(){function r(t){this.closingSelector=t}return s(r,"BufferWhenOperator"),r.prototype.call=function(t,e){return e.subscribe(new f3(t,this.closingSelector))},r}(),f3=function(r){u3(t,r);function t(e,n){var i=r.call(this,e)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return s(t,"BufferWhenSubscriber"),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(f){return this.error(f)}e=new s3.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(id.innerSubscribe(i,new id.SimpleInnerSubscriber(this))),this.subscribing=!1},t}(id.SimpleOuterSubscriber)});var X0=m(es=>{"use strict";var l3=es&&es.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(es,"__esModule",{value:!0});var od=Ce();function h3(r){return s(function(e){var n=new p3(r),i=e.lift(n);return n.caught=i},"catchErrorOperatorFunction")}s(h3,"catchError");es.catchError=h3;var p3=function(){function r(t){this.selector=t}return s(r,"CatchOperator"),r.prototype.call=function(t,e){return e.subscribe(new _3(t,this.selector,this.caught))},r}(),_3=function(r){l3(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.selector=n,o.caught=i,o}return s(t,"CatchSubscriber"),t.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(f){r.prototype.error.call(this,f);return}this._unsubscribeAndRecycle();var i=new od.SimpleInnerSubscriber(this);this.add(i);var o=od.innerSubscribe(n,i);o!==i&&this.add(o)}},t}(od.SimpleOuterSubscriber)});var J0=m(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});var d3=Yc();function v3(r){return function(t){return t.lift(new d3.CombineLatestOperator(r))}}s(v3,"combineAll");ud.combineAll=v3});var eE=m(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});var b3=rt(),y3=Yc(),m3=or();function g3(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=null;return typeof r[r.length-1]=="function"&&(e=r.pop()),r.length===1&&b3.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(m3.from([n].concat(r)),new y3.CombineLatestOperator(e))}}s(g3,"combineLatest");sd.combineLatest=g3});var tE=m(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var O3=Vu();function S3(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return e.lift.call(O3.concat.apply(void 0,[e].concat(r)))}}s(S3,"concat");ad.concat=S3});var fd=m(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});var E3=Wu();function w3(r,t){return E3.mergeMap(r,t,1)}s(w3,"concatMap");cd.concatMap=w3});var rE=m(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});var T3=fd();function C3(r,t){return T3.concatMap(function(){return r},t)}s(C3,"concatMapTo");ld.concatMapTo=C3});var nE=m(ts=>{"use strict";var P3=ts&&ts.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ts,"__esModule",{value:!0});var I3=$();function A3(r){return function(t){return t.lift(new R3(r,t))}}s(A3,"count");ts.count=A3;var R3=function(){function r(t,e){this.predicate=t,this.source=e}return s(r,"CountOperator"),r.prototype.call=function(t,e){return e.subscribe(new x3(t,this.predicate,this.source))},r}(),x3=function(r){P3(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return s(t,"CountSubscriber"),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var n;try{n=this.predicate(e,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(I3.Subscriber)});var iE=m(rs=>{"use strict";var N3=rs&&rs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(rs,"__esModule",{value:!0});var hd=Ce();function q3(r){return function(t){return t.lift(new D3(r))}}s(q3,"debounce");rs.debounce=q3;var D3=function(){function r(t){this.durationSelector=t}return s(r,"DebounceOperator"),r.prototype.call=function(t,e){return e.subscribe(new j3(t,this.durationSelector))},r}(),j3=function(r){N3(t,r);function t(e,n){var i=r.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return s(t,"DebounceSubscriber"),t.prototype._next=function(e){try{var n=this.durationSelector.call(this,e);n&&this._tryNext(e,n)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,n){var i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=hd.innerSubscribe(n,new hd.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,e)}},t}(hd.SimpleOuterSubscriber)});var oE=m(ns=>{"use strict";var M3=ns&&ns.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ns,"__esModule",{value:!0});var L3=$(),U3=nt();function k3(r,t){return t===void 0&&(t=U3.async),function(e){return e.lift(new F3(r,t))}}s(k3,"debounceTime");ns.debounceTime=k3;var F3=function(){function r(t,e){this.dueTime=t,this.scheduler=e}return s(r,"DebounceTimeOperator"),r.prototype.call=function(t,e){return e.subscribe(new B3(t,this.dueTime,this.scheduler))},r}(),B3=function(r){M3(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return s(t,"DebounceTimeSubscriber"),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(W3,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;e!==null&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(L3.Subscriber);function W3(r){r.debouncedNext()}s(W3,"dispatchNext")});var co=m(is=>{"use strict";var V3=is&&is.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(is,"__esModule",{value:!0});var H3=$();function z3(r){return r===void 0&&(r=null),function(t){return t.lift(new Y3(r))}}s(z3,"defaultIfEmpty");is.defaultIfEmpty=z3;var Y3=function(){function r(t){this.defaultValue=t}return s(r,"DefaultIfEmptyOperator"),r.prototype.call=function(t,e){return e.subscribe(new G3(t,this.defaultValue))},r}(),G3=function(r){V3(t,r);function t(e,n){var i=r.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return s(t,"DefaultIfEmptySubscriber"),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(H3.Subscriber)});var _d=m(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});function $3(r){return r instanceof Date&&!isNaN(+r)}s($3,"isDate");pd.isDate=$3});var sE=m(os=>{"use strict";var Z3=os&&os.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(os,"__esModule",{value:!0});var K3=nt(),Q3=_d(),X3=$(),uE=Iu();function J3(r,t){t===void 0&&(t=K3.async);var e=Q3.isDate(r),n=e?+r-t.now():Math.abs(r);return function(i){return i.lift(new e8(n,t))}}s(J3,"delay");os.delay=J3;var e8=function(){function r(t,e){this.delay=t,this.scheduler=e}return s(r,"DelayOperator"),r.prototype.call=function(t,e){return e.subscribe(new t8(t,this.delay,this.scheduler))},r}(),t8=function(r){Z3(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return s(t,"DelaySubscriber"),t.dispatch=function(e){for(var n=e.source,i=n.queue,o=e.scheduler,f=e.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(f);if(i.length>0){var h=Math.max(0,i[0].time-o.now());this.schedule(e,h)}else this.unsubscribe(),n.active=!1},t.prototype._schedule=function(e){this.active=!0;var n=this.destination;n.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(this.errored!==!0){var n=this.scheduler,i=new r8(n.now()+this.delay,e);this.queue.push(i),this.active===!1&&this._schedule(n)}},t.prototype._next=function(e){this.scheduleNotification(uE.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(uE.Notification.createComplete()),this.unsubscribe()},t}(X3.Subscriber),r8=function(){function r(t,e){this.time=t,this.notification=e}return s(r,"DelayMessage"),r}()});var cE=m(us=>{"use strict";var dd=us&&us.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(us,"__esModule",{value:!0});var n8=$(),i8=ae(),o8=pn(),u8=_n();function s8(r,t){return t?function(e){return new c8(e,t).lift(new aE(r))}:function(e){return e.lift(new aE(r))}}s(s8,"delayWhen");us.delayWhen=s8;var aE=function(){function r(t){this.delayDurationSelector=t}return s(r,"DelayWhenOperator"),r.prototype.call=function(t,e){return e.subscribe(new a8(t,this.delayDurationSelector))},r}(),a8=function(r){dd(t,r);function t(e,n){var i=r.call(this,e)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return s(t,"DelayWhenSubscriber"),t.prototype.notifyNext=function(e,n,i,o,f){this.destination.next(e),this.removeSubscription(f),this.tryComplete()},t.prototype.notifyError=function(e,n){this._error(e)},t.prototype.notifyComplete=function(e){var n=this.removeSubscription(e);n&&this.destination.next(n),this.tryComplete()},t.prototype._next=function(e){var n=this.index++;try{var i=this.delayDurationSelector(e,n);i&&this.tryDelay(i,e)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(e);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),e.outerValue},t.prototype.tryDelay=function(e,n){var i=u8.subscribeToResult(this,e,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},t.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},t}(o8.OuterSubscriber),c8=function(r){dd(t,r);function t(e,n){var i=r.call(this)||this;return i.source=e,i.subscriptionDelay=n,i}return s(t,"SubscriptionDelayObservable"),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f8(e,this.source))},t}(i8.Observable),f8=function(r){dd(t,r);function t(e,n){var i=r.call(this)||this;return i.parent=e,i.source=n,i.sourceSubscribed=!1,i}return s(t,"SubscriptionDelaySubscriber"),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(n8.Subscriber)});var fE=m(ss=>{"use strict";var l8=ss&&ss.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ss,"__esModule",{value:!0});var h8=$();function p8(){return s(function(t){return t.lift(new _8)},"dematerializeOperatorFunction")}s(p8,"dematerialize");ss.dematerialize=p8;var _8=function(){function r(){}return s(r,"DeMaterializeOperator"),r.prototype.call=function(t,e){return e.subscribe(new d8(t))},r}(),d8=function(r){l8(t,r);function t(e){return r.call(this,e)||this}return s(t,"DeMaterializeSubscriber"),t.prototype._next=function(e){e.observe(this.destination)},t}(h8.Subscriber)});var hE=m(fo=>{"use strict";var v8=fo&&fo.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(fo,"__esModule",{value:!0});var vd=Ce();function b8(r,t){return function(e){return e.lift(new y8(r,t))}}s(b8,"distinct");fo.distinct=b8;var y8=function(){function r(t,e){this.keySelector=t,this.flushes=e}return s(r,"DistinctOperator"),r.prototype.call=function(t,e){return e.subscribe(new lE(t,this.keySelector,this.flushes))},r}(),lE=function(r){v8(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.keySelector=n,o.values=new Set,i&&o.add(vd.innerSubscribe(i,new vd.SimpleInnerSubscriber(o))),o}return s(t,"DistinctSubscriber"),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var n,i=this.destination;try{n=this.keySelector(e)}catch(o){i.error(o);return}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,n){var i=this.values;i.has(e)||(i.add(e),this.destination.next(n))},t}(vd.SimpleOuterSubscriber);fo.DistinctSubscriber=lE});var bd=m(as=>{"use strict";var m8=as&&as.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(as,"__esModule",{value:!0});var g8=$();function O8(r,t){return function(e){return e.lift(new S8(r,t))}}s(O8,"distinctUntilChanged");as.distinctUntilChanged=O8;var S8=function(){function r(t,e){this.compare=t,this.keySelector=e}return s(r,"DistinctUntilChangedOperator"),r.prototype.call=function(t,e){return e.subscribe(new E8(t,this.compare,this.keySelector))},r}(),E8=function(r){m8(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return s(t,"DistinctUntilChangedSubscriber"),t.prototype.compare=function(e,n){return e===n},t.prototype._next=function(e){var n;try{var i=this.keySelector;n=i?i(e):e}catch(h){return this.destination.error(h)}var o=!1;if(this.hasKey)try{var f=this.compare;o=f(this.key,n)}catch(h){return this.destination.error(h)}else this.hasKey=!0;o||(this.key=n,this.destination.next(e))},t}(g8.Subscriber)});var pE=m(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});var w8=bd();function T8(r,t){return w8.distinctUntilChanged(function(e,n){return t?t(e[r],n[r]):e[r]===n[r]})}s(T8,"distinctUntilKeyChanged");yd.distinctUntilKeyChanged=T8});var fs=m(cs=>{"use strict";var C8=cs&&cs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(cs,"__esModule",{value:!0});var P8=oo(),I8=$();function A8(r){return r===void 0&&(r=N8),function(t){return t.lift(new R8(r))}}s(A8,"throwIfEmpty");cs.throwIfEmpty=A8;var R8=function(){function r(t){this.errorFactory=t}return s(r,"ThrowIfEmptyOperator"),r.prototype.call=function(t,e){return e.subscribe(new x8(t,this.errorFactory))},r}(),x8=function(r){C8(t,r);function t(e,n){var i=r.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return s(t,"ThrowIfEmptySubscriber"),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)},t}(I8.Subscriber);function N8(){return new P8.EmptyError}s(N8,"defaultErrorFactory")});var rf=m(ls=>{"use strict";var q8=ls&&ls.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ls,"__esModule",{value:!0});var D8=$(),j8=io(),M8=nr();function L8(r){return function(t){return r===0?M8.empty():t.lift(new U8(r))}}s(L8,"take");ls.take=L8;var U8=function(){function r(t){if(this.total=t,this.total<0)throw new j8.ArgumentOutOfRangeError}return s(r,"TakeOperator"),r.prototype.call=function(t,e){return e.subscribe(new k8(t,this.total))},r}(),k8=function(r){q8(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.count=0,i}return s(t,"TakeSubscriber"),t.prototype._next=function(e){var n=this.total,i=++this.count;i<=n&&(this.destination.next(e),i===n&&(this.destination.complete(),this.unsubscribe()))},t}(D8.Subscriber)});var dE=m(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});var _E=io(),F8=Vn(),B8=fs(),W8=co(),V8=rf();function H8(r,t){if(r<0)throw new _E.ArgumentOutOfRangeError;var e=arguments.length>=2;return function(n){return n.pipe(F8.filter(function(i,o){return o===r}),V8.take(1),e?W8.defaultIfEmpty(t):B8.throwIfEmpty(function(){return new _E.ArgumentOutOfRangeError}))}}s(H8,"elementAt");md.elementAt=H8});var vE=m(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});var z8=Vu(),Y8=Cu();function G8(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return z8.concat(e,Y8.of.apply(void 0,r))}}s(G8,"endWith");gd.endWith=G8});var bE=m(hs=>{"use strict";var $8=hs&&hs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(hs,"__esModule",{value:!0});var Z8=$();function K8(r,t){return function(e){return e.lift(new Q8(r,t,e))}}s(K8,"every");hs.every=K8;var Q8=function(){function r(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return s(r,"EveryOperator"),r.prototype.call=function(t,e){return e.subscribe(new X8(t,this.predicate,this.thisArg,this.source))},r}(),X8=function(r){$8(t,r);function t(e,n,i,o){var f=r.call(this,e)||this;return f.predicate=n,f.thisArg=i,f.source=o,f.index=0,f.thisArg=i||f,f}return s(t,"EverySubscriber"),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var n=!1;try{n=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(Z8.Subscriber)});var yE=m(ps=>{"use strict";var J8=ps&&ps.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ps,"__esModule",{value:!0});var Od=Ce();function e6(){return function(r){return r.lift(new t6)}}s(e6,"exhaust");ps.exhaust=e6;var t6=function(){function r(){}return s(r,"SwitchFirstOperator"),r.prototype.call=function(t,e){return e.subscribe(new r6(t))},r}(),r6=function(r){J8(t,r);function t(e){var n=r.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return s(t,"SwitchFirstSubscriber"),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Od.innerSubscribe(e,new Od.SimpleInnerSubscriber(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(Od.SimpleOuterSubscriber)});var gE=m(_s=>{"use strict";var n6=_s&&_s.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(_s,"__esModule",{value:!0});var i6=Pt(),o6=or(),Sd=Ce();function mE(r,t){return t?function(e){return e.pipe(mE(function(n,i){return o6.from(r(n,i)).pipe(i6.map(function(o,f){return t(n,o,i,f)}))}))}:function(e){return e.lift(new u6(r))}}s(mE,"exhaustMap");_s.exhaustMap=mE;var u6=function(){function r(t){this.project=t}return s(r,"ExhaustMapOperator"),r.prototype.call=function(t,e){return e.subscribe(new s6(t,this.project))},r}(),s6=function(r){n6(t,r);function t(e,n){var i=r.call(this,e)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return s(t,"ExhaustMapSubscriber"),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},t.prototype._innerSub=function(e){var n=new Sd.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=Sd.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(Sd.SimpleOuterSubscriber)});var EE=m(Yn=>{"use strict";var a6=Yn&&Yn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Yn,"__esModule",{value:!0});var Ed=Ce();function c6(r,t,e){return t===void 0&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new OE(r,t,e))}}s(c6,"expand");Yn.expand=c6;var OE=function(){function r(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return s(r,"ExpandOperator"),r.prototype.call=function(t,e){return e.subscribe(new SE(t,this.project,this.concurrent,this.scheduler))},r}();Yn.ExpandOperator=OE;var SE=function(r){a6(t,r);function t(e,n,i,o){var f=r.call(this,e)||this;return f.project=n,f.concurrent=i,f.scheduler=o,f.index=0,f.active=0,f.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(f.buffer=[]),f}return s(t,"ExpandSubscriber"),t.dispatch=function(e){var n=e.subscriber,i=e.result,o=e.value,f=e.index;n.subscribeToProjection(i,o,f)},t.prototype._next=function(e){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(e);try{var o=this.project,f=o(e,i);if(!this.scheduler)this.subscribeToProjection(f,e,i);else{var h={subscriber:this,result:f,value:e,index:i},_=this.destination;_.add(this.scheduler.schedule(t.dispatch,0,h))}}catch(l){n.error(l)}}else this.buffer.push(e)},t.prototype.subscribeToProjection=function(e,n,i){this.active++;var o=this.destination;o.add(Ed.innerSubscribe(e,new Ed.SimpleInnerSubscriber(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t}(Ed.SimpleOuterSubscriber);Yn.ExpandSubscriber=SE});var wE=m(ds=>{"use strict";var f6=ds&&ds.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ds,"__esModule",{value:!0});var l6=$(),h6=ke();function p6(r){return function(t){return t.lift(new _6(r))}}s(p6,"finalize");ds.finalize=p6;var _6=function(){function r(t){this.callback=t}return s(r,"FinallyOperator"),r.prototype.call=function(t,e){return e.subscribe(new d6(t,this.callback))},r}(),d6=function(r){f6(t,r);function t(e,n){var i=r.call(this,e)||this;return i.add(new h6.Subscription(n)),i}return s(t,"FinallySubscriber"),t}(l6.Subscriber)});var wd=m(Gn=>{"use strict";var v6=Gn&&Gn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Gn,"__esModule",{value:!0});var b6=$();function y6(r,t){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(e){return e.lift(new TE(r,e,!1,t))}}s(y6,"find");Gn.find=y6;var TE=function(){function r(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}return s(r,"FindValueOperator"),r.prototype.call=function(t,e){return e.subscribe(new CE(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();Gn.FindValueOperator=TE;var CE=function(r){v6(t,r);function t(e,n,i,o,f){var h=r.call(this,e)||this;return h.predicate=n,h.source=i,h.yieldIndex=o,h.thisArg=f,h.index=0,h}return s(t,"FindValueSubscriber"),t.prototype.notifyComplete=function(e){var n=this.destination;n.next(e),n.complete(),this.unsubscribe()},t.prototype._next=function(e){var n=this,i=n.predicate,o=n.thisArg,f=this.index++;try{var h=i.call(o||this,e,f,this.source);h&&this.notifyComplete(this.yieldIndex?f:e)}catch(_){this.destination.error(_)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(b6.Subscriber);Gn.FindValueSubscriber=CE});var PE=m(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});var m6=wd();function g6(r,t){return function(e){return e.lift(new m6.FindValueOperator(r,e,!0,t))}}s(g6,"findIndex");Td.findIndex=g6});var IE=m(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var O6=oo(),S6=Vn(),E6=rf(),w6=co(),T6=fs(),C6=ln();function P6(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?S6.filter(function(i,o){return r(i,o,n)}):C6.identity,E6.take(1),e?w6.defaultIfEmpty(t):T6.throwIfEmpty(function(){return new O6.EmptyError}))}}s(P6,"first");Cd.first=P6});var AE=m(vs=>{"use strict";var I6=vs&&vs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(vs,"__esModule",{value:!0});var A6=$();function R6(){return s(function(t){return t.lift(new x6)},"ignoreElementsOperatorFunction")}s(R6,"ignoreElements");vs.ignoreElements=R6;var x6=function(){function r(){}return s(r,"IgnoreElementsOperator"),r.prototype.call=function(t,e){return e.subscribe(new N6(t))},r}(),N6=function(r){I6(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"IgnoreElementsSubscriber"),t.prototype._next=function(e){},t}(A6.Subscriber)});var RE=m(bs=>{"use strict";var q6=bs&&bs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(bs,"__esModule",{value:!0});var D6=$();function j6(){return function(r){return r.lift(new M6)}}s(j6,"isEmpty");bs.isEmpty=j6;var M6=function(){function r(){}return s(r,"IsEmptyOperator"),r.prototype.call=function(t,e){return e.subscribe(new L6(t))},r}(),L6=function(r){q6(t,r);function t(e){return r.call(this,e)||this}return s(t,"IsEmptySubscriber"),t.prototype.notifyComplete=function(e){var n=this.destination;n.next(e),n.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(D6.Subscriber)});var nf=m(ys=>{"use strict";var U6=ys&&ys.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ys,"__esModule",{value:!0});var k6=$(),F6=io(),B6=nr();function W6(r){return s(function(e){return r===0?B6.empty():e.lift(new V6(r))},"takeLastOperatorFunction")}s(W6,"takeLast");ys.takeLast=W6;var V6=function(){function r(t){if(this.total=t,this.total<0)throw new F6.ArgumentOutOfRangeError}return s(r,"TakeLastOperator"),r.prototype.call=function(t,e){return e.subscribe(new H6(t,this.total))},r}(),H6=function(r){U6(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return s(t,"TakeLastSubscriber"),t.prototype._next=function(e){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(e);else{var f=o%i;n[f]=e}},t.prototype._complete=function(){var e=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,f=0;f<i;f++){var h=n++%i;e.next(o[h])}e.complete()},t}(k6.Subscriber)});var xE=m(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var z6=oo(),Y6=Vn(),G6=nf(),$6=fs(),Z6=co(),K6=ln();function Q6(r,t){var e=arguments.length>=2;return function(n){return n.pipe(r?Y6.filter(function(i,o){return r(i,o,n)}):K6.identity,G6.takeLast(1),e?Z6.defaultIfEmpty(t):$6.throwIfEmpty(function(){return new z6.EmptyError}))}}s(Q6,"last");Pd.last=Q6});var NE=m(ms=>{"use strict";var X6=ms&&ms.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ms,"__esModule",{value:!0});var J6=$();function ez(r){return function(t){return t.lift(new tz(r))}}s(ez,"mapTo");ms.mapTo=ez;var tz=function(){function r(t){this.value=t}return s(r,"MapToOperator"),r.prototype.call=function(t,e){return e.subscribe(new rz(t,this.value))},r}(),rz=function(r){X6(t,r);function t(e,n){var i=r.call(this,e)||this;return i.value=n,i}return s(t,"MapToSubscriber"),t.prototype._next=function(e){this.destination.next(this.value)},t}(J6.Subscriber)});var qE=m(gs=>{"use strict";var nz=gs&&gs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(gs,"__esModule",{value:!0});var iz=$(),Id=Iu();function oz(){return s(function(t){return t.lift(new uz)},"materializeOperatorFunction")}s(oz,"materialize");gs.materialize=oz;var uz=function(){function r(){}return s(r,"MaterializeOperator"),r.prototype.call=function(t,e){return e.subscribe(new sz(t))},r}(),sz=function(r){nz(t,r);function t(e){return r.call(this,e)||this}return s(t,"MaterializeSubscriber"),t.prototype._next=function(e){this.destination.next(Id.Notification.createNext(e))},t.prototype._error=function(e){var n=this.destination;n.next(Id.Notification.createError(e)),n.complete()},t.prototype._complete=function(){var e=this.destination;e.next(Id.Notification.createComplete()),e.complete()},t}(iz.Subscriber)});var of=m(Os=>{"use strict";var az=Os&&Os.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Os,"__esModule",{value:!0});var cz=$();function fz(r,t){var e=!1;return arguments.length>=2&&(e=!0),s(function(i){return i.lift(new lz(r,t,e))},"scanOperatorFunction")}s(fz,"scan");Os.scan=fz;var lz=function(){function r(t,e,n){n===void 0&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return s(r,"ScanOperator"),r.prototype.call=function(t,e){return e.subscribe(new hz(t,this.accumulator,this.seed,this.hasSeed))},r}(),hz=function(r){az(t,r);function t(e,n,i,o){var f=r.call(this,e)||this;return f.accumulator=n,f._seed=i,f.hasSeed=o,f.index=0,f}return s(t,"ScanSubscriber"),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(!this.hasSeed)this.seed=e,this.destination.next(e);else return this._tryNext(e)},t.prototype._tryNext=function(e){var n=this.index++,i;try{i=this.accumulator(this.seed,e,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},t}(cz.Subscriber)});var Ss=m(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});var DE=of(),jE=nf(),pz=co(),ME=Mc();function _z(r,t){return arguments.length>=2?s(function(n){return ME.pipe(DE.scan(r,t),jE.takeLast(1),pz.defaultIfEmpty(t))(n)},"reduceOperatorFunctionWithSeed"):s(function(n){return ME.pipe(DE.scan(function(i,o,f){return r(i,o,f+1)}),jE.takeLast(1))(n)},"reduceOperatorFunction")}s(_z,"reduce");Ad.reduce=_z});var LE=m(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});var dz=Ss();function vz(r){var t=typeof r=="function"?function(e,n){return r(e,n)>0?e:n}:function(e,n){return e>n?e:n};return dz.reduce(t)}s(vz,"max");Rd.max=vz});var UE=m(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var bz=W_();function yz(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return e.lift.call(bz.merge.apply(void 0,[e].concat(r)))}}s(yz,"merge");xd.merge=yz});var FE=m(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});var kE=Wu();function mz(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),typeof t=="function"?kE.mergeMap(function(){return r},t,e):(typeof t=="number"&&(e=t),kE.mergeMap(function(){return r},e))}s(mz,"mergeMapTo");Nd.mergeMapTo=mz});var VE=m($n=>{"use strict";var gz=$n&&$n.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty($n,"__esModule",{value:!0});var qd=Ce();function Oz(r,t,e){return e===void 0&&(e=Number.POSITIVE_INFINITY),function(n){return n.lift(new BE(r,t,e))}}s(Oz,"mergeScan");$n.mergeScan=Oz;var BE=function(){function r(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return s(r,"MergeScanOperator"),r.prototype.call=function(t,e){return e.subscribe(new WE(t,this.accumulator,this.seed,this.concurrent))},r}();$n.MergeScanOperator=BE;var WE=function(r){gz(t,r);function t(e,n,i,o){var f=r.call(this,e)||this;return f.accumulator=n,f.acc=i,f.concurrent=o,f.hasValue=!1,f.hasCompleted=!1,f.buffer=[],f.active=0,f.index=0,f}return s(t,"MergeScanSubscriber"),t.prototype._next=function(e){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var f=this.accumulator;o=f(this.acc,e,n)}catch(h){return i.error(h)}this.active++,this._innerSub(o)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var n=new qd.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=qd.innerSubscribe(e,n);o!==n&&i.add(o)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var n=this.destination;this.acc=e,this.hasValue=!0,n.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(qd.SimpleOuterSubscriber);$n.MergeScanSubscriber=WE});var HE=m(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});var Sz=Ss();function Ez(r){var t=typeof r=="function"?function(e,n){return r(e,n)<0?e:n}:function(e,n){return e<n?e:n};return Sz.reduce(t)}s(Ez,"min");Dd.min=Ez});var Zn=m(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var wz=kp();function Tz(r,t){return s(function(n){var i;if(typeof r=="function"?i=r:i=s(function(){return r},"subjectFactory"),typeof t=="function")return n.lift(new zE(i,t));var o=Object.create(n,wz.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o},"multicastOperatorFunction")}s(Tz,"multicast");uf.multicast=Tz;var zE=function(){function r(t,e){this.subjectFactory=t,this.selector=e}return s(r,"MulticastOperator"),r.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(t);return o.add(e.subscribe(i)),o},r}();uf.MulticastOperator=zE});var $E=m(lo=>{"use strict";var Cz=lo&&lo.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(lo,"__esModule",{value:!0});var Pz=or(),YE=rt(),jd=Ce();function Iz(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length===1&&YE.isArray(r[0])&&(r=r[0]),function(e){return e.lift(new GE(r))}}s(Iz,"onErrorResumeNext");lo.onErrorResumeNext=Iz;function Az(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=void 0;return r.length===1&&YE.isArray(r[0])&&(r=r[0]),e=r.shift(),Pz.from(e).lift(new GE(r))}s(Az,"onErrorResumeNextStatic");lo.onErrorResumeNextStatic=Az;var GE=function(){function r(t){this.nextSources=t}return s(r,"OnErrorResumeNextOperator"),r.prototype.call=function(t,e){return e.subscribe(new Rz(t,this.nextSources))},r}(),Rz=function(r){Cz(t,r);function t(e,n){var i=r.call(this,e)||this;return i.destination=e,i.nextSources=n,i}return s(t,"OnErrorResumeNextSubscriber"),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var n=new jd.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=jd.innerSubscribe(e,n);o!==n&&i.add(o)}else this.destination.complete()},t}(jd.SimpleOuterSubscriber)});var ZE=m(Es=>{"use strict";var xz=Es&&Es.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Es,"__esModule",{value:!0});var Nz=$();function qz(){return function(r){return r.lift(new Dz)}}s(qz,"pairwise");Es.pairwise=qz;var Dz=function(){function r(){}return s(r,"PairwiseOperator"),r.prototype.call=function(t,e){return e.subscribe(new jz(t))},r}(),jz=function(r){xz(t,r);function t(e){var n=r.call(this,e)||this;return n.hasPrev=!1,n}return s(t,"PairwiseSubscriber"),t.prototype._next=function(e){var n;this.hasPrev?n=[this.prev,e]:this.hasPrev=!0,this.prev=e,n&&this.destination.next(n)},t}(Nz.Subscriber)});var QE=m(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var Mz=G_(),KE=Vn();function Lz(r,t){return function(e){return[KE.filter(r,t)(e),KE.filter(Mz.not(r,t))(e)]}}s(Lz,"partition");Md.partition=Lz});var XE=m(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});var Uz=Pt();function kz(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.length;if(e===0)throw new Error("list of properties cannot be empty.");return function(n){return Uz.map(Fz(r,e))(n)}}s(kz,"pluck");Ld.pluck=kz;function Fz(r,t){var e=s(function(n){for(var i=n,o=0;o<t;o++){var f=i!=null?i[r[o]]:void 0;if(f!==void 0)i=f;else return}return i},"mapper");return e}s(Fz,"plucker")});var tw=m(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});var JE=Ze(),ew=Zn();function Bz(r){return r?ew.multicast(function(){return new JE.Subject},r):ew.multicast(new JE.Subject)}s(Bz,"publish");Ud.publish=Bz});var rw=m(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});var Wz=Wp(),Vz=Zn();function Hz(r){return function(t){return Vz.multicast(new Wz.BehaviorSubject(r))(t)}}s(Hz,"publishBehavior");kd.publishBehavior=Hz});var nw=m(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});var zz=xu(),Yz=Zn();function Gz(){return function(r){return Yz.multicast(new zz.AsyncSubject)(r)}}s(Gz,"publishLast");Fd.publishLast=Gz});var iw=m(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});var $z=Wc(),Zz=Zn();function Kz(r,t,e,n){e&&typeof e!="function"&&(n=e);var i=typeof e=="function"?e:void 0,o=new $z.ReplaySubject(r,t,n);return function(f){return Zz.multicast(function(){return o},i)(f)}}s(Kz,"publishReplay");Bd.publishReplay=Kz});var ow=m(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});var Qz=rt(),Xz=Z_();function Jz(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return s(function(n){return r.length===1&&Qz.isArray(r[0])&&(r=r[0]),n.lift.call(Xz.race.apply(void 0,[n].concat(r)))},"raceOperatorFunction")}s(Jz,"race");Wd.race=Jz});var sw=m(ws=>{"use strict";var eY=ws&&ws.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ws,"__esModule",{value:!0});var tY=$(),rY=nr();function nY(r){return r===void 0&&(r=-1),function(t){return r===0?rY.empty():r<0?t.lift(new uw(-1,t)):t.lift(new uw(r-1,t))}}s(nY,"repeat");ws.repeat=nY;var uw=function(){function r(t,e){this.count=t,this.source=e}return s(r,"RepeatOperator"),r.prototype.call=function(t,e){return e.subscribe(new iY(t,this.count,this.source))},r}(),iY=function(r){eY(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.count=n,o.source=i,o}return s(t,"RepeatSubscriber"),t.prototype.complete=function(){if(!this.isStopped){var e=this,n=e.source,i=e.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(tY.Subscriber)});var aw=m(Ts=>{"use strict";var oY=Ts&&Ts.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ts,"__esModule",{value:!0});var uY=Ze(),Vd=Ce();function sY(r){return function(t){return t.lift(new aY(r))}}s(sY,"repeatWhen");Ts.repeatWhen=sY;var aY=function(){function r(t){this.notifier=t}return s(r,"RepeatWhenOperator"),r.prototype.call=function(t,e){return e.subscribe(new cY(t,this.notifier,e))},r}(),cY=function(r){oY(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return s(t,"RepeatWhenSubscriber"),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this,n=e.notifications,i=e.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},t.prototype.subscribeToRetries=function(){this.notifications=new uY.Subject;var e;try{var n=this.notifier;e=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Vd.innerSubscribe(e,new Vd.SimpleInnerSubscriber(this))},t}(Vd.SimpleOuterSubscriber)});var cw=m(Cs=>{"use strict";var fY=Cs&&Cs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Cs,"__esModule",{value:!0});var lY=$();function hY(r){return r===void 0&&(r=-1),function(t){return t.lift(new pY(r,t))}}s(hY,"retry");Cs.retry=hY;var pY=function(){function r(t,e){this.count=t,this.source=e}return s(r,"RetryOperator"),r.prototype.call=function(t,e){return e.subscribe(new _Y(t,this.count,this.source))},r}(),_Y=function(r){fY(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.count=n,o.source=i,o}return s(t,"RetrySubscriber"),t.prototype.error=function(e){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,e);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},t}(lY.Subscriber)});var fw=m(Ps=>{"use strict";var dY=Ps&&Ps.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ps,"__esModule",{value:!0});var vY=Ze(),Hd=Ce();function bY(r){return function(t){return t.lift(new yY(r,t))}}s(bY,"retryWhen");Ps.retryWhen=bY;var yY=function(){function r(t,e){this.notifier=t,this.source=e}return s(r,"RetryWhenOperator"),r.prototype.call=function(t,e){return e.subscribe(new mY(t,this.notifier,this.source))},r}(),mY=function(r){dY(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.notifier=n,o.source=i,o}return s(t,"RetryWhenSubscriber"),t.prototype.error=function(e){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new vY.Subject;try{var f=this.notifier;i=f(n)}catch(h){return r.prototype.error.call(this,h)}o=Hd.innerSubscribe(i,new Hd.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(e)}},t.prototype._unsubscribe=function(){var e=this,n=e.errors,i=e.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(Hd.SimpleOuterSubscriber)});var lw=m(Is=>{"use strict";var gY=Is&&Is.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Is,"__esModule",{value:!0});var zd=Ce();function OY(r){return function(t){return t.lift(new SY(r))}}s(OY,"sample");Is.sample=OY;var SY=function(){function r(t){this.notifier=t}return s(r,"SampleOperator"),r.prototype.call=function(t,e){var n=new EY(t),i=e.subscribe(n);return i.add(zd.innerSubscribe(this.notifier,new zd.SimpleInnerSubscriber(n))),i},r}(),EY=function(r){gY(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasValue=!1,e}return s(t,"SampleSubscriber"),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(zd.SimpleOuterSubscriber)});var hw=m(As=>{"use strict";var wY=As&&As.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(As,"__esModule",{value:!0});var TY=$(),CY=nt();function PY(r,t){return t===void 0&&(t=CY.async),function(e){return e.lift(new IY(r,t))}}s(PY,"sampleTime");As.sampleTime=PY;var IY=function(){function r(t,e){this.period=t,this.scheduler=e}return s(r,"SampleTimeOperator"),r.prototype.call=function(t,e){return e.subscribe(new AY(t,this.period,this.scheduler))},r}(),AY=function(r){wY(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(RY,n,{subscriber:o,period:n})),o}return s(t,"SampleTimeSubscriber"),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(TY.Subscriber);function RY(r){var t=r.subscriber,e=r.period;t.notifyNext(),this.schedule(r,e)}s(RY,"dispatchNotification")});var bw=m(Kn=>{"use strict";var pw=Kn&&Kn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Kn,"__esModule",{value:!0});var _w=$();function xY(r,t){return function(e){return e.lift(new dw(r,t))}}s(xY,"sequenceEqual");Kn.sequenceEqual=xY;var dw=function(){function r(t,e){this.compareTo=t,this.comparator=e}return s(r,"SequenceEqualOperator"),r.prototype.call=function(t,e){return e.subscribe(new vw(t,this.compareTo,this.comparator))},r}();Kn.SequenceEqualOperator=dw;var vw=function(r){pw(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new NY(e,o))),o}return s(t,"SequenceEqualSubscriber"),t.prototype._next=function(e){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,n=e._a,i=e._b,o=e.comparator;n.length>0&&i.length>0;){var f=n.shift(),h=i.shift(),_=!1;try{_=o?o(f,h):f===h}catch(l){this.destination.error(l)}_||this.emit(!1)}},t.prototype.emit=function(e){var n=this.destination;n.next(e),n.complete()},t.prototype.nextB=function(e){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t}(_w.Subscriber);Kn.SequenceEqualSubscriber=vw;var NY=function(r){pw(t,r);function t(e,n){var i=r.call(this,e)||this;return i.parent=n,i}return s(t,"SequenceEqualCompareToSubscriber"),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(_w.Subscriber)});var yw=m(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});var qY=Zn(),DY=Uc(),jY=Ze();function MY(){return new jY.Subject}s(MY,"shareSubjectFactory");function LY(){return function(r){return DY.refCount()(qY.multicast(MY)(r))}}s(LY,"share");Yd.share=LY});var mw=m(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});var UY=Wc();function kY(r,t,e){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:t,refCount:!1,scheduler:e},function(i){return i.lift(FY(n))}}s(kY,"shareReplay");Gd.shareReplay=kY;function FY(r){var t=r.bufferSize,e=t===void 0?Number.POSITIVE_INFINITY:t,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,f=r.scheduler,h,_=0,l,v=!1,O=!1;return s(function(j){_++;var U;!h||v?(v=!1,h=new UY.ReplaySubject(e,i,f),U=h.subscribe(this),l=j.subscribe({next:function(G){h.next(G)},error:function(G){v=!0,h.error(G)},complete:function(){O=!0,l=void 0,h.complete()}}),O&&(l=void 0)):U=h.subscribe(this),this.add(function(){_--,U.unsubscribe(),U=void 0,l&&!O&&o&&_===0&&(l.unsubscribe(),l=void 0,h=void 0)})},"shareReplayOperation")}s(FY,"shareReplayOperator")});var gw=m(Rs=>{"use strict";var BY=Rs&&Rs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Rs,"__esModule",{value:!0});var WY=$(),VY=oo();function HY(r){return function(t){return t.lift(new zY(r,t))}}s(HY,"single");Rs.single=HY;var zY=function(){function r(t,e){this.predicate=t,this.source=e}return s(r,"SingleOperator"),r.prototype.call=function(t,e){return e.subscribe(new YY(t,this.predicate,this.source))},r}(),YY=function(r){BY(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return s(t,"SingleSubscriber"),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var n=this.index++;this.predicate?this.tryNext(e,n):this.applySingleValue(e)},t.prototype.tryNext=function(e,n){try{this.predicate(e,n,this.source)&&this.applySingleValue(e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new VY.EmptyError)},t}(WY.Subscriber)});var Ow=m(xs=>{"use strict";var GY=xs&&xs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(xs,"__esModule",{value:!0});var $Y=$();function ZY(r){return function(t){return t.lift(new KY(r))}}s(ZY,"skip");xs.skip=ZY;var KY=function(){function r(t){this.total=t}return s(r,"SkipOperator"),r.prototype.call=function(t,e){return e.subscribe(new QY(t,this.total))},r}(),QY=function(r){GY(t,r);function t(e,n){var i=r.call(this,e)||this;return i.total=n,i.count=0,i}return s(t,"SkipSubscriber"),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}($Y.Subscriber)});var Ew=m(Ns=>{"use strict";var XY=Ns&&Ns.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ns,"__esModule",{value:!0});var Sw=$(),JY=io();function eG(r){return function(t){return t.lift(new tG(r))}}s(eG,"skipLast");Ns.skipLast=eG;var tG=function(){function r(t){if(this._skipCount=t,this._skipCount<0)throw new JY.ArgumentOutOfRangeError}return s(r,"SkipLastOperator"),r.prototype.call=function(t,e){return this._skipCount===0?e.subscribe(new Sw.Subscriber(t)):e.subscribe(new rG(t,this._skipCount))},r}(),rG=function(r){XY(t,r);function t(e,n){var i=r.call(this,e)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return s(t,"SkipLastSubscriber"),t.prototype._next=function(e){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=e;else{var o=i%n,f=this._ring,h=f[o];f[o]=e,this.destination.next(h)}},t}(Sw.Subscriber)});var ww=m(qs=>{"use strict";var nG=qs&&qs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(qs,"__esModule",{value:!0});var $d=Ce();function iG(r){return function(t){return t.lift(new oG(r))}}s(iG,"skipUntil");qs.skipUntil=iG;var oG=function(){function r(t){this.notifier=t}return s(r,"SkipUntilOperator"),r.prototype.call=function(t,e){return e.subscribe(new uG(t,this.notifier))},r}(),uG=function(r){nG(t,r);function t(e,n){var i=r.call(this,e)||this;i.hasValue=!1;var o=new $d.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var f=$d.innerSubscribe(n,o);return f!==o&&(i.add(f),i.innerSubscription=f),i}return s(t,"SkipUntilSubscriber"),t.prototype._next=function(e){this.hasValue&&r.prototype._next.call(this,e)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}($d.SimpleOuterSubscriber)});var Tw=m(Ds=>{"use strict";var sG=Ds&&Ds.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ds,"__esModule",{value:!0});var aG=$();function cG(r){return function(t){return t.lift(new fG(r))}}s(cG,"skipWhile");Ds.skipWhile=cG;var fG=function(){function r(t){this.predicate=t}return s(r,"SkipWhileOperator"),r.prototype.call=function(t,e){return e.subscribe(new lG(t,this.predicate))},r}(),lG=function(r){sG(t,r);function t(e,n){var i=r.call(this,e)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return s(t,"SkipWhileSubscriber"),t.prototype._next=function(e){var n=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||n.next(e)},t.prototype.tryCallPredicate=function(e){try{var n=this.predicate(e,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},t}(aG.Subscriber)});var Pw=m(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});var Cw=Vu(),hG=ir();function pG(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r[r.length-1];return hG.isScheduler(e)?(r.pop(),function(n){return Cw.concat(r,n,e)}):function(n){return Cw.concat(r,n)}}s(pG,"startWith");Zd.startWith=pG});var Iw=m(js=>{"use strict";var _G=js&&js.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(js,"__esModule",{value:!0});var dG=ae(),Kd=t_(),vG=Hu(),bG=function(r){_G(t,r);function t(e,n,i){n===void 0&&(n=0),i===void 0&&(i=Kd.asap);var o=r.call(this)||this;return o.source=e,o.delayTime=n,o.scheduler=i,(!vG.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=Kd.asap),o}return s(t,"SubscribeOnObservable"),t.create=function(e,n,i){return n===void 0&&(n=0),i===void 0&&(i=Kd.asap),new t(e,n,i)},t.dispatch=function(e){var n=e.source,i=e.subscriber;return this.add(n.subscribe(i))},t.prototype._subscribe=function(e){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(t.dispatch,n,{source:i,subscriber:e})},t}(dG.Observable);js.SubscribeOnObservable=bG});var Aw=m(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var yG=Iw();function mG(r,t){return t===void 0&&(t=0),s(function(n){return n.lift(new gG(r,t))},"subscribeOnOperatorFunction")}s(mG,"subscribeOn");Qd.subscribeOn=mG;var gG=function(){function r(t,e){this.scheduler=t,this.delay=e}return s(r,"SubscribeOnOperator"),r.prototype.call=function(t,e){return new yG.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},r}()});var sf=m(Ms=>{"use strict";var OG=Ms&&Ms.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ms,"__esModule",{value:!0});var SG=Pt(),EG=or(),Xd=Ce();function Rw(r,t){return typeof t=="function"?function(e){return e.pipe(Rw(function(n,i){return EG.from(r(n,i)).pipe(SG.map(function(o,f){return t(n,o,i,f)}))}))}:function(e){return e.lift(new wG(r))}}s(Rw,"switchMap");Ms.switchMap=Rw;var wG=function(){function r(t){this.project=t}return s(r,"SwitchMapOperator"),r.prototype.call=function(t,e){return e.subscribe(new TG(t,this.project))},r}(),TG=function(r){OG(t,r);function t(e,n){var i=r.call(this,e)||this;return i.project=n,i.index=0,i}return s(t,"SwitchMapSubscriber"),t.prototype._next=function(e){var n,i=this.index++;try{n=this.project(e,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},t.prototype._innerSub=function(e){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Xd.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=Xd.innerSubscribe(e,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},t.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&r.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(Xd.SimpleOuterSubscriber)});var xw=m(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});var CG=sf(),PG=ln();function IG(){return CG.switchMap(PG.identity)}s(IG,"switchAll");Jd.switchAll=IG});var qw=m(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});var Nw=sf();function AG(r,t){return t?Nw.switchMap(function(){return r},t):Nw.switchMap(function(){return r})}s(AG,"switchMapTo");ev.switchMapTo=AG});var Dw=m(Ls=>{"use strict";var RG=Ls&&Ls.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ls,"__esModule",{value:!0});var tv=Ce();function xG(r){return function(t){return t.lift(new NG(r))}}s(xG,"takeUntil");Ls.takeUntil=xG;var NG=function(){function r(t){this.notifier=t}return s(r,"TakeUntilOperator"),r.prototype.call=function(t,e){var n=new qG(t),i=tv.innerSubscribe(this.notifier,new tv.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n},r}(),qG=function(r){RG(t,r);function t(e){var n=r.call(this,e)||this;return n.seenValue=!1,n}return s(t,"TakeUntilSubscriber"),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(tv.SimpleOuterSubscriber)});var jw=m(Us=>{"use strict";var DG=Us&&Us.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Us,"__esModule",{value:!0});var jG=$();function MG(r,t){return t===void 0&&(t=!1),function(e){return e.lift(new LG(r,t))}}s(MG,"takeWhile");Us.takeWhile=MG;var LG=function(){function r(t,e){this.predicate=t,this.inclusive=e}return s(r,"TakeWhileOperator"),r.prototype.call=function(t,e){return e.subscribe(new UG(t,this.predicate,this.inclusive))},r}(),UG=function(r){DG(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return s(t,"TakeWhileSubscriber"),t.prototype._next=function(e){var n=this.destination,i;try{i=this.predicate(e,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(e,i)},t.prototype.nextOrComplete=function(e,n){var i=this.destination;n?i.next(e):(this.inclusive&&i.next(e),i.complete())},t}(jG.Subscriber)});var Mw=m(ks=>{"use strict";var kG=ks&&ks.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ks,"__esModule",{value:!0});var FG=$(),vn=zc(),BG=Zi();function WG(r,t,e){return s(function(i){return i.lift(new VG(r,t,e))},"tapOperatorFunction")}s(WG,"tap");ks.tap=WG;var VG=function(){function r(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return s(r,"DoOperator"),r.prototype.call=function(t,e){return e.subscribe(new HG(t,this.nextOrObserver,this.error,this.complete))},r}(),HG=function(r){kG(t,r);function t(e,n,i,o){var f=r.call(this,e)||this;return f._tapNext=vn.noop,f._tapError=vn.noop,f._tapComplete=vn.noop,f._tapError=i||vn.noop,f._tapComplete=o||vn.noop,BG.isFunction(n)?(f._context=f,f._tapNext=n):n&&(f._context=n,f._tapNext=n.next||vn.noop,f._tapError=n.error||vn.noop,f._tapComplete=n.complete||vn.noop),f}return s(t,"TapSubscriber"),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(n){this.destination.error(n);return}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){this.destination.error(e);return}return this.destination.complete()},t}(FG.Subscriber)});var nv=m(Qn=>{"use strict";var zG=Qn&&Qn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Qn,"__esModule",{value:!0});var rv=Ce();Qn.defaultThrottleConfig={leading:!0,trailing:!1};function YG(r,t){return t===void 0&&(t=Qn.defaultThrottleConfig),function(e){return e.lift(new GG(r,!!t.leading,!!t.trailing))}}s(YG,"throttle");Qn.throttle=YG;var GG=function(){function r(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return s(r,"ThrottleOperator"),r.prototype.call=function(t,e){return e.subscribe(new $G(t,this.durationSelector,this.leading,this.trailing))},r}(),$G=function(r){zG(t,r);function t(e,n,i,o){var f=r.call(this,e)||this;return f.destination=e,f.durationSelector=n,f._leading=i,f._trailing=o,f._hasValue=!1,f}return s(t,"ThrottleSubscriber"),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this,n=e._hasValue,i=e._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var n=this.tryDurationSelector(e);n&&this.add(this._throttled=rv.innerSubscribe(n,new rv.SimpleInnerSubscriber(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(n){return this.destination.error(n),null}},t.prototype.throttlingDone=function(){var e=this,n=e._throttled,i=e._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(rv.SimpleOuterSubscriber)});var Lw=m(Fs=>{"use strict";var ZG=Fs&&Fs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Fs,"__esModule",{value:!0});var KG=$(),QG=nt(),XG=nv();function JG(r,t,e){return t===void 0&&(t=QG.async),e===void 0&&(e=XG.defaultThrottleConfig),function(n){return n.lift(new e$(r,t,e.leading,e.trailing))}}s(JG,"throttleTime");Fs.throttleTime=JG;var e$=function(){function r(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}return s(r,"ThrottleTimeOperator"),r.prototype.call=function(t,e){return e.subscribe(new t$(t,this.duration,this.scheduler,this.leading,this.trailing))},r}(),t$=function(r){ZG(t,r);function t(e,n,i,o,f){var h=r.call(this,e)||this;return h.duration=n,h.scheduler=i,h.leading=o,h.trailing=f,h._hasTrailingValue=!1,h._trailingValue=null,h}return s(t,"ThrottleTimeSubscriber"),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(r$,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(KG.Subscriber);function r$(r){var t=r.subscriber;t.clearThrottle()}s(r$,"dispatchNext")});var kw=m(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});var n$=nt(),i$=of(),o$=Kc(),u$=Pt();function s$(r){return r===void 0&&(r=n$.async),function(t){return o$.defer(function(){return t.pipe(i$.scan(function(e,n){var i=e.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),u$.map(function(e){var n=e.current,i=e.last,o=e.value;return new Uw(o,n-i)}))})}}s(s$,"timeInterval");af.timeInterval=s$;var Uw=function(){function r(t,e){this.value=t,this.interval=e}return s(r,"TimeInterval"),r}();af.TimeInterval=Uw});var ov=m(Bs=>{"use strict";var a$=Bs&&Bs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Bs,"__esModule",{value:!0});var c$=nt(),f$=_d(),iv=Ce();function l$(r,t,e){return e===void 0&&(e=c$.async),function(n){var i=f$.isDate(r),o=i?+r-e.now():Math.abs(r);return n.lift(new h$(o,i,t,e))}}s(l$,"timeoutWith");Bs.timeoutWith=l$;var h$=function(){function r(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}return s(r,"TimeoutWithOperator"),r.prototype.call=function(t,e){return e.subscribe(new p$(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),p$=function(r){a$(t,r);function t(e,n,i,o,f){var h=r.call(this,e)||this;return h.absoluteTimeout=n,h.waitFor=i,h.withObservable=o,h.scheduler=f,h.scheduleTimeout(),h}return s(t,"TimeoutWithSubscriber"),t.dispatchTimeout=function(e){var n=e.withObservable;e._unsubscribeAndRecycle(),e.add(iv.innerSubscribe(n,new iv.SimpleInnerSubscriber(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,e)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(iv.SimpleOuterSubscriber)});var Fw=m(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});var _$=nt(),d$=s_(),v$=ov(),b$=Bc();function y$(r,t){return t===void 0&&(t=_$.async),v$.timeoutWith(r,b$.throwError(new d$.TimeoutError),t)}s(y$,"timeout");uv.timeout=y$});var Ww=m(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});var m$=nt(),g$=Pt();function O$(r){return r===void 0&&(r=m$.async),g$.map(function(t){return new Bw(t,r.now())})}s(O$,"timestamp");cf.timestamp=O$;var Bw=function(){function r(t,e){this.value=t,this.timestamp=e}return s(r,"Timestamp"),r}();cf.Timestamp=Bw});var Vw=m(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});var S$=Ss();function E$(r,t,e){return e===0?[t]:(r.push(t),r)}s(E$,"toArrayReducer");function w$(){return S$.reduce(E$,[])}s(w$,"toArray");sv.toArray=w$});var zw=m(Ws=>{"use strict";var T$=Ws&&Ws.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ws,"__esModule",{value:!0});var Hw=Ze(),av=Ce();function C$(r){return s(function(e){return e.lift(new P$(r))},"windowOperatorFunction")}s(C$,"window");Ws.window=C$;var P$=function(){function r(t){this.windowBoundaries=t}return s(r,"WindowOperator"),r.prototype.call=function(t,e){var n=new I$(t),i=e.subscribe(n);return i.closed||n.add(av.innerSubscribe(this.windowBoundaries,new av.SimpleInnerSubscriber(n))),i},r}(),I$=function(r){T$(t,r);function t(e){var n=r.call(this,e)||this;return n.window=new Hw.Subject,e.next(n.window),n}return s(t,"WindowSubscriber"),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var n=this.destination,i=this.window=new Hw.Subject;n.next(i)},t}(av.SimpleOuterSubscriber)});var Gw=m(Vs=>{"use strict";var A$=Vs&&Vs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Vs,"__esModule",{value:!0});var R$=$(),Yw=Ze();function x$(r,t){return t===void 0&&(t=0),s(function(n){return n.lift(new N$(r,t))},"windowCountOperatorFunction")}s(x$,"windowCount");Vs.windowCount=x$;var N$=function(){function r(t,e){this.windowSize=t,this.startWindowEvery=e}return s(r,"WindowCountOperator"),r.prototype.call=function(t,e){return e.subscribe(new q$(t,this.windowSize,this.startWindowEvery))},r}(),q$=function(r){A$(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.destination=e,o.windowSize=n,o.startWindowEvery=i,o.windows=[new Yw.Subject],o.count=0,e.next(o.windows[0]),o}return s(t,"WindowCountSubscriber"),t.prototype._next=function(e){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,f=this.windows,h=f.length,_=0;_<h&&!this.closed;_++)f[_].next(e);var l=this.count-o+1;if(l>=0&&l%n===0&&!this.closed&&f.shift().complete(),++this.count%n===0&&!this.closed){var v=new Yw.Subject;f.push(v),i.next(v)}},t.prototype._error=function(e){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(R$.Subscriber)});var Qw=m(Hs=>{"use strict";var Zw=Hs&&Hs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Hs,"__esModule",{value:!0});var D$=Ze(),j$=nt(),M$=$(),$w=Hu(),cv=ir();function L$(r){var t=j$.async,e=null,n=Number.POSITIVE_INFINITY;return cv.isScheduler(arguments[3])&&(t=arguments[3]),cv.isScheduler(arguments[2])?t=arguments[2]:$w.isNumeric(arguments[2])&&(n=Number(arguments[2])),cv.isScheduler(arguments[1])?t=arguments[1]:$w.isNumeric(arguments[1])&&(e=Number(arguments[1])),s(function(o){return o.lift(new U$(r,e,n,t))},"windowTimeOperatorFunction")}s(L$,"windowTime");Hs.windowTime=L$;var U$=function(){function r(t,e,n,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=i}return s(r,"WindowTimeOperator"),r.prototype.call=function(t,e){return e.subscribe(new F$(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),k$=function(r){Zw(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return s(t,"CountedSubject"),t.prototype.next=function(e){this._numberOfNextedValues++,r.prototype.next.call(this,e)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(D$.Subject),F$=function(r){Zw(t,r);function t(e,n,i,o,f){var h=r.call(this,e)||this;h.destination=e,h.windowTimeSpan=n,h.windowCreationInterval=i,h.maxWindowSize=o,h.scheduler=f,h.windows=[];var _=h.openWindow();if(i!==null&&i>=0){var l={subscriber:h,window:_,context:null},v={windowTimeSpan:n,windowCreationInterval:i,subscriber:h,scheduler:f};h.add(f.schedule(Kw,n,l)),h.add(f.schedule(W$,i,v))}else{var O={subscriber:h,window:_,windowTimeSpan:n};h.add(f.schedule(B$,n,O))}return h}return s(t,"WindowTimeSubscriber"),t.prototype._next=function(e){for(var n=this.windows,i=n.length,o=0;o<i;o++){var f=n[o];f.closed||(f.next(e),f.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(f))}},t.prototype._error=function(e){for(var n=this.windows;n.length>0;)n.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var n=e.shift();n.closed||n.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new k$;this.windows.push(e);var n=this.destination;return n.next(e),e},t.prototype.closeWindow=function(e){e.complete();var n=this.windows;n.splice(n.indexOf(e),1)},t}(M$.Subscriber);function B$(r){var t=r.subscriber,e=r.windowTimeSpan,n=r.window;n&&t.closeWindow(n),r.window=t.openWindow(),this.schedule(r,e)}s(B$,"dispatchWindowTimeSpanOnly");function W$(r){var t=r.windowTimeSpan,e=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=e.openWindow(),f=this,h={action:f,subscription:null},_={subscriber:e,window:o,context:h};h.subscription=n.schedule(Kw,t,_),f.add(h.subscription),f.schedule(r,i)}s(W$,"dispatchWindowCreation");function Kw(r){var t=r.subscriber,e=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(e)}s(Kw,"dispatchWindowClose")});var Jw=m(zs=>{"use strict";var V$=zs&&zs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(zs,"__esModule",{value:!0});var H$=Ze(),z$=ke(),Y$=pn(),Xw=_n();function G$(r,t){return function(e){return e.lift(new $$(r,t))}}s(G$,"windowToggle");zs.windowToggle=G$;var $$=function(){function r(t,e){this.openings=t,this.closingSelector=e}return s(r,"WindowToggleOperator"),r.prototype.call=function(t,e){return e.subscribe(new Z$(t,this.openings,this.closingSelector))},r}(),Z$=function(r){V$(t,r);function t(e,n,i){var o=r.call(this,e)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=Xw.subscribeToResult(o,n,n)),o}return s(t,"WindowToggleSubscriber"),t.prototype._next=function(e){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(e)},t.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var f=n[o];f.window.error(e),f.subscription.unsubscribe()}r.prototype._error.call(this,e)},t.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var o=e[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var o=e[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,n,i,o,f){if(e===this.openings){var h=void 0;try{var _=this.closingSelector;h=_(n)}catch(j){return this.error(j)}var l=new H$.Subject,v=new z$.Subscription,O={window:l,subscription:v};this.contexts.push(O);var T=Xw.subscribeToResult(this,h,O);T.closed?this.closeWindow(this.contexts.length-1):(T.context=O,v.add(T)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(e!==-1){var n=this.contexts,i=n[e],o=i.window,f=i.subscription;n.splice(e,1),o.complete(),f.unsubscribe()}},t}(Y$.OuterSubscriber)});var eT=m(Ys=>{"use strict";var K$=Ys&&Ys.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ys,"__esModule",{value:!0});var Q$=Ze(),X$=pn(),J$=_n();function eZ(r){return s(function(e){return e.lift(new tZ(r))},"windowWhenOperatorFunction")}s(eZ,"windowWhen");Ys.windowWhen=eZ;var tZ=function(){function r(t){this.closingSelector=t}return s(r,"WindowOperator"),r.prototype.call=function(t,e){return e.subscribe(new rZ(t,this.closingSelector))},r}(),rZ=function(r){K$(t,r);function t(e,n){var i=r.call(this,e)||this;return i.destination=e,i.closingSelector=n,i.openWindow(),i}return s(t,"WindowSubscriber"),t.prototype.notifyNext=function(e,n,i,o,f){this.openWindow(f)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){e===void 0&&(e=null),e&&(this.remove(e),e.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Q$.Subject;this.destination.next(i);var o;try{var f=this.closingSelector;o=f()}catch(h){this.destination.error(h),this.window.error(h);return}this.add(this.closingNotification=J$.subscribeToResult(this,o))},t}(X$.OuterSubscriber)});var tT=m(Gs=>{"use strict";var nZ=Gs&&Gs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Gs,"__esModule",{value:!0});var iZ=pn(),oZ=_n();function uZ(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return e.lift(new sZ(i,n))}}s(uZ,"withLatestFrom");Gs.withLatestFrom=uZ;var sZ=function(){function r(t,e){this.observables=t,this.project=e}return s(r,"WithLatestFromOperator"),r.prototype.call=function(t,e){return e.subscribe(new aZ(t,this.observables,this.project))},r}(),aZ=function(r){nZ(t,r);function t(e,n,i){var o=r.call(this,e)||this;o.observables=n,o.project=i,o.toRespond=[];var f=n.length;o.values=new Array(f);for(var h=0;h<f;h++)o.toRespond.push(h);for(var h=0;h<f;h++){var _=n[h];o.add(oZ.subscribeToResult(o,_,void 0,h))}return o}return s(t,"WithLatestFromSubscriber"),t.prototype.notifyNext=function(e,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var f=o.indexOf(i);f!==-1&&o.splice(f,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(this.toRespond.length===0){var n=[e].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},t.prototype._tryProject=function(e){var n;try{n=this.project.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(iZ.OuterSubscriber)});var rT=m(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});var cZ=tf();function fZ(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return s(function(n){return n.lift.call(cZ.zip.apply(void 0,[n].concat(r)))},"zipOperatorFunction")}s(fZ,"zip");fv.zip=fZ});var nT=m(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});var lZ=tf();function hZ(r){return function(t){return t.lift(new lZ.ZipOperator(r))}}s(hZ,"zipAll");lv.zipAll=hZ});var ff=m(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});var pZ=td();N.audit=pZ.audit;var _Z=B0();N.auditTime=_Z.auditTime;var dZ=W0();N.buffer=dZ.buffer;var vZ=z0();N.bufferCount=vZ.bufferCount;var bZ=$0();N.bufferTime=bZ.bufferTime;var yZ=K0();N.bufferToggle=yZ.bufferToggle;var mZ=Q0();N.bufferWhen=mZ.bufferWhen;var gZ=X0();N.catchError=gZ.catchError;var OZ=J0();N.combineAll=OZ.combineAll;var SZ=eE();N.combineLatest=SZ.combineLatest;var EZ=tE();N.concat=EZ.concat;var wZ=x_();N.concatAll=wZ.concatAll;var TZ=fd();N.concatMap=TZ.concatMap;var CZ=rE();N.concatMapTo=CZ.concatMapTo;var PZ=nE();N.count=PZ.count;var IZ=iE();N.debounce=IZ.debounce;var AZ=oE();N.debounceTime=AZ.debounceTime;var RZ=co();N.defaultIfEmpty=RZ.defaultIfEmpty;var xZ=sE();N.delay=xZ.delay;var NZ=cE();N.delayWhen=NZ.delayWhen;var qZ=fE();N.dematerialize=qZ.dematerialize;var DZ=hE();N.distinct=DZ.distinct;var jZ=bd();N.distinctUntilChanged=jZ.distinctUntilChanged;var MZ=pE();N.distinctUntilKeyChanged=MZ.distinctUntilKeyChanged;var LZ=dE();N.elementAt=LZ.elementAt;var UZ=vE();N.endWith=UZ.endWith;var kZ=bE();N.every=kZ.every;var FZ=yE();N.exhaust=FZ.exhaust;var BZ=gE();N.exhaustMap=BZ.exhaustMap;var WZ=EE();N.expand=WZ.expand;var VZ=Vn();N.filter=VZ.filter;var HZ=wE();N.finalize=HZ.finalize;var zZ=wd();N.find=zZ.find;var YZ=PE();N.findIndex=YZ.findIndex;var GZ=IE();N.first=GZ.first;var $Z=Bp();N.groupBy=$Z.groupBy;var ZZ=AE();N.ignoreElements=ZZ.ignoreElements;var KZ=RE();N.isEmpty=KZ.isEmpty;var QZ=xE();N.last=QZ.last;var XZ=Pt();N.map=XZ.map;var JZ=NE();N.mapTo=JZ.mapTo;var eK=qE();N.materialize=eK.materialize;var tK=LE();N.max=tK.max;var rK=UE();N.merge=rK.merge;var nK=Zc();N.mergeAll=nK.mergeAll;var iT=Wu();N.mergeMap=iT.mergeMap;N.flatMap=iT.flatMap;var iK=FE();N.mergeMapTo=iK.mergeMapTo;var oK=VE();N.mergeScan=oK.mergeScan;var uK=HE();N.min=uK.min;var sK=Zn();N.multicast=sK.multicast;var aK=e_();N.observeOn=aK.observeOn;var cK=$E();N.onErrorResumeNext=cK.onErrorResumeNext;var fK=ZE();N.pairwise=fK.pairwise;var lK=QE();N.partition=lK.partition;var hK=XE();N.pluck=hK.pluck;var pK=tw();N.publish=pK.publish;var _K=rw();N.publishBehavior=_K.publishBehavior;var dK=nw();N.publishLast=dK.publishLast;var vK=iw();N.publishReplay=vK.publishReplay;var bK=ow();N.race=bK.race;var yK=Ss();N.reduce=yK.reduce;var mK=sw();N.repeat=mK.repeat;var gK=aw();N.repeatWhen=gK.repeatWhen;var OK=cw();N.retry=OK.retry;var SK=fw();N.retryWhen=SK.retryWhen;var EK=Uc();N.refCount=EK.refCount;var wK=lw();N.sample=wK.sample;var TK=hw();N.sampleTime=TK.sampleTime;var CK=of();N.scan=CK.scan;var PK=bw();N.sequenceEqual=PK.sequenceEqual;var IK=yw();N.share=IK.share;var AK=mw();N.shareReplay=AK.shareReplay;var RK=gw();N.single=RK.single;var xK=Ow();N.skip=xK.skip;var NK=Ew();N.skipLast=NK.skipLast;var qK=ww();N.skipUntil=qK.skipUntil;var DK=Tw();N.skipWhile=DK.skipWhile;var jK=Pw();N.startWith=jK.startWith;var MK=Aw();N.subscribeOn=MK.subscribeOn;var LK=xw();N.switchAll=LK.switchAll;var UK=sf();N.switchMap=UK.switchMap;var kK=qw();N.switchMapTo=kK.switchMapTo;var FK=rf();N.take=FK.take;var BK=nf();N.takeLast=BK.takeLast;var WK=Dw();N.takeUntil=WK.takeUntil;var VK=jw();N.takeWhile=VK.takeWhile;var HK=Mw();N.tap=HK.tap;var zK=nv();N.throttle=zK.throttle;var YK=Lw();N.throttleTime=YK.throttleTime;var GK=fs();N.throwIfEmpty=GK.throwIfEmpty;var $K=kw();N.timeInterval=$K.timeInterval;var ZK=Fw();N.timeout=ZK.timeout;var KK=ov();N.timeoutWith=KK.timeoutWith;var QK=Ww();N.timestamp=QK.timestamp;var XK=Vw();N.toArray=XK.toArray;var JK=zw();N.window=JK.window;var e5=Gw();N.windowCount=e5.windowCount;var t5=Qw();N.windowTime=t5.windowTime;var r5=Jw();N.windowToggle=r5.windowToggle;var n5=eT();N.windowWhen=n5.windowWhen;var i5=tT();N.withLatestFrom=i5.withLatestFrom;var o5=rT();N.zip=o5.zip;var u5=nT();N.zipAll=u5.zipAll});var hf=m(lf=>{"use strict";var oT=Nn();Object.defineProperty(lf,"__esModule",{value:!0});lf.default=void 0;var s5=oT(qi()),a5=oT(Di()),c5=re(),$s=Gu(),Xn=ff(),Zs={READY:0,STREAMING:1,COMPLETED:2},f5=function(){function r(t){(0,s5.default)(this,r);var e=t.pipe((0,Xn.publishReplay)(1),(0,Xn.refCount)());this._result=e,this._keys=e.pipe((0,Xn.flatMap)(function(n){return(0,$s.from)(n.keys())}),(0,Xn.publishReplay)(1),(0,Xn.refCount)()),this._records=new $s.Subject,this._summary=new $s.ReplaySubject,this._state=Zs.READY}return s(r,"RxResult"),(0,a5.default)(r,[{key:"keys",value:s(function(){return this._keys},"keys")},{key:"records",value:s(function(){var e=this;return this._result.pipe((0,Xn.flatMap)(function(n){return new $s.Observable(function(i){return e._startStreaming({result:n,recordsObserver:i})})}))},"records")},{key:"consume",value:s(function(){var e=this;return this._result.pipe((0,Xn.flatMap)(function(n){return new $s.Observable(function(i){return e._startStreaming({result:n,summaryObserver:i})})}))},"consume")},{key:"_startStreaming",value:s(function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.result,o=n.recordsObserver,f=o===void 0?null:o,h=n.summaryObserver,_=h===void 0?null:h,l=[];return _&&l.push(this._summary.subscribe(_)),this._state<Zs.STREAMING?(this._state=Zs.STREAMING,f&&l.push(this._records.subscribe(f)),l.push({unsubscribe:s(function(){i._cancel&&i._cancel()},"unsubscribe")}),this._records.observers.length===0&&i._cancel(),i.subscribe({onNext:s(function(O){e._records.next(O)},"onNext"),onCompleted:s(function(O){e._records.complete(),e._summary.next(O),e._summary.complete(),e._state=Zs.COMPLETED},"onCompleted"),onError:s(function(O){e._records.error(O),e._summary.error(O),e._state=Zs.COMPLETED},"onError")})):f&&f.error((0,c5.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){l.forEach(function(v){return v.unsubscribe()})}},"_startStreaming")}]),r}();lf.default=f5});var hv=m(df=>{"use strict";var _f=Nn();Object.defineProperty(df,"__esModule",{value:!0});df.default=void 0;var l5=_f(qi()),h5=_f(Di()),pf=Gu(),p5=_f(hf()),lfe=_f(re()),_5=function(){function r(t){(0,l5.default)(this,r),this._txc=t}return s(r,"RxTransaction"),(0,h5.default)(r,[{key:"run",value:s(function(e,n){var i=this;return new p5.default(new pf.Observable(function(o){try{o.next(i._txc.run(e,n)),o.complete()}catch(f){o.error(f)}return function(){}}))},"run")},{key:"commit",value:s(function(){var e=this;return new pf.Observable(function(n){e._txc.commit().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},"commit")},{key:"rollback",value:s(function(){var e=this;return new pf.Observable(function(n){e._txc.rollback().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},"rollback")},{key:"close",value:s(function(){var e=this;return new pf.Observable(function(n){e._txc.close().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},"close")}]),r}();df.default=_5});var lT=m(bf=>{"use strict";var fT=Nn();Object.defineProperty(bf,"__esModule",{value:!0});bf.default=void 0;var d5=fT(qi()),v5=fT(Di()),Ks=re(),pv=Gu(),_v=ff(),_fe=Ks.internal.logger.Logger,b5=Ks.internal.retryStrategy.canRetryOn,y5=Ks.error.SERVICE_UNAVAILABLE,dfe=Ks.error.SESSION_EXPIRED,uT=30*1e3,sT=1e3,aT=2,cT=.2,m5=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.maxRetryTimeout,n=e===void 0?uT:e,i=t.initialDelay,o=i===void 0?sT:i,f=t.delayMultiplier,h=f===void 0?aT:f,_=t.delayJitter,l=_===void 0?cT:_,v=t.logger,O=v===void 0?null:v;(0,d5.default)(this,r),this._maxRetryTimeout=vf(n,uT),this._initialDelay=vf(o,sT),this._delayMultiplier=vf(h,aT),this._delayJitter=vf(l,cT),this._logger=O}return s(r,"RxRetryLogic"),(0,v5.default)(r,[{key:"retry",value:s(function(e){var n=this;return e.pipe((0,_v.retryWhen)(function(i){var o=[],f=Date.now(),h=1,_=n._initialDelay;return i.pipe((0,_v.flatMap)(function(l){if(!b5(l))return(0,pv.throwError)(l);if(o.push(l),h>=2&&Date.now()-f>=n._maxRetryTimeout){var v=(0,Ks.newError)("Failed after retried for ".concat(h," times in ").concat(n._maxRetryTimeout," ms. Make sure that your database is online and retry again."),y5);return v.seenErrors=o,(0,pv.throwError)(v)}var O=n._computeNextDelay(_);return _=_*n._delayMultiplier,h++,n._logger&&n._logger.warn("Transaction failed and will be retried in ".concat(O)),(0,pv.of)(1).pipe((0,_v.delay)(O))}))}))},"retry")},{key:"_computeNextDelay",value:s(function(e){var n=e*this._delayJitter;return e-n+2*n*Math.random()},"_computeNextDelay")}]),r}();bf.default=m5;function vf(r,t){return r||r===0?r:t}s(vf,"valueOrDefault")});var dv=m(gf=>{"use strict";var Qs=Nn();Object.defineProperty(gf,"__esModule",{value:!0});gf.default=void 0;var g5=Qs(qi()),O5=Qs(Di()),ho=Gu(),yf=ff(),S5=Qs(hf()),hT=re(),E5=Qs(hv()),w5=Qs(lT()),pT=hT.internal.constants,T5=pT.ACCESS_MODE_READ,C5=pT.ACCESS_MODE_WRITE,mf=hT.internal.txConfig.TxConfig,P5=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.session,n=t.config;(0,g5.default)(this,r),this._session=e,this._retryLogic=I5(n)}return s(r,"RxSession"),(0,O5.default)(r,[{key:"run",value:s(function(e,n,i){var o=this;return new S5.default(new ho.Observable(function(f){try{f.next(o._session.run(e,n,i)),f.complete()}catch(h){f.error(h)}return function(){}}))},"run")},{key:"beginTransaction",value:s(function(e){return this._beginTransaction(this._session._mode,e)},"beginTransaction")},{key:"readTransaction",value:s(function(e,n){return this._runTransaction(T5,e,n)},"readTransaction")},{key:"writeTransaction",value:s(function(e,n){return this._runTransaction(C5,e,n)},"writeTransaction")},{key:"close",value:s(function(){var e=this;return new ho.Observable(function(n){e._session.close().then(function(){n.complete()}).catch(function(i){return n.error(i)})})},"close")},{key:"lastBookmark",value:s(function(){return this._session.lastBookmark()},"lastBookmark")},{key:"_beginTransaction",value:s(function(e,n){var i=this,o=mf.empty();return n&&(o=new mf(n)),new ho.Observable(function(f){try{f.next(new E5.default(i._session._beginTransaction(e,o))),f.complete()}catch(h){f.error(h)}return function(){}})},"_beginTransaction")},{key:"_runTransaction",value:s(function(e,n,i){var o=mf.empty();return i&&(o=new mf(i)),this._retryLogic.retry(this._beginTransaction(e,i).pipe((0,yf.flatMap)(function(f){return(0,ho.defer)(function(){try{return n(f)}catch(h){return(0,ho.throwError)(h)}}).pipe((0,yf.catchError)(function(h){return f.rollback().pipe((0,yf.concat)((0,ho.throwError)(h)))}),(0,yf.concat)(f.commit()))})))},"_runTransaction")}]),r}();gf.default=P5;function I5(r){var t=r&&r.maxTransactionRetryTime?r.maxTransactionRetryTime:null;return new w5.default({maxRetryTimeout:t})}s(I5,"_createRetryLogic")});var yT=m(br=>{"use strict";var po=Nn();Object.defineProperty(br,"__esModule",{value:!0});br.default=br.WRITE=br.READ=br.Driver=void 0;var A5=po(qi()),R5=po(Di()),x5=po(ug()),N5=po(ag()),_T=po(cg()),Of=re(),q5=po(dv());function D5(r){var t=j5();return s(function(){var n=(0,_T.default)(r),i;if(t){var o=(0,_T.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,N5.default)(this,i)},"_createSuperInternal")}s(D5,"_createSuper");function j5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}s(j5,"_isNativeReflectConstruct");var dT=Of.internal.constants.FETCH_ALL,M5=Of.driver.READ,vT=Of.driver.WRITE;br.WRITE=vT;br.READ=M5;var bT=function(r){(0,x5.default)(e,r);var t=D5(e);function e(){return(0,A5.default)(this,e),t.apply(this,arguments)}return s(e,"Driver"),(0,R5.default)(e,[{key:"rxSession",value:s(function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.defaultAccessMode,f=o===void 0?vT:o,h=i.bookmarks,_=i.database,l=_===void 0?"":_,v=i.fetchSize,O=i.impersonatedUser;return new q5.default({session:this._newSession({defaultAccessMode:f,bookmarkOrBookmarks:h,database:l,impersonatedUser:O,reactive:!0,fetchSize:L5(v,this._config.fetchSize)}),config:this._config})},"rxSession")}]),e}(Of.Driver);br.Driver=bT;function L5(r,t){var e=parseInt(r,10);if(e>0||e===dT)return e;if(e===0||e<0)throw new Error("The fetch size can only be a positive value or ".concat(dT," for ALL. However fetchSize = ").concat(e));return t}s(L5,"validateFetchSizeValue");var U5=bT;br.default=U5});var mT=m(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=void 0;var k5="4.4.11";Sf.default=k5});var bv=m(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});var F5=function(){function r(){}return s(r,"LoadBalancingStrategy"),r.prototype.selectReader=function(t){throw new Error("Abstract function")},r.prototype.selectWriter=function(t){throw new Error("Abstract function")},r}();vv.default=F5});var gT=m(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});var B5=function(){function r(t){this._offset=t||0}return s(r,"RoundRobinArrayIndex"),r.prototype.next=function(t){if(t===0)return-1;var e=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),e%t},r}();yv.default=B5});var ET=m(Jn=>{"use strict";var W5=Jn&&Jn.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ST=Jn&&Jn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jn,"__esModule",{value:!0});var OT=ST(gT()),V5=ST(bv()),H5=function(r){W5(t,r);function t(e){var n=r.call(this)||this;return n._readersIndex=new OT.default,n._writersIndex=new OT.default,n._connectionPool=e,n}return s(t,"LeastConnectedLoadBalancingStrategy"),t.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},t.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},t.prototype._select=function(e,n){var i=e.length;if(i===0)return null;var o=n.next(i),f=o,h=null,_=Number.MAX_SAFE_INTEGER;do{var l=e[f],v=this._connectionPool.activeResourceCount(l);v<_&&(h=l,_=v),f===i-1?f=0:f++}while(f!==o);return h},t}(V5.default);Jn.default=H5});var mv=m(Fr=>{"use strict";var wT=Fr&&Fr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.LeastConnectedLoadBalancingStrategy=Fr.LoadBalancingStrategy=void 0;var z5=wT(bv());Fr.LoadBalancingStrategy=z5.default;var TT=wT(ET());Fr.LeastConnectedLoadBalancingStrategy=TT.default;Fr.default=TT.default});var gv=m(Xs=>{"use strict";var Y5=Xs&&Xs.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Xs,"__esModule",{value:!0});var CT=function(){function r(t){this.position=0,this.length=t}return s(r,"BaseBuffer"),r.prototype.getUInt8=function(t){throw new Error("Not implemented")},r.prototype.getInt8=function(t){throw new Error("Not implemented")},r.prototype.getFloat64=function(t){throw new Error("Not implemented")},r.prototype.putUInt8=function(t,e){throw new Error("Not implemented")},r.prototype.putInt8=function(t,e){throw new Error("Not implemented")},r.prototype.putFloat64=function(t,e){throw new Error("Not implemented")},r.prototype.getInt16=function(t){return this.getInt8(t)<<8|this.getUInt8(t+1)},r.prototype.getUInt16=function(t){return this.getUInt8(t)<<8|this.getUInt8(t+1)},r.prototype.getInt32=function(t){return this.getInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},r.prototype.getUInt32=function(t){return this.getUInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},r.prototype.getInt64=function(t){return this.getInt8(t)<<56|this.getUInt8(t+1)<<48|this.getUInt8(t+2)<<40|this.getUInt8(t+3)<<32|this.getUInt8(t+4)<<24|this.getUInt8(t+5)<<16|this.getUInt8(t+6)<<8|this.getUInt8(t+7)},r.prototype.getSlice=function(t,e){return new G5(t,e,this)},r.prototype.putInt16=function(t,e){this.putInt8(t,e>>8),this.putUInt8(t+1,e&255)},r.prototype.putUInt16=function(t,e){this.putUInt8(t,e>>8&255),this.putUInt8(t+1,e&255)},r.prototype.putInt32=function(t,e){this.putInt8(t,e>>24),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,e&255)},r.prototype.putUInt32=function(t,e){this.putUInt8(t,e>>24&255),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,e&255)},r.prototype.putInt64=function(t,e){this.putInt8(t,e>>48),this.putUInt8(t+1,e>>42&255),this.putUInt8(t+2,e>>36&255),this.putUInt8(t+3,e>>30&255),this.putUInt8(t+4,e>>24&255),this.putUInt8(t+5,e>>16&255),this.putUInt8(t+6,e>>8&255),this.putUInt8(t+7,e&255)},r.prototype.putBytes=function(t,e){for(var n=0,i=e.remaining();n<i;n++)this.putUInt8(t+n,e.readUInt8())},r.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},r.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},r.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},r.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},r.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},r.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},r.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},r.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},r.prototype.writeUInt8=function(t){this.putUInt8(this._updatePos(1),t)},r.prototype.writeInt8=function(t){this.putInt8(this._updatePos(1),t)},r.prototype.writeInt16=function(t){this.putInt16(this._updatePos(2),t)},r.prototype.writeInt32=function(t){this.putInt32(this._updatePos(4),t)},r.prototype.writeUInt32=function(t){this.putUInt32(this._updatePos(4),t)},r.prototype.writeInt64=function(t){this.putInt64(this._updatePos(8),t)},r.prototype.writeFloat64=function(t){this.putFloat64(this._updatePos(8),t)},r.prototype.writeBytes=function(t){this.putBytes(this._updatePos(t.remaining()),t)},r.prototype.readSlice=function(t){return this.getSlice(this._updatePos(t),t)},r.prototype._updatePos=function(t){var e=this.position;return this.position+=t,e},r.prototype.remaining=function(){return this.length-this.position},r.prototype.hasRemaining=function(){return this.remaining()>0},r.prototype.reset=function(){this.position=0},r.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},r.prototype.toHex=function(){for(var t="",e=0;e<this.length;e++){var n=this.getUInt8(e).toString(16);n.length===1&&(n="0"+n),t+=n,e!==this.length-1&&(t+=" ")}return t},r}();Xs.default=CT;var G5=function(r){Y5(t,r);function t(e,n,i){var o=r.call(this,n)||this;return o._start=e,o._inner=i,o}return s(t,"SliceBuffer"),t.prototype.putUInt8=function(e,n){this._inner.putUInt8(this._start+e,n)},t.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},t.prototype.putInt8=function(e,n){this._inner.putInt8(this._start+e,n)},t.prototype.putFloat64=function(e,n){this._inner.putFloat64(this._start+e,n)},t.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},t.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},t}(CT)});var Ef=m(ei=>{"use strict";var $5=ei&&ei.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ei,"__esModule",{value:!0});ei.BaseBuffer=void 0;var PT=$5(gv());ei.BaseBuffer=PT.default;ei.default=PT.default});var _o=m(Br=>{"use strict";var Z5=Br&&Br.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),IT=Br&&Br.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Br,"__esModule",{value:!0});Br.alloc=void 0;var wf=IT(require("buffer")),K5=IT(Ef()),AT=function(r){Z5(t,r);function t(e){var n=this,i=X5(e);return n=r.call(this,i.length)||this,n._buffer=i,n}return s(t,"ChannelBuffer"),t.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},t.prototype.getInt8=function(e){return this._buffer.readInt8(e)},t.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},t.prototype.putUInt8=function(e,n){this._buffer.writeUInt8(n,e)},t.prototype.putInt8=function(e,n){this._buffer.writeInt8(n,e)},t.prototype.putFloat64=function(e,n){this._buffer.writeDoubleBE(n,e)},t.prototype.putBytes=function(e,n){if(n instanceof t){var i=Math.min(n.length-n.position,this.length-e);n._buffer.copy(this._buffer,e,n.position,n.position+i),n.position+=i}else r.prototype.putBytes.call(this,e,n)},t.prototype.getSlice=function(e,n){return new t(this._buffer.slice(e,e+n))},t}(K5.default);Br.default=AT;function Q5(r){return new AT(r)}s(Q5,"alloc");Br.alloc=Q5;function X5(r){return r instanceof wf.default.Buffer?r:typeof r=="number"&&typeof wf.default.Buffer.alloc=="function"?wf.default.Buffer.alloc(r):new wf.default.Buffer(r)}s(X5,"newChannelJSBuffer")});var NT=m(ea=>{"use strict";var Cf=ea&&ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ea,"__esModule",{value:!0});var J5=Cf(require("net")),Ov=Cf(require("tls")),e9=Cf(require("fs")),RT=Cf(_o()),ur=re(),Ev=ur.internal.util,Js=Ev.ENCRYPTION_OFF,t9=Ev.ENCRYPTION_ON,r9=Ev.isEmptyObjectOrNull,n9=0,xT={TRUST_CUSTOM_CA_SIGNED_CERTIFICATES:function(r,t,e){if(!r.trustedCertificates||r.trustedCertificates.length===0){e((0,ur.newError)('You are using TRUST_CUSTOM_CA_SIGNED_CERTIFICATES as the method to verify trust for encrypted  connections, but have not configured any trustedCertificates. You  must specify the path to at least one trusted X.509 certificate for this to work. Two other alternatives is to use TRUST_ALL_CERTIFICATES or to disable encryption by setting encrypted="'+Js+'"in your driver configuration.'));return}var n=Sv(r.address.host(),r.trustedCertificates.map(function(o){return e9.default.readFileSync(o)})),i=Ov.default.connect(r.address.port(),r.address.resolvedHost(),n,function(){i.authorized?t():e((0,ur.newError)("Server certificate is not trusted. If you trust the database you are connecting to, add the signing certificate, or the server certificate, to the list of certificates trusted by this driver using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This  is a security measure to protect against man-in-the-middle attacks. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\""+Js+'"` in the driver options. Socket responded with: '+i.authorizationError))});return i.on("error",e),Tf(i)},TRUST_SYSTEM_CA_SIGNED_CERTIFICATES:function(r,t,e){var n=Sv(r.address.host()),i=Ov.default.connect(r.address.port(),r.address.resolvedHost(),n,function(){i.authorized?t():e((0,ur.newError)("Server certificate is not trusted. If you trust the database you are connecting to, use TRUST_CUSTOM_CA_SIGNED_CERTIFICATES and add the signing certificate, or the server certificate, to the list of certificates trusted by this driver using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This  is a security measure to protect against man-in-the-middle attacks. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\""+Js+'"` in the driver options. Socket responded with: '+i.authorizationError))});return i.on("error",e),Tf(i)},TRUST_ALL_CERTIFICATES:function(r,t,e){var n=Sv(r.address.host()),i=Ov.default.connect(r.address.port(),r.address.resolvedHost(),n,function(){var o=i.getPeerCertificate();r9(o)?e((0,ur.newError)('Secure connection was successful but server did not return any valid certificates. Such connection can not be trusted. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted="'+Js+'"` in the driver options. Socket responded with: '+i.authorizationError)):t()});return i.on("error",e),Tf(i)}};function i9(r,t,e){e===void 0&&(e=s(function(){return null},"onFailure"));var n=u9(r);if(o9(r)){if(xT[n])return xT[n](r,t,e);e((0,ur.newError)("Unknown trust strategy: "+r.trust+". Please use either trust:'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES' or trust:'TRUST_ALL_CERTIFICATES' in your driver configuration. Alternatively, you can disable encryption by setting `encrypted:\""+Js+'"`. There is no mechanism to use encryption without trust verification, because this incurs the overhead of encryption without improving security. If the driver does not verify that the peer it is connected to is really Neo4j, it is very easy for an attacker to bypass the encryption by pretending to be Neo4j.'))}else{var i=J5.default.connect(r.address.port(),r.address.resolvedHost(),t);return i.on("error",e),Tf(i)}}s(i9,"_connect");function o9(r){var t=r.encrypted==null||r.encrypted===void 0;return t?!1:r.encrypted===!0||r.encrypted===t9}s(o9,"isEncrypted");function u9(r){return r.trust?r.trust:"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"}s(u9,"trustStrategyName");function Sv(r,t){return t===void 0&&(t=void 0),{rejectUnauthorized:!1,servername:r,ca:t}}s(Sv,"newTlsOptions");function Tf(r){return r.setKeepAlive(!0),r}s(Tf,"configureSocket");var s9=function(){function r(t,e){e===void 0&&(e=i9);var n=this;this.id=n9++,this._pending=[],this._open=!0,this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._handleConnectionTerminated=this._handleConnectionTerminated.bind(this),this._connectionErrorCode=t.connectionErrorCode,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._conn=e(t,function(){if(n._open){n._conn.on("data",function(f){n.onmessage&&n.onmessage(new RT.default(f))}),n._conn.on("error",n._handleConnectionError),n._conn.on("end",n._handleConnectionTerminated);var i=n._pending;n._pending=null;for(var o=0;o<i.length;o++)n.write(i[o])}},this._handleConnectionError),this._setupConnectionTimeout(t,this._conn)}return s(r,"NodeChannel"),r.prototype._handleConnectionError=function(t){var e="Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.";t.message&&(e+=" Caused by: "+t.message),this._error=(0,ur.newError)(e,this._connectionErrorCode),this.onerror&&this.onerror(this._error)},r.prototype._handleConnectionTerminated=function(){this._open=!1,this._error=(0,ur.newError)("Connection was closed by server",this._connectionErrorCode),this.onerror&&this.onerror(this._error)},r.prototype._setupConnectionTimeout=function(t,e){var n=this,i=t.connectionTimeout;if(i){var o=s(function(){e.setTimeout(0)},"connectListener_1"),f=s(function(){e.setTimeout(0),e.destroy((0,ur.newError)("Failed to establish connection in "+i+"ms",t.connectionErrorCode))},"timeoutListener_1");e.on("connect",o),e.on("timeout",f),this._removeConnectionTimeoutListeners=function(){n._conn.off("connect",o),n._conn.off("timeout",f)},e.setTimeout(i)}},r.prototype.setupReceiveTimeout=function(t){var e=this;this._removeConnectionTimeoutListeners&&this._removeConnectionTimeoutListeners(),this._conn.on("timeout",function(){e._conn.destroy((0,ur.newError)("Connection lost. Server didn't respond in "+t+"ms",e._connectionErrorCode))}),this._receiveTimeout=t},r.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._conn.setTimeout(0))},r.prototype.startReceiveTimeout=function(){this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._conn.setTimeout(this._receiveTimeout))},r.prototype.write=function(t){if(this._pending!==null)this._pending.push(t);else if(t instanceof RT.default)this._conn.write(t._buffer);else throw(0,ur.newError)("Don't know how to write: "+t)},r.prototype.close=function(){var t=this;return new Promise(function(e,n){var i=s(function(){t._conn.destroyed||t._conn.destroy(),e()},"cleanup");t._open?(t._open=!1,t._conn.removeListener("end",t._handleConnectionTerminated),t._conn.on("end",function(){return i()}),t._conn.on("close",function(){return i()}),t._conn.end(),t._conn.destroy()):i()})},r}();ea.default=s9});var qT=m(ti=>{"use strict";var a9=ti&&ti.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),c9=ti&&ti.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ti,"__esModule",{value:!0});var f9=c9(require("dns")),l9=re(),h9=l9.internal.resolver.BaseHostNameResolver,p9=function(r){a9(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"NodeHostNameResolver"),t.prototype.resolve=function(e){return new Promise(function(n){f9.default.lookup(e.host(),{all:!0},function(i,o){if(i)n([e]);else{var f=o.map(function(h){return e.resolveWith(h.address)});n(f)}})})},t}(h9);ti.default=p9});var jT=m(bn=>{"use strict";var DT=bn&&bn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bn,"__esModule",{value:!0});bn.HostNameResolver=bn.Channel=void 0;var _9=DT(NT()),d9=DT(qT());bn.Channel=_9.default;bn.HostNameResolver=d9.default});var MT=m(ta=>{"use strict";var v9=ta&&ta.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ta,"__esModule",{value:!0});var b9=Ef(),y9=_o(),m9=function(r){v9(t,r);function t(e){for(var n=this,i=0,o=0;o<e.length;o++)i+=e[o].length;return n=r.call(this,i)||this,n._buffers=e,n}return s(t,"CombinedBuffer"),t.prototype.getUInt8=function(e){for(var n=0;n<this._buffers.length;n++){var i=this._buffers[n];if(e>=i.length)e-=i.length;else return i.getUInt8(e)}},t.prototype.getInt8=function(e){for(var n=0;n<this._buffers.length;n++){var i=this._buffers[n];if(e>=i.length)e-=i.length;else return i.getInt8(e)}},t.prototype.getFloat64=function(e){for(var n=(0,y9.alloc)(8),i=0;i<8;i++)n.putUInt8(i,this.getUInt8(e+i));return n.getFloat64(0)},t}(b9.BaseBuffer);ta.default=m9});var kT=m(yr=>{"use strict";var g9=yr&&yr.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),UT=yr&&yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});yr.Dechunker=yr.Chunker=void 0;var O9=UT(gv()),LT=_o(),S9=UT(MT()),Pf=2,E9=0,w9=1400,T9=function(r){g9(t,r);function t(e,n){var i=r.call(this,0)||this;return i._bufferSize=n||w9,i._ch=e,i._buffer=(0,LT.alloc)(i._bufferSize),i._currentChunkStart=0,i._chunkOpen=!1,i}return s(t,"Chunker"),t.prototype.putUInt8=function(e,n){this._ensure(1),this._buffer.writeUInt8(n)},t.prototype.putInt8=function(e,n){this._ensure(1),this._buffer.writeInt8(n)},t.prototype.putFloat64=function(e,n){this._ensure(8),this._buffer.writeFloat64(n)},t.prototype.putBytes=function(e,n){for(;n.remaining()>0;)this._ensure(1),this._buffer.remaining()>n.remaining()?this._buffer.writeBytes(n):this._buffer.writeBytes(n.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,LT.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<Pf&&this.flush(),this._buffer.writeInt16(E9)},t.prototype._ensure=function(e){var n=this._chunkOpen?e:e+Pf;this._buffer.remaining()<n&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+Pf,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+Pf);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},t}(O9.default);yr.Chunker=T9;var C9=function(){function r(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return s(r,"Dechunker"),r.prototype.AWAITING_CHUNK=function(t){return t.remaining()>=2?this._onHeader(t.readUInt16()):(this._partialChunkHeader=t.readUInt8()<<8,this.IN_HEADER)},r.prototype.IN_HEADER=function(t){return this._onHeader((this._partialChunkHeader|t.readUInt8())&65535)},r.prototype.IN_CHUNK=function(t){return this._chunkSize<=t.remaining()?(this._currentMessage.push(t.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=t.remaining(),this._currentMessage.push(t.readSlice(t.remaining())),this.IN_CHUNK)},r.prototype.CLOSED=function(t){},r.prototype._onHeader=function(t){if(t===0){var e=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:e=this._currentMessage[0];break;default:e=new S9.default(this._currentMessage);break}return this._currentMessage=[],this.onmessage(e),this.AWAITING_CHUNK}else return this._chunkSize=t,this.IN_CHUNK},r.prototype.write=function(t){for(;t.hasRemaining();)this._state=this._state(t)},r}();yr.Dechunker=C9});var VT=m(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});var If=re(),WT=If.internal.util,P9=WT.ENCRYPTION_OFF,I9=WT.ENCRYPTION_ON,A9=If.error.SERVICE_UNAVAILABLE,R9=3e4,FT=[null,void 0,!0,!1,I9,P9],BT=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"],x9=function(){function r(t,e,n){this.address=t,this.encrypted=N9(e),this.trust=q9(e),this.trustedCertificates=D9(e),this.knownHostsPath=j9(e),this.connectionErrorCode=n||A9,this.connectionTimeout=M9(e)}return s(r,"ChannelConfig"),r}();wv.default=x9;function N9(r){var t=r.encrypted;if(FT.indexOf(t)===-1)throw(0,If.newError)("Illegal value of the encrypted setting "+t+". Expected one of "+FT);return t}s(N9,"extractEncrypted");function q9(r){var t=r.trust;if(BT.indexOf(t)===-1)throw(0,If.newError)("Illegal value of the trust setting "+t+". Expected one of "+BT);return t}s(q9,"extractTrust");function D9(r){return r.trustedCertificates||[]}s(D9,"extractTrustedCertificates");function j9(r){return r.knownHosts||null}s(j9,"extractKnownHostsPath");function M9(r){var t=parseInt(r.connectionTimeout,10);return t===0||t&&t<0?null:t||R9}s(M9,"extractConnectionTimeout")});var YT=m(ra=>{"use strict";var zT=ra&&ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ra,"__esModule",{value:!0});var L9=zT(_o()),U9=re(),Tv=zT(require("buffer")),k9=require("string_decoder"),HT=new k9.StringDecoder("utf8");function F9(r){return new L9.default(z9(r))}s(F9,"encode");function B9(r,t){if(Object.prototype.hasOwnProperty.call(r,"_buffer"))return W9(r,t);if(Object.prototype.hasOwnProperty.call(r,"_buffers"))return V9(r,t);throw(0,U9.newError)("Don't know how to decode strings from '"+r+"'")}s(B9,"decode");function W9(r,t){var e=r.position,n=e+t;return r.position=Math.min(n,r.length),r._buffer.toString("utf8",e,n)}s(W9,"decodeChannelBuffer");function V9(r,t){return H9(r,t,function(e){return HT.write(e._buffer)},function(){return HT.end()})}s(V9,"decodeCombinedBuffer");function H9(r,t,e,n){var i=t,o=r.position;r._updatePos(Math.min(t,r.length-o));var f=r._buffers.reduce(function(h,_){if(i<=0)return h;if(o>=_.length)return o-=_.length,"";_._updatePos(o-_.position);var l=Math.min(_.length-o,i),v=_.readSlice(l);return _._updatePos(l),i=Math.max(i-v.length,0),o=0,h+e(v)},"");return f+n()}s(H9,"streamDecodeCombinedBuffer");function z9(r){return typeof Tv.default.Buffer.from=="function"?Tv.default.Buffer.from(r,"utf8"):new Tv.default.Buffer(r,"utf8")}s(z9,"newBuffer");ra.default={encode:F9,decode:B9}});var vo=m(Ke=>{"use strict";var Y9=Ke&&Ke.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),GT=Ke&&Ke.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Y9(t,r,e)},$T=Ke&&Ke.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.utf8=Ke.alloc=Ke.ChannelConfig=void 0;GT(jT(),Ke);GT(kT(),Ke);var G9=VT();Object.defineProperty(Ke,"ChannelConfig",{enumerable:!0,get:function(){return $T(G9).default}});var $9=_o();Object.defineProperty(Ke,"alloc",{enumerable:!0,get:function(){return $9.alloc}});var Z9=YT();Object.defineProperty(Ke,"utf8",{enumerable:!0,get:function(){return $T(Z9).default}})});var KT=m(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});var K9=vo(),ZT=re(),Q9=1616949271;function na(r,t){return{major:r,minor:t}}s(na,"version");function X9(r){if(r.length>4)throw(0,ZT.newError)("It should not have more than 4 versions of the protocol");var t=(0,K9.alloc)(5*4);return t.writeInt32(Q9),r.forEach(function(e){if(e instanceof Array){var n=e[0],i=n.major,o=n.minor,f=e[1].minor,h=o-f;t.writeInt32(h<<16|o<<8|i)}else{var i=e.major,o=e.minor;t.writeInt32(o<<8|i)}}),t.reset(),t}s(X9,"createHandshakeMessage");function J9(r){var t=[r.readUInt8(),r.readUInt8(),r.readUInt8(),r.readUInt8()];if(t[0]===72&&t[1]===84&&t[2]===84&&t[3]===80)throw(0,ZT.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return+(t[3]+"."+t[2])}s(J9,"parseNegotiatedResponse");function e7(){return X9([[na(4,4),na(4,2)],na(4,1),na(4,0),na(3,0)])}s(e7,"newHandshakeBuffer");function t7(r){var t=this;return new Promise(function(e,n){var i=s(function(o){n(o)},"handshakeErrorHandler");r.onerror=i.bind(t),r._error&&i(r._error),r.onmessage=function(o){try{var f=J9(o);e({protocolVersion:f,consumeRemainingBuffer:function(h){o.hasRemaining()&&h(o.readSlice(o.remaining()))}})}catch(h){n(h)}},r.write(e7())})}s(t7,"handshake");Cv.default=t7});var Af=m(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.assertImpersonatedUserIsEmpty=yn.assertTxConfigIsEmpty=yn.assertDatabaseIsEmpty=void 0;var Pv=re();function r7(r,t,e){if(t===void 0&&(t=s(function(){},"onProtocolError")),r&&!r.isEmpty()){var n=(0,Pv.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(n.message),e.onError(n),n}}s(r7,"assertTxConfigIsEmpty");yn.assertTxConfigIsEmpty=r7;function n7(r,t,e){if(t===void 0&&(t=s(function(){},"onProtocolError")),r){var n=(0,Pv.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(n.message),e.onError(n),n}}s(n7,"assertDatabaseIsEmpty");yn.assertDatabaseIsEmpty=n7;function i7(r,t,e){if(t===void 0&&(t=s(function(){},"onProtocolError")),r){var n=(0,Pv.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+("Trying to impersonate "+r+"."));throw t(n.message),e.onError(n),n}}s(i7,"assertImpersonatedUserIsEmpty");yn.assertImpersonatedUserIsEmpty=i7});var Av=m(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.Structure=mn.Unpacker=mn.Packer=void 0;var ia=vo(),fe=re(),o7=fe.internal.objectUtil,QT=fe.error.PROTOCOL_ERROR,XT=128,JT=144,e1=160,t1=176,r1=192,n1=193,i1=194,o1=195,u1=200,s1=201,a1=202,c1=203,f1=208,l1=209,h1=210,p1=212,_1=213,d1=214,v1=204,b1=205,y1=206,m1=216,g1=217,O1=218,S1=220,E1=221,u7=78,s7=3,a7=82,c7=5,f7=114,l7=3,h7=80,p7=3,Iv=function(){function r(t,e){this.signature=t,this.fields=e}return s(r,"Structure"),r.prototype.toString=function(){for(var t="",e=0;e<this.fields.length;e++)e>0&&(t+=", "),t+=this.fields[e];return"Structure("+this.signature+", ["+t+"])"},r}();mn.Structure=Iv;var _7=function(){function r(t){this._ch=t,this._byteArraysSupported=!0}return s(r,"Packer"),r.prototype.packable=function(t){var e=this;if(t===null)return function(){return e._ch.writeUInt8(r1)};if(t===!0)return function(){return e._ch.writeUInt8(o1)};if(t===!1)return function(){return e._ch.writeUInt8(i1)};if(typeof t=="number")return function(){return e.packFloat(t)};if(typeof t=="string")return function(){return e.packString(t)};if(typeof t=="bigint")return function(){return e.packInteger((0,fe.int)(t))};if((0,fe.isInt)(t))return function(){return e.packInteger(t)};if(t instanceof Int8Array)return function(){return e.packBytes(t)};if(t instanceof Array)return function(){e.packListHeader(t.length);for(var o=0;o<t.length;o++)e.packable(t[o]===void 0?null:t[o])()};if(v7(t))return this.packableIterable(t);if(t instanceof fe.Node)return this._nonPackableValue("It is not allowed to pass nodes in query parameters, given: "+t);if(t instanceof fe.Relationship)return this._nonPackableValue("It is not allowed to pass relationships in query parameters, given: "+t);if(t instanceof fe.Path)return this._nonPackableValue("It is not allowed to pass paths in query parameters, given: "+t);if(t instanceof Iv){for(var n=[],i=0;i<t.fields.length;i++)n[i]=this.packable(t.fields[i]);return function(){return e.packStruct(t.signature,n)}}else return typeof t=="object"?function(){for(var o=Object.keys(t),f=0,h=0;h<o.length;h++)t[o[h]]!==void 0&&f++;e.packMapHeader(f);for(var _=0;_<o.length;_++){var l=o[_];t[l]!==void 0&&(e.packString(l),e.packable(t[l])())}}:this._nonPackableValue("Unable to pack the given value: "+t)},r.prototype.packableIterable=function(t){try{var e=Array.from(t);return this.packable(e)}catch(n){throw(0,fe.newError)("Cannot pack given iterable, "+n.message+": "+t)}},r.prototype.packStruct=function(t,e){e=e||[],this.packStructHeader(e.length,t);for(var n=0;n<e.length;n++)e[n]()},r.prototype.packInteger=function(t){var e=t.high,n=t.low;t.greaterThanOrEqual(-16)&&t.lessThan(128)?this._ch.writeInt8(n):t.greaterThanOrEqual(-128)&&t.lessThan(-16)?(this._ch.writeUInt8(u1),this._ch.writeInt8(n)):t.greaterThanOrEqual(-32768)&&t.lessThan(32768)?(this._ch.writeUInt8(s1),this._ch.writeInt16(n)):t.greaterThanOrEqual(-2147483648)&&t.lessThan(2147483648)?(this._ch.writeUInt8(a1),this._ch.writeInt32(n)):(this._ch.writeUInt8(c1),this._ch.writeInt32(e),this._ch.writeInt32(n))},r.prototype.packFloat=function(t){this._ch.writeUInt8(n1),this._ch.writeFloat64(t)},r.prototype.packString=function(t){var e=ia.utf8.encode(t),n=e.length;if(n<16)this._ch.writeUInt8(XT|n),this._ch.writeBytes(e);else if(n<256)this._ch.writeUInt8(f1),this._ch.writeUInt8(n),this._ch.writeBytes(e);else if(n<65536)this._ch.writeUInt8(l1),this._ch.writeUInt8(n/256>>0),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else if(n<4294967296)this._ch.writeUInt8(h1),this._ch.writeUInt8((n/16777216>>0)%256),this._ch.writeUInt8((n/65536>>0)%256),this._ch.writeUInt8((n/256>>0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else throw(0,fe.newError)("UTF-8 strings of size "+n+" are not supported")},r.prototype.packListHeader=function(t){if(t<16)this._ch.writeUInt8(JT|t);else if(t<256)this._ch.writeUInt8(p1),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(_1),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else if(t<4294967296)this._ch.writeUInt8(d1),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else throw(0,fe.newError)("Lists of size "+t+" are not supported")},r.prototype.packBytes=function(t){if(this._byteArraysSupported){this.packBytesHeader(t.length);for(var e=0;e<t.length;e++)this._ch.writeInt8(t[e])}else throw(0,fe.newError)("Byte arrays are not supported by the database this driver is connected to")},r.prototype.packBytesHeader=function(t){if(t<256)this._ch.writeUInt8(v1),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(b1),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else if(t<4294967296)this._ch.writeUInt8(y1),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else throw(0,fe.newError)("Byte arrays of size "+t+" are not supported")},r.prototype.packMapHeader=function(t){if(t<16)this._ch.writeUInt8(e1|t);else if(t<256)this._ch.writeUInt8(m1),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(g1),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256);else if(t<4294967296)this._ch.writeUInt8(O1),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else throw(0,fe.newError)("Maps of size "+t+" are not supported")},r.prototype.packStructHeader=function(t,e){if(t<16)this._ch.writeUInt8(t1|t),this._ch.writeUInt8(e);else if(t<256)this._ch.writeUInt8(S1),this._ch.writeUInt8(t),this._ch.writeUInt8(e);else if(t<65536)this._ch.writeUInt8(E1),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256);else throw(0,fe.newError)("Structures of size "+t+" are not supported")},r.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},r.prototype._nonPackableValue=function(t){return function(){throw(0,fe.newError)(t,QT)}},r}();mn.Packer=_7;var d7=function(){function r(t,e){t===void 0&&(t=!1),e===void 0&&(e=!1),this._disableLosslessIntegers=t,this._useBigInt=e}return s(r,"Unpacker"),r.prototype.unpack=function(t){var e=t.readUInt8(),n=e&240,i=e&15;if(e===r1)return null;var o=this._unpackBoolean(e);if(o!==null)return o;var f=this._unpackNumberOrInteger(e,t);if(f!==null){if((0,fe.isInt)(f)){if(this._useBigInt)return f.toBigInt();if(this._disableLosslessIntegers)return f.toNumberOrInfinity()}return f}var h=this._unpackString(e,n,i,t);if(h!==null)return h;var _=this._unpackList(e,n,i,t);if(_!==null)return _;var l=this._unpackByteArray(e,t);if(l!==null)return l;var v=this._unpackMap(e,n,i,t);if(v!==null)return v;var O=this._unpackStruct(e,n,i,t);if(O!==null)return O;throw(0,fe.newError)("Unknown packed value with marker "+e.toString(16))},r.prototype.unpackInteger=function(t){var e=t.readUInt8(),n=this._unpackInteger(e,t);if(n==null)throw(0,fe.newError)("Unable to unpack integer value with marker "+e.toString(16));return n},r.prototype._unpackBoolean=function(t){return t===o1?!0:t===i1?!1:null},r.prototype._unpackNumberOrInteger=function(t,e){return t===n1?e.readFloat64():this._unpackInteger(t,e)},r.prototype._unpackInteger=function(t,e){if(t>=0&&t<128)return(0,fe.int)(t);if(t>=240&&t<256)return(0,fe.int)(t-256);if(t===u1)return(0,fe.int)(e.readInt8());if(t===s1)return(0,fe.int)(e.readInt16());if(t===a1){var n=e.readInt32();return(0,fe.int)(n)}else if(t===c1){var i=e.readInt32(),o=e.readInt32();return new fe.Integer(o,i)}else return null},r.prototype._unpackString=function(t,e,n,i){return e===XT?ia.utf8.decode(i,n):t===f1?ia.utf8.decode(i,i.readUInt8()):t===l1?ia.utf8.decode(i,i.readUInt16()):t===h1?ia.utf8.decode(i,i.readUInt32()):null},r.prototype._unpackList=function(t,e,n,i){return e===JT?this._unpackListWithSize(n,i):t===p1?this._unpackListWithSize(i.readUInt8(),i):t===_1?this._unpackListWithSize(i.readUInt16(),i):t===d1?this._unpackListWithSize(i.readUInt32(),i):null},r.prototype._unpackListWithSize=function(t,e){for(var n=[],i=0;i<t;i++)n.push(this.unpack(e));return n},r.prototype._unpackByteArray=function(t,e){return t===v1?this._unpackByteArrayWithSize(e.readUInt8(),e):t===b1?this._unpackByteArrayWithSize(e.readUInt16(),e):t===y1?this._unpackByteArrayWithSize(e.readUInt32(),e):null},r.prototype._unpackByteArrayWithSize=function(t,e){for(var n=new Int8Array(t),i=0;i<t;i++)n[i]=e.readInt8();return n},r.prototype._unpackMap=function(t,e,n,i){return e===e1?this._unpackMapWithSize(n,i):t===m1?this._unpackMapWithSize(i.readUInt8(),i):t===g1?this._unpackMapWithSize(i.readUInt16(),i):t===O1?this._unpackMapWithSize(i.readUInt32(),i):null},r.prototype._unpackMapWithSize=function(t,e){for(var n={},i=0;i<t;i++){var o=this.unpack(e);n[o]=this.unpack(e)}return n},r.prototype._unpackStruct=function(t,e,n,i){try{return e===t1?this._unpackStructWithSize(n,i):t===S1?this._unpackStructWithSize(i.readUInt8(),i):t===E1?this._unpackStructWithSize(i.readUInt16(),i):null}catch(o){return o7.createBrokenObject(o)}},r.prototype._unpackStructWithSize=function(t,e){var n=e.readUInt8();return n===u7?this._unpackNode(t,e):n===a7?this._unpackRelationship(t,e):n===f7?this._unpackUnboundRelationship(t,e):n===h7?this._unpackPath(t,e):this._unpackUnknownStruct(n,t,e)},r.prototype._unpackNode=function(t,e){return this._verifyStructSize("Node",s7,t),new fe.Node(this.unpack(e),this.unpack(e),this.unpack(e))},r.prototype._unpackRelationship=function(t,e){return this._verifyStructSize("Relationship",c7,t),new fe.Relationship(this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e))},r.prototype._unpackUnboundRelationship=function(t,e){return this._verifyStructSize("UnboundRelationship",l7,t),new fe.UnboundRelationship(this.unpack(e),this.unpack(e),this.unpack(e))},r.prototype._unpackPath=function(t,e){this._verifyStructSize("Path",p7,t);for(var n=this.unpack(e),i=this.unpack(e),o=this.unpack(e),f=[],h=n[0],_=0;_<o.length;_+=2){var l=n[o[_+1]],v=(0,fe.toNumber)(o[_]),O=void 0;v>0?(O=i[v-1],O instanceof fe.UnboundRelationship&&(i[v-1]=O=O.bind(h.identity,l.identity))):(O=i[-v-1],O instanceof fe.UnboundRelationship&&(i[-v-1]=O=O.bind(l.identity,h.identity))),f.push(new fe.PathSegment(h,O,l)),h=l}return new fe.Path(n[0],n[n.length-1],f)},r.prototype._unpackUnknownStruct=function(t,e,n){for(var i=new Iv(t,[]),o=0;o<e;o++)i.fields.push(this.unpack(n));return i},r.prototype._verifyStructSize=function(t,e,n){if(e!==n)throw(0,fe.newError)("Wrong struct size for "+t+", expected "+e+" but was "+n,QT)},r}();mn.Unpacker=d7;function v7(r){return r==null?!1:typeof r[Symbol.iterator]=="function"}s(v7,"isIterable")});var Nv=m(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.epochSecondAndNanoToLocalDateTime=gn.nanoOfDayToLocalTime=gn.epochDayToDate=void 0;var ri=re(),On=ri.internal.temporalUtil,b7=On.DAYS_0000_TO_1970,Rv=On.DAYS_PER_400_YEAR_CYCLE,w1=On.NANOS_PER_HOUR,T1=On.NANOS_PER_MINUTE,xv=On.NANOS_PER_SECOND,C1=On.SECONDS_PER_DAY,y7=On.floorDiv,m7=On.floorMod;function P1(r){r=(0,ri.int)(r);var t=r.add(b7).subtract(60),e=(0,ri.int)(0);if(t.lessThan(0)){var n=t.add(1).div(Rv).subtract(1);e=n.multiply(400),t=t.add(n.multiply(-Rv))}var i=t.multiply(400).add(591).div(Rv),o=t.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)));o.lessThan(0)&&(i=i.subtract(1),o=t.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)))),i=i.add(e);var f=o,h=f.multiply(5).add(2).div(153),_=h.add(2).modulo(12).add(1),l=f.subtract(h.multiply(306).add(5).div(10)).add(1);return i=i.add(h.div(10)),new ri.Date(i,_,l)}s(P1,"epochDayToDate");gn.epochDayToDate=P1;function I1(r){r=(0,ri.int)(r);var t=r.div(w1);r=r.subtract(t.multiply(w1));var e=r.div(T1);r=r.subtract(e.multiply(T1));var n=r.div(xv),i=r.subtract(n.multiply(xv));return new ri.LocalTime(t,e,n,i)}s(I1,"nanoOfDayToLocalTime");gn.nanoOfDayToLocalTime=I1;function g7(r,t){var e=y7(r,C1),n=m7(r,C1),i=n.multiply(xv).add(t),o=P1(e),f=I1(i);return new ri.LocalDateTime(o.year,o.month,o.day,f.hour,f.minute,f.second,f.nanosecond)}s(g7,"epochSecondAndNanoToLocalDateTime");gn.epochSecondAndNanoToLocalDateTime=g7});var R1=m(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.packDateTime=ht.unpackDateTimeWithZoneId=ht.unpackDateTimeWithZoneOffset=ht.DATE_TIME_WITH_ZONE_ID=ht.DATE_TIME_WITH_ZONE_OFFSET=void 0;var It=re(),O7=Nv(),oa=It.internal.temporalUtil.localDateTimeToEpochSecond;ht.DATE_TIME_WITH_ZONE_OFFSET=73;var S7=3;ht.DATE_TIME_WITH_ZONE_ID=105;var E7=3;function w7(r,t,e,n,i){r._verifyStructSize("DateTimeWithZoneOffset",S7,t);var o=r.unpackInteger(e),f=r.unpackInteger(e),h=r.unpackInteger(e),_=(0,It.int)(o).add(h),l=(0,O7.epochSecondAndNanoToLocalDateTime)(_,f),v=new It.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,l.nanosecond,h,null);return A1(v,n,i)}s(w7,"unpackDateTimeWithZoneOffset");ht.unpackDateTimeWithZoneOffset=w7;function T7(r,t,e,n,i){r._verifyStructSize("DateTimeWithZoneId",E7,t);var o=r.unpackInteger(e),f=r.unpackInteger(e),h=r.unpack(e),_=qv(h,o,f),l=new It.DateTime(_.year,_.month,_.day,_.hour,_.minute,_.second,(0,It.int)(f),_.timeZoneOffsetSeconds,h);return A1(l,n,i)}s(T7,"unpackDateTimeWithZoneId");ht.unpackDateTimeWithZoneId=T7;function C7(r,t){r.timeZoneId?P7(r,t):I7(r,t)}s(C7,"packDateTime");ht.packDateTime=C7;function P7(r,t){var e=oa(r.year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),n=r.timeZoneOffsetSeconds!=null?r.timeZoneOffsetSeconds:A7(r.timeZoneId,e,r.nanosecond),i=e.subtract(n),o=(0,It.int)(r.nanosecond),f=r.timeZoneId,h=[t.packable(i),t.packable(o),t.packable(f)];t.packStruct(ht.DATE_TIME_WITH_ZONE_ID,h)}s(P7,"packDateTimeWithZoneId");function I7(r,t){var e=oa(r.year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),n=(0,It.int)(r.nanosecond),i=(0,It.int)(r.timeZoneOffsetSeconds),o=e.subtract(i),f=[t.packable(o),t.packable(n),t.packable(i)];t.packStruct(ht.DATE_TIME_WITH_ZONE_OFFSET,f)}s(I7,"packDateTimeWithZoneOffset");function A7(r,t,e){var n=qv(r,t,e),i=oa(n.year,n.month,n.day,n.hour,n.minute,n.second,e),o=i.subtract(t),f=t.subtract(o),h=qv(r,f,e),_=oa(h.year,h.month,h.day,h.hour,h.minute,h.second,e),l=_.subtract(f);return l}s(A7,"getOffsetFromZoneId");function qv(r,t,e){var n=new Intl.DateTimeFormat("en-US",{timeZone:r,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),i=(0,It.int)(t).multiply(1e3).add((0,It.int)(e).div(1e6)).toNumber(),o=n.formatToParts(i),f=o.reduce(function(_,l){return l.type==="era"?_.adjustEra=l.value.toUpperCase()==="B"?function(v){return v.subtract(1).negate()}:function(v){return v}:l.type==="hour"?_.hour=(0,It.int)(l.value).modulo(24):l.type!=="literal"&&(_[l.type]=(0,It.int)(l.value)),_},{});f.year=f.adjustEra(f.year);var h=oa(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond);return f.timeZoneOffsetSeconds=h.subtract(t),f.hour=f.hour.modulo(24),f}s(qv,"getTimeInZoneId");function A1(r,t,e){if(!t&&!e)return r;var n=s(function(h){return e?h.toBigInt():h.toNumberOrInfinity()},"convert"),i=Object.create(Object.getPrototypeOf(r));for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)===!0){var f=r[o];i[o]=(0,It.isInt)(f)?n(f):f}return Object.freeze(i),i}s(A1,"convertIntegerPropsIfNeeded")});var H1=m(pt=>{"use strict";var x1=pt&&pt.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),R7=pt&&pt.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),x7=pt&&pt.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),N1=pt&&pt.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&R7(t,r,e);return x7(t,r),t};Object.defineProperty(pt,"__esModule",{value:!0});pt.Unpacker=pt.Packer=void 0;var q1=N1(Av()),ua=N1(R1()),be=re(),bo=Nv(),Dv=be.internal.temporalUtil,N7=Dv.dateToEpochDay,jv=Dv.localDateTimeToEpochSecond,D1=Dv.localTimeToNanoOfDay,j1=88,q7=3,M1=89,D7=4,L1=69,j7=4,U1=116,M7=1,k1=84,L7=2,F1=68,U7=1,B1=100,k7=2,W1=70,F7=3,V1=102,B7=3,W7=function(r){x1(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"Packer"),t.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},t.prototype.packable=function(e){var n=this;return(0,be.isPoint)(e)?function(){return H7(e,n)}:(0,be.isDuration)(e)?function(){return Z7(e,n)}:(0,be.isLocalTime)(e)?function(){return Q7(e,n)}:(0,be.isTime)(e)?function(){return J7(e,n)}:(0,be.isDate)(e)?function(){return tQ(e,n)}:(0,be.isLocalDateTime)(e)?function(){return nQ(e,n)}:(0,be.isDateTime)(e)&&this.useUtc?function(){return ua.packDateTime(e,n)}:(0,be.isDateTime)(e)&&!this.useUtc?function(){return oQ(e,n)}:r.prototype.packable.call(this,e)},t}(q1.Packer);pt.Packer=W7;var V7=function(r){x1(t,r);function t(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),r.call(this,e,n)||this}return s(t,"Unpacker"),t.prototype._unpackUnknownStruct=function(e,n,i){return e===j1?G7(this,n,i):e===M1?$7(this,n,i):e===L1?K7(this,n,i):e===U1?X7(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===k1?eQ(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===F1?rQ(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===B1?iQ(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===ua.DATE_TIME_WITH_ZONE_OFFSET&&this.useUtc?ua.unpackDateTimeWithZoneOffset(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===W1&&!this.useUtc?sQ(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===ua.DATE_TIME_WITH_ZONE_ID&&this.useUtc?ua.unpackDateTimeWithZoneId(this,n,i,this._disableLosslessIntegers,this._useBigInt):e===V1&&!this.useUtc?cQ(this,n,i,this._disableLosslessIntegers,this._useBigInt):r.prototype._unpackUnknownStruct.call(this,e,n,i,this._disableLosslessIntegers,this._useBigInt)},t}(q1.Unpacker);pt.Unpacker=V7;function H7(r,t){var e=r.z===null||r.z===void 0;e?z7(r,t):Y7(r,t)}s(H7,"packPoint");function z7(r,t){var e=[t.packable((0,be.int)(r.srid)),t.packable(r.x),t.packable(r.y)];t.packStruct(j1,e)}s(z7,"packPoint2D");function Y7(r,t){var e=[t.packable((0,be.int)(r.srid)),t.packable(r.x),t.packable(r.y),t.packable(r.z)];t.packStruct(M1,e)}s(Y7,"packPoint3D");function G7(r,t,e){return r._verifyStructSize("Point2D",q7,t),new be.Point(r.unpack(e),r.unpack(e),r.unpack(e),void 0)}s(G7,"unpackPoint2D");function $7(r,t,e){return r._verifyStructSize("Point3D",D7,t),new be.Point(r.unpack(e),r.unpack(e),r.unpack(e),r.unpack(e))}s($7,"unpackPoint3D");function Z7(r,t){var e=(0,be.int)(r.months),n=(0,be.int)(r.days),i=(0,be.int)(r.seconds),o=(0,be.int)(r.nanoseconds),f=[t.packable(e),t.packable(n),t.packable(i),t.packable(o)];t.packStruct(L1,f)}s(Z7,"packDuration");function K7(r,t,e){r._verifyStructSize("Duration",j7,t);var n=r.unpack(e),i=r.unpack(e),o=r.unpack(e),f=r.unpack(e);return new be.Duration(n,i,o,f)}s(K7,"unpackDuration");function Q7(r,t){var e=D1(r.hour,r.minute,r.second,r.nanosecond),n=[t.packable(e)];t.packStruct(U1,n)}s(Q7,"packLocalTime");function X7(r,t,e,n){r._verifyStructSize("LocalTime",M7,t);var i=r.unpackInteger(e),o=(0,bo.nanoOfDayToLocalTime)(i);return yo(o,n)}s(X7,"unpackLocalTime");function J7(r,t){var e=D1(r.hour,r.minute,r.second,r.nanosecond),n=(0,be.int)(r.timeZoneOffsetSeconds),i=[t.packable(e),t.packable(n)];t.packStruct(k1,i)}s(J7,"packTime");function eQ(r,t,e,n,i){r._verifyStructSize("Time",L7,t);var o=r.unpackInteger(e),f=r.unpackInteger(e),h=(0,bo.nanoOfDayToLocalTime)(o),_=new be.Time(h.hour,h.minute,h.second,h.nanosecond,f);return yo(_,n,i)}s(eQ,"unpackTime");function tQ(r,t){var e=N7(r.year,r.month,r.day),n=[t.packable(e)];t.packStruct(F1,n)}s(tQ,"packDate");function rQ(r,t,e,n,i){r._verifyStructSize("Date",U7,t);var o=r.unpackInteger(e),f=(0,bo.epochDayToDate)(o);return yo(f,n,i)}s(rQ,"unpackDate");function nQ(r,t){var e=jv(r.year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),n=(0,be.int)(r.nanosecond),i=[t.packable(e),t.packable(n)];t.packStruct(B1,i)}s(nQ,"packLocalDateTime");function iQ(r,t,e,n,i){r._verifyStructSize("LocalDateTime",k7,t);var o=r.unpackInteger(e),f=r.unpackInteger(e),h=(0,bo.epochSecondAndNanoToLocalDateTime)(o,f);return yo(h,n,i)}s(iQ,"unpackLocalDateTime");function oQ(r,t){r.timeZoneId?aQ(r,t):uQ(r,t)}s(oQ,"packDateTime");function uQ(r,t){var e=jv(r.year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),n=(0,be.int)(r.nanosecond),i=(0,be.int)(r.timeZoneOffsetSeconds),o=[t.packable(e),t.packable(n),t.packable(i)];t.packStruct(W1,o)}s(uQ,"packDateTimeWithZoneOffset");function sQ(r,t,e,n,i){r._verifyStructSize("DateTimeWithZoneOffset",F7,t);var o=r.unpackInteger(e),f=r.unpackInteger(e),h=r.unpackInteger(e),_=(0,bo.epochSecondAndNanoToLocalDateTime)(o,f),l=new be.DateTime(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond,h,null);return yo(l,n,i)}s(sQ,"unpackDateTimeWithZoneOffset");function aQ(r,t){var e=jv(r.year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),n=(0,be.int)(r.nanosecond),i=r.timeZoneId,o=[t.packable(e),t.packable(n),t.packable(i)];t.packStruct(V1,o)}s(aQ,"packDateTimeWithZoneId");function cQ(r,t,e,n,i){r._verifyStructSize("DateTimeWithZoneId",B7,t);var o=r.unpackInteger(e),f=r.unpackInteger(e),h=r.unpack(e),_=(0,bo.epochSecondAndNanoToLocalDateTime)(o,f),l=new be.DateTime(_.year,_.month,_.day,_.hour,_.minute,_.second,_.nanosecond,null,h);return yo(l,n,i)}s(cQ,"unpackDateTimeWithZoneId");function yo(r,t,e){if(!t&&!e)return r;var n=s(function(h){return e?h.toBigInt():h.toNumberOrInfinity()},"convert"),i=Object.create(Object.getPrototypeOf(r));for(var o in r)if(r.hasOwnProperty(o)){var f=r[o];i[o]=(0,be.isInt)(f)?n(f):f}return Object.freeze(i),i}s(yo,"convertIntegerPropsIfNeeded")});var Rf=m(At=>{"use strict";var fQ=At&&At.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),lQ=At&&At.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),z1=At&&At.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&fQ(t,r,e);return lQ(t,r),t};Object.defineProperty(At,"__esModule",{value:!0});At.v2=At.v1=void 0;var hQ=z1(Av());At.v1=hQ;var Y1=z1(H1());At.v2=Y1;At.default=Y1});var ni=m(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});var it=re(),X1=it.internal.constants,pQ=X1.ACCESS_MODE_READ,xf=X1.FETCH_ALL,G1=it.internal.util.assertString,_Q=1,dQ=15,$1=16,vQ=63,bQ=1,yQ=2,mQ=17,gQ=18,OQ=19,Z1=102,SQ=47,EQ=63,wQ="r",sa=-1,mo=function(){function r(t,e,n){this.signature=t,this.fields=e,this.toString=n}return s(r,"RequestMessage"),r.init=function(t,e){return new r(_Q,[t,e],function(){return"INIT "+t+" {...}"})},r.run=function(t,e){return new r($1,[t,e],function(){return"RUN "+t+" "+it.json.stringify(e)})},r.pullAll=function(){return TQ},r.reset=function(){return CQ},r.hello=function(t,e,n,i){n===void 0&&(n=null),i===void 0&&(i=null);var o=Object.assign({user_agent:t},e);return n&&(o.routing=n),i&&(o.patch_bolt=i),new r(bQ,[o],function(){return"HELLO {user_agent: '"+t+"', ...}"})},r.begin=function(t){var e=t===void 0?{}:t,n=e.bookmark,i=e.txConfig,o=e.database,f=e.mode,h=e.impersonatedUser,_=K1(n,i,o,f,h);return new r(mQ,[_],function(){return"BEGIN "+it.json.stringify(_)})},r.commit=function(){return PQ},r.rollback=function(){return IQ},r.runWithMetadata=function(t,e,n){var i=n===void 0?{}:n,o=i.bookmark,f=i.txConfig,h=i.database,_=i.mode,l=i.impersonatedUser,v=K1(o,f,h,_,l);return new r($1,[t,e,v],function(){return"RUN "+t+" "+it.json.stringify(e)+" "+it.json.stringify(v)})},r.goodbye=function(){return AQ},r.pull=function(t){var e=t===void 0?{}:t,n=e.stmtId,i=n===void 0?sa:n,o=e.n,f=o===void 0?xf:o,h=Q1(i??sa,f||xf);return new r(EQ,[h],function(){return"PULL "+it.json.stringify(h)})},r.discard=function(t){var e=t===void 0?{}:t,n=e.stmtId,i=n===void 0?sa:n,o=e.n,f=o===void 0?xf:o,h=Q1(i??sa,f||xf);return new r(SQ,[h],function(){return"DISCARD "+it.json.stringify(h)})},r.route=function(t,e,n){return t===void 0&&(t={}),e===void 0&&(e=[]),n===void 0&&(n=null),new r(Z1,[t,e,n],function(){return"ROUTE "+it.json.stringify(t)+" "+it.json.stringify(e)+" "+n})},r.routeV4x4=function(t,e,n){t===void 0&&(t={}),e===void 0&&(e=[]),n===void 0&&(n={});var i={};return n.databaseName&&(i.db=n.databaseName),n.impersonatedUser&&(i.imp_user=n.impersonatedUser),new r(Z1,[t,e,i],function(){return"ROUTE "+it.json.stringify(t)+" "+it.json.stringify(e)+" "+it.json.stringify(i)})},r}();Mv.default=mo;function K1(r,t,e,n,i){var o={};return r.isEmpty()||(o.bookmarks=r.values()),t.timeout&&(o.tx_timeout=t.timeout),t.metadata&&(o.tx_metadata=t.metadata),e&&(o.db=G1(e,"database")),i&&(o.imp_user=G1(i,"impersonatedUser")),n===pQ&&(o.mode=wQ),o}s(K1,"buildTxMetadata");function Q1(r,t){var e={n:(0,it.int)(t)};return r!==sa&&(e.qid=(0,it.int)(r)),e}s(Q1,"buildStreamMetadata");var TQ=new mo(vQ,[],function(){return"PULL_ALL"}),CQ=new mo(dQ,[],function(){return"RESET"}),PQ=new mo(gQ,[],function(){return"COMMIT"}),IQ=new mo(OQ,[],function(){return"ROLLBACK"}),AQ=new mo(yQ,[],function(){return"GOODBYE"})});var Uv=m(aa=>{"use strict";var Lv=aa&&aa.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(aa,"__esModule",{value:!0});var Nf=function(){function r(){}return s(r,"RawRoutingTable"),r.ofRecord=function(t){return t===null?r.ofNull():new NQ(t)},r.ofMessageResponse=function(t){return t===null?r.ofNull():new RQ(t)},r.ofNull=function(){return new xQ},Object.defineProperty(r.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),r}();aa.default=Nf;var RQ=function(r){Lv(t,r);function t(e){var n=r.call(this)||this;return n._response=e,n}return s(t,"ResponseRawRoutingTable"),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),t}(Nf),xQ=function(r){Lv(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"NullRawRoutingTable"),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(Nf),NQ=function(r){Lv(t,r);function t(e){var n=r.call(this)||this;return n._record=e,n}return s(t,"RecordRawRoutingTable"),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),t}(Nf)});var Wr=m(Ne=>{"use strict";var ii=Ne&&Ne.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qQ=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.ProcedureRouteObserver=Ne.RouteObserver=Ne.CompletedObserver=Ne.FailedObserver=Ne.ResetObserver=Ne.LoginObserver=Ne.ResultStreamObserver=Ne.StreamObserver=void 0;var sr=re(),eC=qQ(Uv()),J1=sr.internal.constants.FETCH_ALL,go=sr.error.PROTOCOL_ERROR,Oo=function(){function r(){}return s(r,"StreamObserver"),r.prototype.onNext=function(t){},r.prototype.onError=function(t){},r.prototype.onCompleted=function(t){},r}();Ne.StreamObserver=Oo;var kv=function(r){ii(t,r);function t(e){var n=e===void 0?{}:e,i=n.reactive,o=i===void 0?!1:i,f=n.moreFunction,h=n.discardFunction,_=n.fetchSize,l=_===void 0?J1:_,v=n.beforeError,O=n.afterError,T=n.beforeKeys,j=n.afterKeys,U=n.beforeComplete,G=n.afterComplete,ge=n.server,B=r.call(this)||this;return B._fieldKeys=null,B._fieldLookup=null,B._head=null,B._queuedRecords=[],B._tail=null,B._error=null,B._observers=[],B._meta={},B._server=ge,B._beforeError=v,B._afterError=O,B._beforeKeys=T,B._afterKeys=j,B._beforeComplete=U,B._afterComplete=G,B._queryId=null,B._moreFunction=f,B._discardFunction=h,B._discard=!1,B._fetchSize=l,B._setState(o?Bt.READY:Bt.READY_STREAMING),B._setupAuoPull(l),B}return s(t,"ResultStreamObserver"),t.prototype.onNext=function(e){var n=new sr.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(i){return i.onNext})?this._observers.forEach(function(i){i.onNext&&i.onNext(n)}):(this._queuedRecords.push(n),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},t.prototype.onError=function(e){this._state.onError(this,e)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(Bt.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(Bt.SUCCEEDED)},t.prototype.subscribe=function(e){if(this._error){e.onError(this._error);return}if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var n=0;n<this._queuedRecords.length;n++)e.onNext(this._queuedRecords[n]),this._queuedRecords.length-n-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===Bt.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._observers.push(e),this._state===Bt.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(e){this._setState(Bt.READY),this._handleStreaming(),delete e.has_more},t.prototype._handlePullSuccess=function(e){var n=this;this._setState(Bt.SUCCEEDED);var i=Object.assign(this._server?{server:this._server}:{},this._meta,e),o=null;this._beforeComplete&&(o=this._beforeComplete(i));var f=s(function(){n._tail=i,n._observers.some(function(h){return h.onCompleted})&&n._observers.forEach(function(h){h.onCompleted&&h.onCompleted(i)}),n._afterComplete&&n._afterComplete(i)},"continuation");o?Promise.resolve(o).then(function(){return f()}):f()},t.prototype._handleRunSuccess=function(e,n){var i=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var o=0;o<e.fields.length;o++)this._fieldLookup[e.fields[o]]=o;delete e.fields}e.qid!==null&&e.qid!==void 0&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var f=null;this._beforeKeys&&(f=this._beforeKeys(this._fieldKeys));var h=s(function(){i._head=i._fieldKeys,i._observers.some(function(_){return _.onKeys})&&i._observers.forEach(function(_){_.onKeys&&_.onKeys(i._fieldKeys)}),i._afterKeys&&i._afterKeys(i._fieldKeys),n()},"continuation_1");f?Promise.resolve(f).then(function(){return h()}):h()}},t.prototype._handleError=function(e){var n=this;this._setState(Bt.FAILED),this._error=e;var i=null;this._beforeError&&(i=this._beforeError(e));var o=s(function(){n._observers.some(function(f){return f.onError})&&n._observers.forEach(function(f){f.onError&&f.onError(e)}),n._afterError&&n._afterError(e)},"continuation");i?Promise.resolve(i).then(function(){return o()}):o()},t.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&(this._discard?(this._discardFunction(this._queryId,this),this._setState(Bt.STREAMING)):this._autoPull&&(this._moreFunction(this._queryId,this._fetchSize,this),this._setState(Bt.STREAMING)))},t.prototype._storeMetadataForCompletion=function(e){for(var n=Object.keys(e),i=n.length,o="";i--;)o=n[i],this._meta[o]=e[o]},t.prototype._setState=function(e){this._state=e},t.prototype._setupAuoPull=function(e){this._autoPull=!0,e===J1?(this._lowRecordWatermark=Number.MAX_VALUE,this._highRecordWatermark=Number.MAX_VALUE):(this._lowRecordWatermark=.3*e,this._highRecordWatermark=.7*e)},t}(Oo);Ne.ResultStreamObserver=kv;var DQ=function(r){ii(t,r);function t(e){var n=e===void 0?{}:e,i=n.onError,o=n.onCompleted,f=r.call(this)||this;return f._onError=i,f._onCompleted=o,f}return s(t,"LoginObserver"),t.prototype.onNext=function(e){this.onError((0,sr.newError)("Received RECORD when initializing "+sr.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(Oo);Ne.LoginObserver=DQ;var jQ=function(r){ii(t,r);function t(e){var n=e===void 0?{}:e,i=n.onProtocolError,o=n.onError,f=n.onComplete,h=r.call(this)||this;return h._onProtocolError=i,h._onError=o,h._onComplete=f,h}return s(t,"ResetObserver"),t.prototype.onNext=function(e){this.onError((0,sr.newError)("Received RECORD when resetting: received record is: "+sr.json.stringify(e),go))},t.prototype.onError=function(e){e.code===go&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},t}(Oo);Ne.ResetObserver=jQ;var MQ=function(r){ii(t,r);function t(e){var n=e.error,i=e.onError,o=r.call(this,{beforeError:i})||this;return o.onError(n),o}return s(t,"FailedObserver"),t}(kv);Ne.FailedObserver=MQ;var LQ=function(r){ii(t,r);function t(){var e=r.call(this)||this;return r.prototype.markCompleted.call(e),e}return s(t,"CompletedObserver"),t}(kv);Ne.CompletedObserver=LQ;var UQ=function(r){ii(t,r);function t(e){var n=e.resultObserver,i=e.onProtocolError,o=e.onError,f=e.onCompleted,h=r.call(this)||this;return h._resultObserver=n,h._onError=o,h._onCompleted=f,h._records=[],h._onProtocolError=i,n.subscribe(h),h}return s(t,"ProcedureRouteObserver"),t.prototype.onNext=function(e){this._records.push(e)},t.prototype.onError=function(e){e.code===go&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(){if(this._records!==null&&this._records.length!==1){this.onError((0,sr.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+sr.json.stringify(this._records),go));return}this._onCompleted&&this._onCompleted(eC.default.ofRecord(this._records[0]))},t}(Oo);Ne.ProcedureRouteObserver=UQ;var kQ=function(r){ii(t,r);function t(e){var n=e===void 0?{}:e,i=n.onProtocolError,o=n.onError,f=n.onCompleted,h=r.call(this)||this;return h._onProtocolError=i,h._onError=o,h._onCompleted=f,h}return s(t,"RouteObserver"),t.prototype.onNext=function(e){this.onError((0,sr.newError)("Received RECORD when resetting: received record is: "+sr.json.stringify(e),go))},t.prototype.onError=function(e){e.code===go&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(eC.default.ofMessageResponse(e))},t}(Oo);Ne.RouteObserver=kQ;var Bt={READY_STREAMING:{onSuccess:function(r,t){r._handleRunSuccess(t,function(){r._setState(Bt.STREAMING)})},onError:function(r,t){r._handleError(t)},name:function(){return"READY_STREAMING"}},READY:{onSuccess:function(r,t){r._handleRunSuccess(t,function(){return r._handleStreaming()})},onError:function(r,t){r._handleError(t)},name:function(){return"READY"}},STREAMING:{onSuccess:function(r,t){t.has_more?r._handleHasMore(t):r._handlePullSuccess(t)},onError:function(r,t){r._handleError(t)},name:function(){return"STREAMING"}},FAILED:{onError:function(r){},name:function(){return"FAILED"}},SUCCEEDED:{name:function(){return"SUCCEEDED"}}}});var Wv=m(ca=>{"use strict";var FQ=ca&&ca.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ca,"__esModule",{value:!0});var Fv=Af(),tC=Rf(),qf=FQ(ni()),Bv=Wr(),Df=re(),rC=Df.internal.bookmark.Bookmark,oC=Df.internal.constants,nC=oC.ACCESS_MODE_WRITE,BQ=oC.BOLT_PROTOCOL_V1,_le=Df.internal.logger.Logger,iC=Df.internal.txConfig.TxConfig,WQ=function(){function r(t,e,n,i,o,f){var h=n===void 0?{}:n,_=h.disableLosslessIntegers,l=h.useBigInt;i===void 0&&(i=s(function(){return null},"createResponseHandler")),this._server=t||{},this._chunker=e,this._packer=this._createPacker(e),this._unpacker=this._createUnpacker(_,l),this._responseHandler=i(this),this._log=o,this._onProtocolError=f,this._fatalError=null}return s(r,"BoltProtocol"),Object.defineProperty(r.prototype,"version",{get:function(){return BQ},enumerable:!1,configurable:!0}),r.prototype.packer=function(){return this._packer},r.prototype.unpacker=function(){return this._unpacker},r.prototype.transformMetadata=function(t){return t},r.prototype.initialize=function(t){var e=this,n=t===void 0?{}:t,i=n.userAgent,o=n.authToken,f=n.onError,h=n.onComplete,_=new Bv.LoginObserver({onError:function(l){return e._onLoginError(l,f)},onCompleted:function(l){return e._onLoginCompleted(l,h)}});return this.write(qf.default.init(i,o),_,!0),_},r.prototype.prepareToClose=function(){},r.prototype.beginTransaction=function(t){var e=t===void 0?{}:t,n=e.bookmark,i=e.txConfig,o=e.database,f=e.mode,h=e.impersonatedUser,_=e.beforeError,l=e.afterError,v=e.beforeComplete,O=e.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmark:n,txConfig:i,database:o,mode:f,impersonatedUser:h,beforeError:_,afterError:l,beforeComplete:v,afterComplete:O,flush:!1})},r.prototype.commitTransaction=function(t){var e=t===void 0?{}:t,n=e.beforeError,i=e.afterError,o=e.beforeComplete,f=e.afterComplete;return this.run("COMMIT",{},{bookmark:rC.empty(),txConfig:iC.empty(),mode:nC,beforeError:n,afterError:i,beforeComplete:o,afterComplete:f})},r.prototype.rollbackTransaction=function(t){var e=t===void 0?{}:t,n=e.beforeError,i=e.afterError,o=e.beforeComplete,f=e.afterComplete;return this.run("ROLLBACK",{},{bookmark:rC.empty(),txConfig:iC.empty(),mode:nC,beforeError:n,afterError:i,beforeComplete:o,afterComplete:f})},r.prototype.run=function(t,e,n){var i=n===void 0?{}:n,o=i.bookmark,f=i.txConfig,h=i.database,_=i.mode,l=i.impersonatedUser,v=i.beforeKeys,O=i.afterKeys,T=i.beforeError,j=i.afterError,U=i.beforeComplete,G=i.afterComplete,ge=i.flush,B=ge===void 0?!0:ge,ue=new Bv.ResultStreamObserver({server:this._server,beforeKeys:v,afterKeys:O,beforeError:T,afterError:j,beforeComplete:U,afterComplete:G});return(0,Fv.assertTxConfigIsEmpty)(f,this._onProtocolError,ue),(0,Fv.assertDatabaseIsEmpty)(h,this._onProtocolError,ue),(0,Fv.assertImpersonatedUserIsEmpty)(l,this._onProtocolError,ue),this.write(qf.default.run(t,e),ue,!1),this.write(qf.default.pullAll(),ue,B),ue},Object.defineProperty(r.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),r.prototype.reset=function(t){var e=t===void 0?{}:t,n=e.onError,i=e.onComplete,o=new Bv.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:i});return this.write(qf.default.reset(),o,!0),o},r.prototype._createPacker=function(t){return new tC.v1.Packer(t)},r.prototype._createUnpacker=function(t,e){return new tC.v1.Unpacker(t,e)},r.prototype.write=function(t,e,n){var i=this,o=this.queueObserverIfProtocolIsNotBroken(e);o&&(this._log.isDebugEnabled()&&this._log.debug("C: "+t),this.packer().packStruct(t.signature,t.fields.map(function(f){return i.packer().packable(f)})),this._chunker.messageBoundary(),n&&this._chunker.flush())},r.prototype.notifyFatalError=function(t){return this._fatalError=t,this._responseHandler._notifyErrorToObservers(t)},r.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},r.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},r.prototype.queueObserverIfProtocolIsNotBroken=function(t){return this.isBroken()?(this.notifyFatalErrorToObserver(t),!1):this._responseHandler._queueObserver(t)},r.prototype.isBroken=function(){return!!this._fatalError},r.prototype.notifyFatalErrorToObserver=function(t){t&&t.onError&&t.onError(this._fatalError)},r.prototype.resetFailure=function(){this._responseHandler._resetFailure()},r.prototype._onLoginCompleted=function(t,e){if(t){var n=t.server;this._server.version||(this._server.version=n)}e&&e(t)},r.prototype._onLoginError=function(t,e){this._onProtocolError(t.message),e&&e(t)},r}();ca.default=WQ});var Vv=m(oi=>{"use strict";var VQ=oi&&oi.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sC=oi&&oi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oi,"__esModule",{value:!0});var HQ=sC(Wv()),uC=sC(Rf()),zQ=re(),YQ=zQ.internal.constants.BOLT_PROTOCOL_V2,GQ=function(r){VQ(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"BoltProtocol"),t.prototype._createPacker=function(e){return new uC.default.Packer(e)},t.prototype._createUnpacker=function(e,n){return new uC.default.Unpacker(e,n)},Object.defineProperty(t.prototype,"version",{get:function(){return YQ},enumerable:!1,configurable:!0}),t}(HQ.default);oi.default=GQ});var zv=m(Vr=>{"use strict";var $Q=Vr&&Vr.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mf=Vr&&Vr.__assign||function(){return Mf=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Mf.apply(this,arguments)},aC=Vr&&Vr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vr,"__esModule",{value:!0});var ZQ=aC(Vv()),ui=aC(ni()),jf=Af(),si=Wr(),Hv=re(),mle=Hv.internal.bookmark.Bookmark,KQ=Hv.internal.constants.BOLT_PROTOCOL_V3,QQ=Hv.internal.txConfig.TxConfig,cC="context",XQ="CALL dbms.cluster.routing.getRoutingTable($"+cC+")",JQ=new si.StreamObserver,eX=function(r){$Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"BoltProtocol"),Object.defineProperty(t.prototype,"version",{get:function(){return KQ},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},t.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,f=i.authToken,h=i.onError,_=i.onComplete,l=new si.LoginObserver({onError:function(v){return n._onLoginError(v,h)},onCompleted:function(v){return n._onLoginCompleted(v,_)}});return this.write(ui.default.hello(o,f),l,!0),l},t.prototype.prepareToClose=function(){this.write(ui.default.goodbye(),JQ,!0)},t.prototype.beginTransaction=function(e){var n=e===void 0?{}:e,i=n.bookmark,o=n.txConfig,f=n.database,h=n.impersonatedUser,_=n.mode,l=n.beforeError,v=n.afterError,O=n.beforeComplete,T=n.afterComplete,j=new si.ResultStreamObserver({server:this._server,beforeError:l,afterError:v,beforeComplete:O,afterComplete:T});return j.prepareToHandleSingleResponse(),(0,jf.assertDatabaseIsEmpty)(f,this._onProtocolError,j),(0,jf.assertImpersonatedUserIsEmpty)(h,this._onProtocolError,j),this.write(ui.default.begin({bookmark:i,txConfig:o,mode:_}),j,!0),j},t.prototype.commitTransaction=function(e){var n=e===void 0?{}:e,i=n.beforeError,o=n.afterError,f=n.beforeComplete,h=n.afterComplete,_=new si.ResultStreamObserver({server:this._server,beforeError:i,afterError:o,beforeComplete:f,afterComplete:h});return _.prepareToHandleSingleResponse(),this.write(ui.default.commit(),_,!0),_},t.prototype.rollbackTransaction=function(e){var n=e===void 0?{}:e,i=n.beforeError,o=n.afterError,f=n.beforeComplete,h=n.afterComplete,_=new si.ResultStreamObserver({server:this._server,beforeError:i,afterError:o,beforeComplete:f,afterComplete:h});return _.prepareToHandleSingleResponse(),this.write(ui.default.rollback(),_,!0),_},t.prototype.run=function(e,n,i){var o=i===void 0?{}:i,f=o.bookmark,h=o.txConfig,_=o.database,l=o.impersonatedUser,v=o.mode,O=o.beforeKeys,T=o.afterKeys,j=o.beforeError,U=o.afterError,G=o.beforeComplete,ge=o.afterComplete,B=o.flush,ue=B===void 0?!0:B,ce=new si.ResultStreamObserver({server:this._server,beforeKeys:O,afterKeys:T,beforeError:j,afterError:U,beforeComplete:G,afterComplete:ge});return(0,jf.assertDatabaseIsEmpty)(_,this._onProtocolError,ce),(0,jf.assertImpersonatedUserIsEmpty)(l,this._onProtocolError,ce),this.write(ui.default.runWithMetadata(e,n,{bookmark:f,txConfig:h,mode:v}),ce,!1),this.write(ui.default.pullAll(),ce,ue),ce},t.prototype.requestRoutingInformation=function(e){var n,i=e.routingContext,o=i===void 0?{}:i,f=e.sessionContext,h=f===void 0?{}:f,_=e.onError,l=e.onCompleted,v=this.run(XQ,(n={},n[cC]=o,n),Mf(Mf({},h),{txConfig:QQ.empty()}));return new si.ProcedureRouteObserver({resultObserver:v,onProtocolError:this._onProtocolError,onError:_,onCompleted:l})},t}(ZQ.default);Vr.default=eX});var $v=m(Hr=>{"use strict";var tX=Hr&&Hr.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lf=Hr&&Hr.__assign||function(){return Lf=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Lf.apply(this,arguments)},lC=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hr,"__esModule",{value:!0});var rX=lC(zv()),fa=lC(ni()),fC=Af(),Yv=Wr(),Gv=re(),Sle=Gv.internal.bookmark.Bookmark,hC=Gv.internal.constants,nX=hC.BOLT_PROTOCOL_V4_0,iX=hC.FETCH_ALL,oX=Gv.internal.txConfig.TxConfig,pC="context",_C="database",uX="CALL dbms.routing.getRoutingTable($"+pC+", $"+_C+")",sX=function(r){tX(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"BoltProtocol"),Object.defineProperty(t.prototype,"version",{get:function(){return nX},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(e){var n=e===void 0?{}:e,i=n.bookmark,o=n.txConfig,f=n.database,h=n.impersonatedUser,_=n.mode,l=n.beforeError,v=n.afterError,O=n.beforeComplete,T=n.afterComplete,j=new Yv.ResultStreamObserver({server:this._server,beforeError:l,afterError:v,beforeComplete:O,afterComplete:T});return j.prepareToHandleSingleResponse(),(0,fC.assertImpersonatedUserIsEmpty)(h,this._onProtocolError,j),this.write(fa.default.begin({bookmark:i,txConfig:o,database:f,mode:_}),j,!0),j},t.prototype.run=function(e,n,i){var o=i===void 0?{}:i,f=o.bookmark,h=o.txConfig,_=o.database,l=o.impersonatedUser,v=o.mode,O=o.beforeKeys,T=o.afterKeys,j=o.beforeError,U=o.afterError,G=o.beforeComplete,ge=o.afterComplete,B=o.flush,ue=B===void 0?!0:B,ce=o.reactive,Ae=ce===void 0?!1:ce,Be=o.fetchSize,zt=Be===void 0?iX:Be,xt=new Yv.ResultStreamObserver({server:this._server,reactive:Ae,fetchSize:zt,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:O,afterKeys:T,beforeError:j,afterError:U,beforeComplete:G,afterComplete:ge});(0,fC.assertImpersonatedUserIsEmpty)(l,this._onProtocolError,xt);var wo=Ae;return this.write(fa.default.runWithMetadata(e,n,{bookmark:f,txConfig:h,database:_,mode:v}),xt,wo&&ue),Ae||this.write(fa.default.pull({n:zt}),xt,ue),xt},t.prototype._requestMore=function(e,n,i){this.write(fa.default.pull({stmtId:e,n}),i,!0)},t.prototype._requestDiscard=function(e,n){this.write(fa.default.discard({stmtId:e}),n,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(e){var n,i=e.routingContext,o=i===void 0?{}:i,f=e.databaseName,h=f===void 0?null:f,_=e.sessionContext,l=_===void 0?{}:_,v=e.onError,O=e.onCompleted,T=this.run(uX,(n={},n[pC]=o,n[_C]=h,n),Lf(Lf({},l),{txConfig:oX.empty()}));return new Yv.ProcedureRouteObserver({resultObserver:T,onProtocolError:this._onProtocolError,onError:v,onCompleted:O})},t}(rX.default);Hr.default=sX});var Zv=m(ai=>{"use strict";var aX=ai&&ai.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dC=ai&&ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ai,"__esModule",{value:!0});var cX=dC($v()),fX=dC(ni()),lX=Wr(),hX=re(),pX=hX.internal.constants.BOLT_PROTOCOL_V4_1,_X=function(r){aX(t,r);function t(e,n,i,o,f,h,_){o===void 0&&(o=s(function(){return null},"createResponseHandler"));var l=r.call(this,e,n,i,o,f,h)||this;return l._serversideRouting=_,l}return s(t,"BoltProtocol"),Object.defineProperty(t.prototype,"version",{get:function(){return pX},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,f=i.authToken,h=i.onError,_=i.onComplete,l=new lX.LoginObserver({onError:function(v){return n._onLoginError(v,h)},onCompleted:function(v){return n._onLoginCompleted(v,_)}});return this.write(fX.default.hello(o,f,this._serversideRouting),l,!0),l},t}(cX.default);ai.default=_X});var Kv=m(ci=>{"use strict";var dX=ci&&ci.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vX=ci&&ci.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ci,"__esModule",{value:!0});var bX=vX(Zv()),yX=re(),mX=yX.internal.constants.BOLT_PROTOCOL_V4_2,gX=function(r){dX(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"BoltProtocol"),Object.defineProperty(t.prototype,"version",{get:function(){return mX},enumerable:!1,configurable:!0}),t}(bX.default);ci.default=gX});var Uf=m(fi=>{"use strict";var OX=fi&&fi.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bC=fi&&fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fi,"__esModule",{value:!0});var SX=bC(Kv()),vC=bC(ni()),EX=Wr(),wX=Wr(),yC=re(),TX=yC.internal.bookmark.Bookmark,CX=yC.internal.constants.BOLT_PROTOCOL_V4_3,PX=function(r){OX(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"BoltProtocol"),Object.defineProperty(t.prototype,"version",{get:function(){return CX},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var n=e.routingContext,i=n===void 0?{}:n,o=e.databaseName,f=o===void 0?null:o,h=e.sessionContext,_=h===void 0?{}:h,l=e.onError,v=e.onCompleted,O=new EX.RouteObserver({onProtocolError:this._onProtocolError,onError:l,onCompleted:v}),T=_.bookmark||TX.empty();return this.write(vC.default.route(i,T.values(),f),O,!0),O},t.prototype.initialize=function(e){var n=this,i=e===void 0?{}:e,o=i.userAgent,f=i.authToken,h=i.onError,_=i.onComplete,l=new wX.LoginObserver({onError:function(v){return n._onLoginError(v,h)},onCompleted:function(v){return v.patch_bolt!==void 0&&n._applyPatches(v.patch_bolt),n._onLoginCompleted(v,_)}});return this.write(vC.default.hello(o,f,this._serversideRouting,["utc"]),l,!0),l},t.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){this._packer.useUtc=!0,this._unpacker.useUtc=!0},t}(SX.default);fi.default=PX});var SC=m(li=>{"use strict";var IX=li&&li.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mC=li&&li.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(li,"__esModule",{value:!0});var AX=mC(Uf()),gC=re(),kf=mC(ni()),Qv=Wr(),OC=gC.internal.constants,RX=OC.BOLT_PROTOCOL_V4_4,xX=OC.FETCH_ALL,NX=gC.internal.bookmark.Bookmark,qX=function(r){IX(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return s(t,"BoltProtocol"),Object.defineProperty(t.prototype,"version",{get:function(){return RX},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var n=e.routingContext,i=n===void 0?{}:n,o=e.databaseName,f=o===void 0?null:o,h=e.impersonatedUser,_=h===void 0?null:h,l=e.sessionContext,v=l===void 0?{}:l,O=e.onError,T=e.onCompleted,j=new Qv.RouteObserver({onProtocolError:this._onProtocolError,onError:O,onCompleted:T}),U=v.bookmark||NX.empty();return this.write(kf.default.routeV4x4(i,U.values(),{databaseName:f,impersonatedUser:_}),j,!0),j},t.prototype.run=function(e,n,i){var o=i===void 0?{}:i,f=o.bookmark,h=o.txConfig,_=o.database,l=o.mode,v=o.impersonatedUser,O=o.beforeKeys,T=o.afterKeys,j=o.beforeError,U=o.afterError,G=o.beforeComplete,ge=o.afterComplete,B=o.flush,ue=B===void 0?!0:B,ce=o.reactive,Ae=ce===void 0?!1:ce,Be=o.fetchSize,zt=Be===void 0?xX:Be,xt=new Qv.ResultStreamObserver({server:this._server,reactive:Ae,fetchSize:zt,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:O,afterKeys:T,beforeError:j,afterError:U,beforeComplete:G,afterComplete:ge}),wo=Ae;return this.write(kf.default.runWithMetadata(e,n,{bookmark:f,txConfig:h,database:_,mode:l,impersonatedUser:v}),xt,wo&&ue),Ae||this.write(kf.default.pull({n:zt}),xt,ue),xt},t.prototype.beginTransaction=function(e){var n=e===void 0?{}:e,i=n.bookmark,o=n.txConfig,f=n.database,h=n.mode,_=n.impersonatedUser,l=n.beforeError,v=n.afterError,O=n.beforeComplete,T=n.afterComplete,j=new Qv.ResultStreamObserver({server:this._server,beforeError:l,afterError:v,beforeComplete:O,afterComplete:T});return j.prepareToHandleSingleResponse(),this.write(kf.default.begin({bookmark:i,txConfig:o,database:f,mode:h,impersonatedUser:_}),j,!0),j},t}(AX.default);li.default=qX});var wC=m(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});var hi=re(),DX=112,jX=113,MX=126,LX=127;function zr(){}s(zr,"NO_OP");function EC(r){return r}s(EC,"NO_OP_IDENTITY");var UX={onNext:zr,onCompleted:zr,onError:zr},kX=function(){function r(t){var e=t===void 0?{}:t,n=e.transformMetadata,i=e.log,o=e.observer;this._pendingObservers=[],this._log=i,this._transformMetadata=n||EC,this._observer=Object.assign({onPendingObserversChange:zr,onError:zr,onFailure:zr,onErrorApplyTransformation:EC},o)}return s(r,"ResponseHandler"),Object.defineProperty(r.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),r.prototype.handleResponse=function(t){var e=t.fields[0];switch(t.signature){case jX:this._log.isDebugEnabled()&&this._log.debug("S: RECORD "+hi.json.stringify(t)),this._currentObserver.onNext(e);break;case DX:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS "+hi.json.stringify(t));try{var n=this._transformMetadata(e);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case LX:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE "+hi.json.stringify(t));try{var i=(0,hi.newError)(e.message,e.code);this._currentFailure=this._observer.onErrorApplyTransformation(i),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case MX:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED "+hi.json.stringify(t));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,hi.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,hi.newError)("Unknown Bolt protocol message: "+t))}},r.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},r.prototype._queueObserver=function(t){return t=t||UX,t.onCompleted=t.onCompleted||zr,t.onError=t.onError||zr,t.onNext=t.onNext||zr,this._currentObserver===void 0?this._currentObserver=t:this._pendingObservers.push(t),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},r.prototype._notifyErrorToObservers=function(t){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(t);this._pendingObservers.length>0;){var e=this._pendingObservers.shift();e&&e.onError&&e.onError(t)}},r.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},r.prototype._resetFailure=function(){this._currentFailure=null},r}();Xv.default=kX});var TC=m(la=>{"use strict";var Yr=la&&la.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(la,"__esModule",{value:!0});var FX=re(),BX=Yr(Wv()),WX=Yr(Vv()),VX=Yr(zv()),HX=Yr($v()),zX=Yr(Zv()),YX=Yr(Kv()),GX=Yr(Uf()),$X=Yr(SC()),ZX=Yr(wC());function KX(r){var t=r===void 0?{}:r,e=t.version,n=t.chunker,i=t.dechunker,o=t.channel,f=t.disableLosslessIntegers,h=t.useBigInt,_=t.serversideRouting,l=t.server,v=t.log,O=t.observer,T=s(function(j){var U=new ZX.default({transformMetadata:j.transformMetadata.bind(j),log:v,observer:O});return o.onerror=O.onError.bind(O),o.onmessage=function(G){return i.write(G)},i.onmessage=function(G){try{U.handleResponse(j.unpacker().unpack(G))}catch(ge){return O.onError(ge)}},U},"createResponseHandler");return QX(e,l,n,{disableLosslessIntegers:f,useBigInt:h},_,T,O.onProtocolError.bind(O),v)}s(KX,"create");la.default=KX;function QX(r,t,e,n,i,o,f,h){switch(r){case 1:return new BX.default(t,e,n,o,h,f);case 2:return new WX.default(t,e,n,o,h,f);case 3:return new VX.default(t,e,n,o,h,f);case 4:return new HX.default(t,e,n,o,h,f);case 4.1:return new zX.default(t,e,n,o,h,f,i);case 4.2:return new YX.default(t,e,n,o,h,f,i);case 4.3:return new GX.default(t,e,n,o,h,f,i);case 4.4:return new $X.default(t,e,n,o,h,f,i);default:throw(0,FX.newError)("Unknown Bolt protocol version: "+r)}}s(QX,"createProtocol")});var Bf=m(_t=>{"use strict";var XX=_t&&_t.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),JX=_t&&_t.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&XX(t,r,e)},Ff=_t&&_t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_t,"__esModule",{value:!0});_t.RawRoutingTable=_t.BoltProtocol=void 0;var eJ=Ff(KT()),tJ=Ff(TC()),rJ=Ff(Uf()),nJ=Ff(Uv());JX(Wr(),_t);_t.BoltProtocol=rJ.default;_t.RawRoutingTable=nJ.default;_t.default={handshake:eJ.default,create:tJ.default}});var Jv=m(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.DEFAULT_ACQUISITION_TIMEOUT=pi.DEFAULT_MAX_SIZE=void 0;var Wf=100;pi.DEFAULT_MAX_SIZE=Wf;var Vf=60*1e3;pi.DEFAULT_ACQUISITION_TIMEOUT=Vf;var iJ=function(){function r(t,e){this.maxSize=CC(t,Wf),this.acquisitionTimeout=CC(e,Vf)}return s(r,"PoolConfig"),r.defaultConfig=function(){return new r(Wf,Vf)},r.fromDriverConfig=function(t){var e=PC(t.maxConnectionPoolSize),n=e?t.maxConnectionPoolSize:Wf,i=PC(t.connectionAcquisitionTimeout),o=i?t.connectionAcquisitionTimeout:Vf;return new r(n,o)},r}();pi.default=iJ;function CC(r,t){return r===0||r?r:t}s(CC,"valueOrDefault");function PC(r){return r===0||r}s(PC,"isConfigured")});var RC=m(Gr=>{"use strict";var Hf=Gr&&Gr.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},zf=Gr&&Gr.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},oJ=Gr&&Gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gr,"__esModule",{value:!0});var uJ=oJ(Jv()),eb=re(),sJ=eb.internal.logger.Logger,aJ=function(){function r(t){var e=t===void 0?{}:t,n=e.create,i=n===void 0?function(B,ue){return Promise.resolve()}:n,o=e.destroy,f=o===void 0?function(B){return Promise.resolve()}:o,h=e.validate,_=h===void 0?function(B){return!0}:h,l=e.installIdleObserver,v=l===void 0?function(B,ue){}:l,O=e.removeIdleObserver,T=O===void 0?function(B){}:O,j=e.config,U=j===void 0?uJ.default.defaultConfig():j,G=e.log,ge=G===void 0?sJ.noOp():G;this._create=i,this._destroy=f,this._validate=_,this._installIdleObserver=v,this._removeIdleObserver=T,this._maxSize=U.maxSize,this._acquisitionTimeout=U.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._poolState={},this._release=this._release.bind(this),this._log=ge,this._closed=!1}return s(r,"Pool"),r.prototype.acquire=function(t){var e=this;return this._acquire(t).then(function(n){var i=t.asKey();if(n)return n;var o=e._acquireRequests,f=o[i];return f||(o[i]=[]),new Promise(function(h,_){var l,v=setTimeout(function(){var O=o[i];if(O&&(o[i]=O.filter(function(U){return U!==l})),!l.isCompleted()){var T=e.activeResourceCount(t),j=e.has(t)?e._pools[i].length:0;l.reject((0,eb.newError)("Connection acquisition timed out in "+e._acquisitionTimeout+" ms. Pool status: Active conn count = "+T+", Idle conn count = "+j+"."))}},e._acquisitionTimeout);l=new fJ(i,h,_,v,e._log),o[i].push(l)})})},r.prototype.purge=function(t){return this._purgeKey(t.asKey())},r.prototype.close=function(){return Hf(this,void 0,void 0,function(){var t=this;return zf(this,function(e){switch(e.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(n){return t._purgeKey(n)}))];case 1:return[2,e.sent()]}})})},r.prototype.keepAll=function(t){var e=this,n=t.map(function(f){return f.asKey()}),i=Object.keys(this._pools),o=i.filter(function(f){return n.indexOf(f)===-1});return Promise.all(o.map(function(f){return e._purgeKey(f)}))},r.prototype.has=function(t){return t.asKey()in this._pools},r.prototype.activeResourceCount=function(t){return this._activeResourceCounts[t.asKey()]||0},r.prototype._acquire=function(t){return Hf(this,void 0,void 0,function(){var e,n,i,o,f,h,_=this;return zf(this,function(l){switch(l.label){case 0:if(this._closed)throw(0,eb.newError)("Pool is closed, it is no more able to serve requests.");e=t.asKey(),n=this._pools[e],i=this._poolState[e],n||(n=[],i=new AC,this._pools[e]=n,this._pendingCreates[e]=0,this._poolState[e]=i),l.label=1;case 1:return n.length?(o=n.pop(),this._validate(o)?(this._removeIdleObserver&&this._removeIdleObserver(o),IC(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug(o+" acquired from the pool "+e),[2,o]):[3,2]):[3,5];case 2:return[4,this._destroy(o)];case 3:l.sent(),l.label=4;case 4:return[3,1];case 5:if(this._maxSize>0&&(f=this.activeResourceCount(t)+this._pendingCreates[e],f>=this._maxSize))return[2,null];this._pendingCreates[e]=this._pendingCreates[e]+1,l.label=6;case 6:return l.trys.push([6,,8,9]),[4,this._create(t,function(v,O){return _._release(i,v,O)})];case 7:return h=l.sent(),IC(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug(h+" created for the pool "+e),[3,9];case 8:return this._pendingCreates[e]=this._pendingCreates[e]-1,[7];case 9:return[2,h]}})})},r.prototype._release=function(t,e,n){return Hf(this,void 0,void 0,function(){var i,o,f=this;return zf(this,function(h){switch(h.label){case 0:return i=e.asKey(),o=this._pools[i],o&&t&&t.isActive()?this._validate(n)?[3,2]:(this._log.isDebugEnabled()&&this._log.debug(n+" destroyed and can't be released to the pool "+i+" because it is not functional"),[4,this._destroy(n)]):[3,4];case 1:return h.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(n,{onError:function(_){f._log.debug("Idle connection "+n+" destroyed because of error: "+_);var l=f._pools[i];l&&(f._pools[i]=l.filter(function(v){return v!==n})),f._destroy(n).catch(function(){})}}),o.push(n),this._log.isDebugEnabled()&&this._log.debug(n+" released to the pool "+i),h.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug(n+" destroyed and can't be released to the pool "+i+" because pool has been purged"),[4,this._destroy(n)];case 5:h.sent(),h.label=6;case 6:return cJ(i,this._activeResourceCounts),this._processPendingAcquireRequests(e),[2]}})})},r.prototype._purgeKey=function(t){return Hf(this,void 0,void 0,function(){var e,n,i,o;return zf(this,function(f){switch(f.label){case 0:for(e=this._pools[t]||[],n=this._poolState[t]||new AC,i=[];e.length;)o=e.pop(),this._removeIdleObserver&&this._removeIdleObserver(o),i.push(this._destroy(o));return n.close(),delete this._pools[t],delete this._poolState[t],[4,Promise.all(i)];case 1:return f.sent(),[2]}})})},r.prototype._processPendingAcquireRequests=function(t){var e=this,n=t.asKey(),i=this._acquireRequests[n],o=this._poolState[n];if(i){var f=i.shift();f?this._acquire(t).catch(function(h){return f.reject(h),null}).then(function(h){h&&(f.isCompleted()?e._release(o,t,h):f.resolve(h))}):delete this._acquireRequests[n]}},r}();function IC(r,t){var e=t[r]||0;t[r]=e+1}s(IC,"resourceAcquired");function cJ(r,t){var e=t[r]||0,n=e-1;n>0?t[r]=n:delete t[r]}s(cJ,"resourceReleased");var fJ=function(){function r(t,e,n,i,o){this._key=t,this._resolve=e,this._reject=n,this._timeoutId=i,this._log=o,this._completed=!1}return s(r,"PendingRequest"),r.prototype.isCompleted=function(){return this._completed},r.prototype.resolve=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug(t+" acquired from the pool "+this._key),this._resolve(t))},r.prototype.reject=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(t))},r}(),AC=function(){function r(){this._active=!0}return s(r,"PoolState"),r.prototype.isActive=function(){return this._active},r.prototype.close=function(){this._active=!1},r}();Gr.default=aJ});var rb=m(Fe=>{"use strict";var lJ=Fe&&Fe.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),hJ=Fe&&Fe.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),pJ=Fe&&Fe.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&lJ(t,r,e);return hJ(t,r),t},_J=Fe&&Fe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.DEFAULT_MAX_SIZE=Fe.DEFAULT_ACQUISITION_TIMEOUT=Fe.PoolConfig=Fe.Pool=void 0;var tb=pJ(Jv());Fe.PoolConfig=tb.default;Object.defineProperty(Fe,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return tb.DEFAULT_ACQUISITION_TIMEOUT}});Object.defineProperty(Fe,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return tb.DEFAULT_MAX_SIZE}});var xC=_J(RC());Fe.Pool=xC.default;Fe.default=xC.default});var nb=m(ha=>{"use strict";var dJ=ha&&ha.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ha,"__esModule",{value:!0});var vJ=re(),bJ=function(r){dJ(t,r);function t(e){var n=r.call(this)||this;return n._connection=e,n}return s(t,"SingleConnectionProvider"),t.prototype.acquireConnection=function(e){var n=e===void 0?{}:e,i=n.accessMode,o=n.database,f=n.bookmarks,h=this._connection;return this._connection=null,Promise.resolve(h)},t}(vJ.ConnectionProvider);ha.default=bJ});var Yf=m(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});var yJ=function(){function r(t){this._errorHandler=t}return s(r,"Connection"),Object.defineProperty(r.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")},enumerable:!1,configurable:!0}),r.prototype.isOpen=function(){throw new Error("not implemented")},r.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(r.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),r.prototype.connect=function(t,e){throw new Error("not implemented")},r.prototype.write=function(t,e,n){throw new Error("not implemented")},r.prototype.resetAndFlush=function(){throw new Error("not implemented")},r.prototype.close=function(){throw new Error("not implemented")},r.prototype.handleAndTransformError=function(t,e){return this._errorHandler?this._errorHandler.handleAndTransformError(t,e):t},r}();ib.default=yJ});var jC=m(Rt=>{"use strict";var mJ=Rt&&Rt.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gJ=Rt&&Rt.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},OJ=Rt&&Rt.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},qC=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createChannelConnection=void 0;var Gf=vo(),pa=re(),SJ=qC(Yf()),NC=qC(Bf()),EJ=pa.error.PROTOCOL_ERROR,wJ=pa.internal.logger.Logger,TJ=0;function CJ(r,t,e,n,i,o){i===void 0&&(i=null),o===void 0&&(o=s(function(_){return new Gf.Channel(_)},"createChannel"));var f=new Gf.ChannelConfig(r,t,e.errorCode()),h=o(f);return NC.default.handshake(h).then(function(_){var l=_.protocolVersion,v=_.consumeRemainingBuffer,O=new Gf.Chunker(h),T=new Gf.Dechunker,j=s(function(G){return NC.default.create({version:l,channel:h,chunker:O,dechunker:T,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:i,server:G.server,log:G.logger,observer:{onPendingObserversChange:G._handleOngoingRequestsNumberChange.bind(G),onError:G._handleFatalError.bind(G),onFailure:G._resetOnFailure.bind(G),onProtocolError:G._handleProtocolError.bind(G),onErrorApplyTransformation:function(ge){return G.handleAndTransformError(ge,G._address)}}})},"createProtocol"),U=new DC(h,e,r,n,t.disableLosslessIntegers,i,O,j);return v(function(G){return T.write(G)}),U}).catch(function(_){return h.close().then(function(){throw _})})}s(CJ,"createChannelConnection");Rt.createChannelConnection=CJ;var DC=function(r){mJ(t,r);function t(e,n,i,o,f,h,_,l){f===void 0&&(f=!1),h===void 0&&(h=null);var v=r.call(this,n)||this;return v._id=TJ++,v._address=i,v._server={address:i.asHostPort()},v.creationTimestamp=Date.now(),v._disableLosslessIntegers=f,v._ch=e,v._chunker=_,v._log=PJ(v,o),v._serversideRouting=h,v._dbConnectionId=null,v._protocol=l(v),v._isBroken=!1,v._log.isDebugEnabled()&&v._log.debug("created towards "+i),v}return s(t,"ChannelConnection"),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,n){return this._initialize(e,n)},t.prototype._initialize=function(e,n){var i=this,o=this;return new Promise(function(f,h){i._protocol.initialize({userAgent:e,authToken:n,onError:function(_){return h(_)},onComplete:function(_){if(_){var l=_.server;(!i.version||l)&&(i.version=l);var v=_.connection_id;if(i.databaseId||(i.databaseId=v),_.hints){var O=_.hints["connection.recv_timeout_seconds"];if(O!=null){var T=(0,pa.toNumber)(O);Number.isInteger(T)&&T>0?i._ch.setupReceiveTimeout(T*1e3):i._log.info("Server located at "+i._address+" supplied an invalid connection receive timeout value ("+T+"). Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}}}f(o)}})})},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by "+this._error+" ("+pa.json.stringify(this._error)+")"),this._protocol.notifyFatalError(this._error)},t.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var e=this;return new Promise(function(n,i){e._protocol.reset({onError:function(o){if(e._isBroken)i(o);else{var f=e._handleProtocolError("Received FAILURE as a response for RESET: "+o);i(f)}},onComplete:function(){n()}})})},t.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._protocol.reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(e){e===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},t.prototype.close=function(){return gJ(this,void 0,void 0,function(){return OJ(this,function(e){switch(e.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return e.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},t.prototype.toString=function(){return"Connection ["+this.id+"]["+(this.databaseId||"")+"]"},t.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var n=(0,pa.newError)(e,EJ);return this._handleFatalError(n),n},t}(SJ.default);Rt.default=DC;function PJ(r,t){return new wJ(t._level,function(e,n){return t._loggerFunction(e,r+" "+n)})}s(PJ,"createConnectionLogger")});var MC=m(_i=>{"use strict";var IJ=_i&&_i.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),AJ=_i&&_i.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_i,"__esModule",{value:!0});var RJ=AJ(Yf()),xJ=function(r){IJ(t,r);function t(e,n){var i=r.call(this,n)||this;return n&&(i._originalErrorHandler=e._errorHandler,e._errorHandler=i._errorHandler),i._delegate=e,i}return s(t,"DelegateConnection"),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(e,n){return this._delegate.connect(e,n)},t.prototype.write=function(e,n,i){return this._delegate.write(e,n,i)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.close=function(){return this._delegate.close()},t.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},t}(RJ.default);_i.default=xJ});var UC=m(ub=>{"use strict";Object.defineProperty(ub,"__esModule",{value:!0});var LC=re(),NJ=LC.error.SERVICE_UNAVAILABLE,qJ=LC.error.SESSION_EXPIRED,DJ=function(){function r(t,e,n,i){this._errorCode=t,this._handleUnavailability=e||ob,this._handleWriteFailure=n||ob,this._handleAuthorizationExpired=i||ob}return s(r,"ConnectionErrorHandler"),r.create=function(t){var e=t.errorCode,n=t.handleUnavailability,i=t.handleWriteFailure,o=t.handleAuthorizationExpired;return new r(e,n,i,o)},r.prototype.errorCode=function(){return this._errorCode},r.prototype.handleAndTransformError=function(t,e){return jJ(t)?this._handleAuthorizationExpired(t,e):MJ(t)?this._handleUnavailability(t,e):LJ(t)?this._handleWriteFailure(t,e):t},r}();ub.default=DJ;function jJ(r){return r&&(r.code==="Neo.ClientError.Security.AuthorizationExpired"||r.code==="Neo.ClientError.Security.TokenExpired")}s(jJ,"isAutorizationExpiredError");function MJ(r){return r?r.code===qJ||r.code===NJ||r.code==="Neo.TransientError.General.DatabaseUnavailable":!1}s(MJ,"isAvailabilityError");function LJ(r){return r?r.code==="Neo.ClientError.Cluster.NotALeader"||r.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase":!1}s(LJ,"isFailureToWrite");function ob(r){return r}s(ob,"noOpHandler")});var $f=m(je=>{"use strict";var UJ=je&&je.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),kJ=je&&je.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),FJ=je&&je.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&UJ(t,r,e);return kJ(t,r),t},sb=je&&je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(je,"__esModule",{value:!0});je.createChannelConnection=je.ConnectionErrorHandler=je.DelegateConnection=je.ChannelConnection=je.Connection=void 0;var kC=sb(Yf());je.Connection=kC.default;var FC=FJ(jC());je.ChannelConnection=FC.default;Object.defineProperty(je,"createChannelConnection",{enumerable:!0,get:function(){return FC.createChannelConnection}});var BJ=sb(MC());je.DelegateConnection=BJ.default;var WJ=sb(UC());je.ConnectionErrorHandler=WJ.default;je.default=kC.default});var Zf=m(ot=>{"use strict";var VJ=ot&&ot.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),HJ=ot&&ot.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),zJ=ot&&ot.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),YJ=ot&&ot.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&HJ(t,r,e);return zJ(t,r),t},GJ=ot&&ot.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},$J=ot&&ot.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(ot,"__esModule",{value:!0});var BC=$f(),WC=YJ(rb()),VC=re(),ZJ=VC.error.SERVICE_UNAVAILABLE,KJ=function(r){VJ(t,r);function t(e,n){var i=e.id,o=e.config,f=e.log,h=e.userAgent,_=e.authToken;n===void 0&&(n=null);var l=r.call(this)||this;return l._id=i,l._config=o,l._log=f,l._userAgent=h,l._authToken=_,l._createChannelConnection=n||function(v){return(0,BC.createChannelConnection)(v,l._config,l._createConnectionErrorHandler(),l._log)},l._connectionPool=new WC.default({create:l._createConnection.bind(l),destroy:l._destroyConnection.bind(l),validate:l._validateConnection.bind(l),installIdleObserver:t._installIdleObserverOnConnection.bind(l),removeIdleObserver:t._removeIdleObserverOnConnection.bind(l),config:WC.PoolConfig.fromDriverConfig(o),log:l._log}),l._openConnections={},l}return s(t,"PooledConnectionProvider"),t.prototype._createConnectionErrorHandler=function(){return new BC.ConnectionErrorHandler(ZJ)},t.prototype._createConnection=function(e,n){var i=this;return this._createChannelConnection(e).then(function(o){return o._release=function(){return n(e,o)},i._openConnections[o.id]=o,o.connect(i._userAgent,i._authToken).catch(function(f){throw i._destroyConnection(o),f})})},t.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var n=this._config.maxConnectionLifetime,i=Date.now()-e.creationTimestamp;return i<=n},t.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},t.prototype.close=function(){return GJ(this,void 0,void 0,function(){return $J(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(n){return n.close()}))];case 2:return e.sent(),[2]}})})},t._installIdleObserverOnConnection=function(e,n){e._queueObserver(n)},t._removeIdleObserverOnConnection=function(e){e._updateCurrentObserver()},t}(VC.ConnectionProvider);ot.default=KJ});var HC=m(ar=>{"use strict";var QJ=ar&&ar.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kf=ar&&ar.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},Qf=ar&&ar.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},XJ=ar&&ar.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ar,"__esModule",{value:!0});var JJ=XJ(Zf()),ab=$f(),cb=re(),fb=cb.internal.constants,eee=fb.BOLT_PROTOCOL_V3,tee=fb.BOLT_PROTOCOL_V4_0,ree=fb.BOLT_PROTOCOL_V4_4,nee=cb.error.SERVICE_UNAVAILABLE,rhe=cb.error.newError,iee=function(r){QJ(t,r);function t(e){var n=e.id,i=e.config,o=e.log,f=e.address,h=e.userAgent,_=e.authToken,l=r.call(this,{id:n,config:i,log:o,userAgent:h,authToken:_})||this;return l._address=f,l}return s(t,"DirectConnectionProvider"),t.prototype.acquireConnection=function(e){var n=this,i=e===void 0?{}:e,o=i.accessMode,f=i.database,h=i.bookmarks,_=ab.ConnectionErrorHandler.create({errorCode:nee,handleAuthorizationExpired:function(l,v){return n._handleAuthorizationExpired(l,v,f)}});return this._connectionPool.acquire(this._address).then(function(l){return new ab.DelegateConnection(l,_)})},t.prototype._handleAuthorizationExpired=function(e,n,i){return this._log.warn("Direct driver "+this._id+" will close connection to "+n+" for database '"+i+"' because of an error "+e.code+" '"+e.message+"'"),this._connectionPool.purge(n).catch(function(){}),e},t.prototype._hasProtocolVersion=function(e){return Kf(this,void 0,void 0,function(){var n,i;return Qf(this,function(o){switch(o.label){case 0:return[4,(0,ab.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return n=o.sent(),i=n.protocol()?n.protocol().version:null,[4,n.close()];case 2:return o.sent(),i?[2,e(i)]:[2,!1]}})})},t.prototype.supportsMultiDb=function(){return Kf(this,void 0,void 0,function(){return Qf(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=tee})];case 1:return[2,e.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return Kf(this,void 0,void 0,function(){return Qf(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=eee})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return Kf(this,void 0,void 0,function(){return Qf(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=ree})];case 1:return[2,e.sent()]}})})},t}(JJ.default);ar.default=iee});var vb=m($r=>{"use strict";var lb=$r&&$r.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(f)throw f.error}}return o},hb=$r&&$r.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))};Object.defineProperty($r,"__esModule",{value:!0});$r.createValidRoutingTable=void 0;var Wt=re(),YC=Wt.internal.constants,oee=YC.ACCESS_MODE_WRITE,uee=YC.ACCESS_MODE_READ,pb=Wt.internal.serverAddress.ServerAddress,db=Wt.error.PROTOCOL_ERROR,see=1,GC=function(){function r(t){var e=t===void 0?{}:t,n=e.database,i=e.routers,o=e.readers,f=e.writers,h=e.expirationTime,_=e.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=i||[],this.readers=o||[],this.writers=f||[],this.expirationTime=h||(0,Wt.int)(0),this.ttl=_}return s(r,"RoutingTable"),r.fromRawRoutingTable=function(t,e,n){return $C(t,e,n)},r.prototype.forget=function(t){this.readers=Xf(this.readers,t),this.writers=Xf(this.writers,t)},r.prototype.forgetRouter=function(t){this.routers=Xf(this.routers,t)},r.prototype.forgetWriter=function(t){this.writers=Xf(this.writers,t)},r.prototype.isStaleFor=function(t){return this.expirationTime.lessThan(Date.now())||this.routers.length<see||t===uee&&this.readers.length===0||t===oee&&this.writers.length===0},r.prototype.isExpiredFor=function(t){return this.expirationTime.add(t).lessThan(Date.now())},r.prototype.allServers=function(){return hb(hb(hb([],lb(this.routers),!1),lb(this.readers),!1),lb(this.writers),!1)},r.prototype.toString=function(){return"RoutingTable["+("database="+this.databaseName+", ")+("expirationTime="+this.expirationTime+", ")+("currentTime="+Date.now()+", ")+("routers=["+this.routers+"], ")+("readers=["+this.readers+"], ")+("writers=["+this.writers+"]]")},r}();$r.default=GC;function Xf(r,t){return r.filter(function(e){return e.asKey()!==t.asKey()})}s(Xf,"removeFromArray");function $C(r,t,e){var n=e.ttl,i=cee(e,t),o=aee(e,t),f=o.routers,h=o.readers,_=o.writers;return zC(f,"routers",t),zC(h,"readers",t),new GC({database:r||e.db,routers:f,readers:h,writers:_,expirationTime:i,ttl:n})}s($C,"createValidRoutingTable");$r.createValidRoutingTable=$C;function aee(r,t){try{var e=[],n=[],i=[];return r.servers.forEach(function(o){var f=o.role,h=o.addresses;f==="ROUTE"?e=_b(h).map(function(_){return pb.fromUrl(_)}):f==="WRITE"?i=_b(h).map(function(_){return pb.fromUrl(_)}):f==="READ"&&(n=_b(h).map(function(_){return pb.fromUrl(_)}))}),{routers:e,readers:n,writers:i}}catch(o){throw(0,Wt.newError)("Unable to parse servers entry from router "+t+` from addresses:
`+Wt.json.stringify(r.servers)+`
Error message: `+o.message,db)}}s(aee,"parseServers");function cee(r,t){try{var e=(0,Wt.int)(Date.now()),n=(0,Wt.int)(r.ttl).multiply(1e3).add(e);return n.lessThan(e)?Wt.Integer.MAX_VALUE:n}catch(i){throw(0,Wt.newError)("Unable to parse TTL entry from router "+t+` from raw routing table:
`+Wt.json.stringify(r)+`
Error message: `+i.message,db)}}s(cee,"calculateExpirationTime");function zC(r,t,e){if(r.length===0)throw(0,Wt.newError)("Received no "+t+" from router "+e,db)}s(zC,"assertNonEmpty");function _b(r){if(!Array.isArray(r))throw new TypeError("Array expected but got: "+r);return Array.from(r)}s(_b,"parseArray")});var KC=m(_a=>{"use strict";var fee=_a&&_a.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_a,"__esModule",{value:!0});var lee=fee(vb()),hee=Bf(),ZC=re(),pee=ZC.error.SERVICE_UNAVAILABLE,_ee="Neo.ClientError.Procedure.ProcedureNotFound",dee="Neo.ClientError.Database.DatabaseNotFound",vee=function(){function r(t){this._routingContext=t}return s(r,"Rediscovery"),r.prototype.lookupRoutingTableOnRouter=function(t,e,n,i){var o=this;return t._acquireConnection(function(f){return o._requestRawRoutingTable(f,t,e,n,i).then(function(h){return h.isNull?null:lee.default.fromRawRoutingTable(e,n,h)})})},r.prototype._requestRawRoutingTable=function(t,e,n,i,o){var f=this;return new Promise(function(h,_){t.protocol().requestRoutingInformation({routingContext:f._routingContext,databaseName:n,impersonatedUser:o,sessionContext:{bookmark:e._lastBookmark,mode:e._mode,database:e._database,afterComplete:e._onComplete},onCompleted:h,onError:function(l){l.code===dee?_(l):l.code===_ee?_((0,ZC.newError)("Server at "+i.asHostPort()+" can't perform routing. Make sure you are connecting to a causal cluster",pee)):h(hee.RawRoutingTable.ofNull())}})})},r}();_a.default=vee});var JC=m(Zr=>{"use strict";var QC=Zr&&Zr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.RoutingTable=Zr.Rediscovery=void 0;var XC=QC(KC());Zr.Rediscovery=XC.default;var bee=QC(vb());Zr.RoutingTable=bee.default;Zr.default=XC.default});var uP=m(Pe=>{"use strict";var yee=Pe&&Pe.__extends||function(){var r=s(function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(t,e)},"extendStatics");return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}s(n,"__"),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jf=Pe&&Pe.__assign||function(){return Jf=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Jf.apply(this,arguments)},mee=Pe&&Pe.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),gee=Pe&&Pe.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Oee=Pe&&Pe.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&mee(t,r,e);return gee(t,r),t},dt=Pe&&Pe.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(f){f(o)})}return s(i,"adopt"),new(e||(e=Promise))(function(o,f){function h(v){try{l(n.next(v))}catch(O){f(O)}}s(h,"fulfilled");function _(v){try{l(n.throw(v))}catch(O){f(O)}}s(_,"rejected");function l(v){v.done?o(v.value):i(v.value).then(h,_)}s(l,"step"),l((n=n.apply(r,t||[])).next())})},vt=Pe&&Pe.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(l){return function(v){return _([l,v])}}function _(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(v){l=[6,v],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},eP=Pe&&Pe.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tP=Pe&&Pe.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],f;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){f={error:h}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(f)throw f.error}}return o},oP=Pe&&Pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pe,"__esModule",{value:!0});var Vt=re(),rP=Oee(JC()),See=vo(),Eee=oP(nb()),wee=oP(Zf()),Tee=mv(),di=$f(),Cee=Vt.error.SERVICE_UNAVAILABLE,da=Vt.error.SESSION_EXPIRED,Pee=Vt.internal.bookmark.Bookmark,va=Vt.internal.constants,nP=va.ACCESS_MODE_READ,iP=va.ACCESS_MODE_WRITE,Iee=va.BOLT_PROTOCOL_V3,Aee=va.BOLT_PROTOCOL_V4_0,Ree=va.BOLT_PROTOCOL_V4_4,xee="Neo.ClientError.Security.Unauthorized",Nee="Neo.ClientError.Database.DatabaseNotFound",qee="system",bb=null,Dee=(0,Vt.int)(3e4),jee=function(r){yee(t,r);function t(e){var n=e.id,i=e.address,o=e.routingContext,f=e.hostNameResolver,h=e.config,_=e.log,l=e.userAgent,v=e.authToken,O=e.routingTablePurgeDelay,T=r.call(this,{id:n,config:h,log:_,userAgent:l,authToken:v},function(j){return(0,di.createChannelConnection)(j,T._config,T._createConnectionErrorHandler(),T._log,T._routingContext)})||this;return T._routingContext=Jf(Jf({},o),{address:i.toString()}),T._seedRouter=i,T._rediscovery=new rP.default(T._routingContext),T._loadBalancingStrategy=new Tee.LeastConnectedLoadBalancingStrategy(T._connectionPool),T._hostNameResolver=f,T._dnsResolver=new See.HostNameResolver,T._log=_,T._useSeedRouter=!0,T._routingTableRegistry=new Mee(O?(0,Vt.int)(O):Dee),T}return s(t,"RoutingConnectionProvider"),t.prototype._createConnectionErrorHandler=function(){return new di.ConnectionErrorHandler(da)},t.prototype._handleUnavailability=function(e,n,i){return this._log.warn("Routing driver "+this._id+" will forget "+n+" for database '"+i+"' because of an error "+e.code+" '"+e.message+"'"),this.forget(n,i||bb),e},t.prototype._handleAuthorizationExpired=function(e,n,i){return this._log.warn("Routing driver "+this._id+" will close connections to "+n+" for database '"+i+"' because of an error "+e.code+" '"+e.message+"'"),this._connectionPool.purge(n).catch(function(){}),e},t.prototype._handleWriteFailure=function(e,n,i){return this._log.warn("Routing driver "+this._id+" will forget writer "+n+" for database '"+i+"' because of an error "+e.code+" '"+e.message+"'"),this.forgetWriter(n,i||bb),(0,Vt.newError)("No longer possible to write to server at "+n,da)},t.prototype.acquireConnection=function(e){var n=e===void 0?{}:e,i=n.accessMode,o=n.database,f=n.bookmarks,h=n.impersonatedUser,_=n.onDatabaseNameResolved;return dt(this,void 0,void 0,function(){var l,v,O,T,j,U,G,ge,B=this;return vt(this,function(ue){switch(ue.label){case 0:return O={database:o||bb},T=new di.ConnectionErrorHandler(da,function(ce,Ae){return B._handleUnavailability(ce,Ae,O.database)},function(ce,Ae){return B._handleWriteFailure(ce,Ae,O.database)},function(ce,Ae){return B._handleAuthorizationExpired(ce,Ae,O.database)}),[4,this._freshRoutingTable({accessMode:i,database:O.database,bookmark:f,impersonatedUser:h,onDatabaseNameResolved:function(ce){O.database=O.database||ce,_&&_(ce)}})];case 1:if(j=ue.sent(),i===nP)v=this._loadBalancingStrategy.selectReader(j.readers),l="read";else if(i===iP)v=this._loadBalancingStrategy.selectWriter(j.writers),l="write";else throw(0,Vt.newError)("Illegal mode "+i);if(!v)throw(0,Vt.newError)("Failed to obtain connection towards "+l+" server. Known routing table is: "+j,da);ue.label=2;case 2:return ue.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(v,l,j)];case 3:return U=ue.sent(),[2,new di.DelegateConnection(U,T)];case 4:throw G=ue.sent(),ge=T.handleAndTransformError(G,v),ge;case 5:return[2]}})})},t.prototype._hasProtocolVersion=function(e){return dt(this,void 0,void 0,function(){var n,i,o,f,h,_;return vt(this,function(l){switch(l.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:n=l.sent(),o=0,l.label=2;case 2:if(!(o<n.length))return[3,8];l.label=3;case 3:return l.trys.push([3,6,,7]),[4,(0,di.createChannelConnection)(n[o],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return f=l.sent(),h=f.protocol()?f.protocol().version:null,[4,f.close()];case 5:return l.sent(),h?[2,e(h)]:[2,!1];case 6:return _=l.sent(),i=_,[3,7];case 7:return o++,[3,2];case 8:if(i)throw i;return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return dt(this,void 0,void 0,function(){return vt(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=Aee})];case 1:return[2,e.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return dt(this,void 0,void 0,function(){return vt(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=Iee})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return dt(this,void 0,void 0,function(){return vt(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=Ree})];case 1:return[2,e.sent()]}})})},t.prototype.forget=function(e,n){this._routingTableRegistry.apply(n,{applyWhenExists:function(i){return i.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},t.prototype.forgetWriter=function(e,n){this._routingTableRegistry.apply(n,{applyWhenExists:function(i){return i.forgetWriter(e)}})},t.prototype._acquireConnectionToServer=function(e,n,i){return this._connectionPool.acquire(e)},t.prototype._freshRoutingTable=function(e){var n=e===void 0?{}:e,i=n.accessMode,o=n.database,f=n.bookmark,h=n.impersonatedUser,_=n.onDatabaseNameResolved,l=this._routingTableRegistry.get(o,function(){return new rP.RoutingTable({database:o})});return l.isStaleFor(i)?(this._log.info('Routing table is stale for database: "'+o+'" and access mode: "'+i+'": '+l),this._refreshRoutingTable(l,f,h,_)):l},t.prototype._refreshRoutingTable=function(e,n,i,o){var f=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(f,e,n,i,o):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(f,e,n,i,o)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,n,i,o,f){return dt(this,void 0,void 0,function(){var h,_;return vt(this,function(l){switch(l.label){case 0:return h=[],[4,this._fetchRoutingTableUsingSeedRouter(h,this._seedRouter,n,i,o)];case 1:return _=l.sent(),_?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,n,i,o)];case 3:_=l.sent(),l.label=4;case 4:return[4,this._applyRoutingTableIfPossible(n,_,f)];case 5:return[2,l.sent()]}})})},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,n,i,o,f){return dt(this,void 0,void 0,function(){var h;return vt(this,function(_){switch(_.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,n,i,o)];case 1:return h=_.sent(),h?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,n,i,o)];case 2:h=_.sent(),_.label=3;case 3:return[4,this._applyRoutingTableIfPossible(n,h,f)];case 4:return[2,_.sent()]}})})},t.prototype._fetchRoutingTableUsingKnownRouters=function(e,n,i,o){return dt(this,void 0,void 0,function(){var f,h;return vt(this,function(_){switch(_.label){case 0:return[4,this._fetchRoutingTable(e,n,i,o)];case 1:return f=_.sent(),f?[2,f]:(h=e.length-1,t._forgetRouter(n,e,h),[2,null])}})})},t.prototype._fetchRoutingTableUsingSeedRouter=function(e,n,i,o,f){return dt(this,void 0,void 0,function(){var h,_;return vt(this,function(l){switch(l.label){case 0:return[4,this._resolveSeedRouter(n)];case 1:return h=l.sent(),_=h.filter(function(v){return e.indexOf(v)<0}),[4,this._fetchRoutingTable(_,i,o,f)];case 2:return[2,l.sent()]}})})},t.prototype._resolveSeedRouter=function(e){return dt(this,void 0,void 0,function(){var n,i,o=this;return vt(this,function(f){switch(f.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return n=f.sent(),[4,Promise.all(n.map(function(h){return o._dnsResolver.resolve(h)}))];case 2:return i=f.sent(),[2,[].concat.apply([],i)]}})})},t.prototype._fetchRoutingTable=function(e,n,i,o){var f=this;return e.reduce(function(h,_,l){return dt(f,void 0,void 0,function(){var v,O,T,j;return vt(this,function(U){switch(U.label){case 0:return[4,h];case 1:return v=U.sent(),v?[2,v]:(O=l-1,t._forgetRouter(n,e,O),[4,this._createSessionForRediscovery(_,i,o)]);case 2:if(T=U.sent(),!T)return[3,8];U.label=3;case 3:return U.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(T,n.database,_,o)];case 4:return[2,U.sent()];case 5:if(j=U.sent(),j&&j.code===Nee)throw j;return this._log.warn("unable to fetch routing table because of an error "+j),[2,null];case 6:return T.close(),[7];case 7:return[3,9];case 8:return[2,null];case 9:return[2]}})})},Promise.resolve(null))},t.prototype._createSessionForRediscovery=function(e,n,i){return dt(this,void 0,void 0,function(){var o,f,h,_,l,v=this;return vt(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,this._connectionPool.acquire(e)];case 1:return o=O.sent(),f=di.ConnectionErrorHandler.create({errorCode:da,handleAuthorizationExpired:function(T,j){return v._handleAuthorizationExpired(T,j)}}),h=new Eee.default(new di.DelegateConnection(o,f)),_=o.protocol().version,_<4?[2,new Vt.Session({mode:iP,bookmark:Pee.empty(),connectionProvider:h})]:[2,new Vt.Session({mode:nP,database:qee,bookmark:n,connectionProvider:h,impersonatedUser:i})];case 2:if(l=O.sent(),l&&l.code===xee)throw l;return[2,null];case 3:return[2]}})})},t.prototype._applyRoutingTableIfPossible=function(e,n,i){return dt(this,void 0,void 0,function(){return vt(this,function(o){switch(o.label){case 0:if(!n)throw(0,Vt.newError)("Could not perform discovery. No routing servers available. Known routing table: "+e,Cee);return n.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(n,i)];case 1:return o.sent(),[2,n]}})})},t.prototype._updateRoutingTable=function(e,n){return dt(this,void 0,void 0,function(){return vt(this,function(i){switch(i.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return i.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),n(e.database),this._log.info("Updated routing table "+e),[2]}})})},t._forgetRouter=function(e,n,i){var o=n[i];e&&o&&e.forgetRouter(o)},t}(wee.default);Pe.default=jee;var Mee=function(){function r(t){this._tables=new Map,this._routingTablePurgeDelay=t}return s(r,"RoutingTableRegistry"),r.prototype.register=function(t){return this._tables.set(t.database,t),this},r.prototype.apply=function(t,e){var n=e===void 0?{}:e,i=n.applyWhenExists,o=n.applyWhenDontExists,f=o===void 0?function(){}:o;return this._tables.has(t)?i(this._tables.get(t)):typeof t=="string"||t===null?f():this._forEach(i),this},r.prototype.get=function(t,e){return this._tables.has(t)?this._tables.get(t):typeof e=="function"?e():e},r.prototype.removeExpired=function(){var t=this;return this._removeIf(function(e){return e.isExpiredFor(t._routingTablePurgeDelay)})},r.prototype._forEach=function(t){var e,n;try{for(var i=eP(this._tables),o=i.next();!o.done;o=i.next()){var f=tP(o.value,2),h=f[1];t(h)}}catch(_){e={error:_}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},r.prototype._remove=function(t){return this._tables.delete(t),this},r.prototype._removeIf=function(t){var e,n;try{for(var i=eP(this._tables),o=i.next();!o.done;o=i.next()){var f=tP(o.value,2),h=f[0],_=f[1];t(_)&&this._remove(h)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this},r}()});var sP=m(Ht=>{"use strict";var el=Ht&&Ht.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.RoutingConnectionProvider=Ht.DirectConnectionProvider=Ht.PooledConnectionProvider=Ht.SingleConnectionProvider=void 0;var Lee=nb();Object.defineProperty(Ht,"SingleConnectionProvider",{enumerable:!0,get:function(){return el(Lee).default}});var Uee=Zf();Object.defineProperty(Ht,"PooledConnectionProvider",{enumerable:!0,get:function(){return el(Uee).default}});var kee=HC();Object.defineProperty(Ht,"DirectConnectionProvider",{enumerable:!0,get:function(){return el(kee).default}});var Fee=uP();Object.defineProperty(Ht,"RoutingConnectionProvider",{enumerable:!0,get:function(){return el(Fee).default}})});var cP=m(Ie=>{"use strict";var aP=Ie&&Ie.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Bee=Ie&&Ie.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),So=Ie&&Ie.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&aP(t,r,e);return Bee(t,r),t},Wee=Ie&&Ie.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&aP(t,r,e)};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.pool=Ie.packstream=Ie.channel=Ie.buf=Ie.bolt=Ie.loadBalancing=void 0;Ie.loadBalancing=So(mv());Ie.bolt=So(Bf());Ie.buf=So(Ef());Ie.channel=So(vo());Ie.packstream=So(Rf());Ie.pool=So(rb());Wee(sP(),Ie)});var OP=m(W=>{"use strict";var tl=Nn();Object.defineProperty(W,"__esModule",{value:!0});W.driver=_P;Object.defineProperty(W,"Driver",{enumerable:!0,get:s(function(){return ba.Driver},"get")});Object.defineProperty(W,"Neo4jError",{enumerable:!0,get:s(function(){return D.Neo4jError},"get")});Object.defineProperty(W,"error",{enumerable:!0,get:s(function(){return D.error},"get")});Object.defineProperty(W,"Integer",{enumerable:!0,get:s(function(){return D.Integer},"get")});Object.defineProperty(W,"int",{enumerable:!0,get:s(function(){return D.int},"get")});Object.defineProperty(W,"isInt",{enumerable:!0,get:s(function(){return D.isInt},"get")});Object.defineProperty(W,"isPoint",{enumerable:!0,get:s(function(){return D.isPoint},"get")});Object.defineProperty(W,"Point",{enumerable:!0,get:s(function(){return D.Point},"get")});Object.defineProperty(W,"Date",{enumerable:!0,get:s(function(){return D.Date},"get")});Object.defineProperty(W,"DateTime",{enumerable:!0,get:s(function(){return D.DateTime},"get")});Object.defineProperty(W,"Duration",{enumerable:!0,get:s(function(){return D.Duration},"get")});Object.defineProperty(W,"isDate",{enumerable:!0,get:s(function(){return D.isDate},"get")});Object.defineProperty(W,"isDateTime",{enumerable:!0,get:s(function(){return D.isDateTime},"get")});Object.defineProperty(W,"isDuration",{enumerable:!0,get:s(function(){return D.isDuration},"get")});Object.defineProperty(W,"isLocalDateTime",{enumerable:!0,get:s(function(){return D.isLocalDateTime},"get")});Object.defineProperty(W,"isLocalTime",{enumerable:!0,get:s(function(){return D.isLocalTime},"get")});Object.defineProperty(W,"isTime",{enumerable:!0,get:s(function(){return D.isTime},"get")});Object.defineProperty(W,"LocalDateTime",{enumerable:!0,get:s(function(){return D.LocalDateTime},"get")});Object.defineProperty(W,"LocalTime",{enumerable:!0,get:s(function(){return D.LocalTime},"get")});Object.defineProperty(W,"Time",{enumerable:!0,get:s(function(){return D.Time},"get")});Object.defineProperty(W,"Node",{enumerable:!0,get:s(function(){return D.Node},"get")});Object.defineProperty(W,"Path",{enumerable:!0,get:s(function(){return D.Path},"get")});Object.defineProperty(W,"PathSegment",{enumerable:!0,get:s(function(){return D.PathSegment},"get")});Object.defineProperty(W,"Relationship",{enumerable:!0,get:s(function(){return D.Relationship},"get")});Object.defineProperty(W,"UnboundRelationship",{enumerable:!0,get:s(function(){return D.UnboundRelationship},"get")});Object.defineProperty(W,"Record",{enumerable:!0,get:s(function(){return D.Record},"get")});Object.defineProperty(W,"ResultSummary",{enumerable:!0,get:s(function(){return D.ResultSummary},"get")});Object.defineProperty(W,"Plan",{enumerable:!0,get:s(function(){return D.Plan},"get")});Object.defineProperty(W,"ProfiledPlan",{enumerable:!0,get:s(function(){return D.ProfiledPlan},"get")});Object.defineProperty(W,"QueryStatistics",{enumerable:!0,get:s(function(){return D.QueryStatistics},"get")});Object.defineProperty(W,"Notification",{enumerable:!0,get:s(function(){return D.Notification},"get")});Object.defineProperty(W,"ServerInfo",{enumerable:!0,get:s(function(){return D.ServerInfo},"get")});Object.defineProperty(W,"Result",{enumerable:!0,get:s(function(){return D.Result},"get")});Object.defineProperty(W,"auth",{enumerable:!0,get:s(function(){return D.auth},"get")});Object.defineProperty(W,"Session",{enumerable:!0,get:s(function(){return D.Session},"get")});Object.defineProperty(W,"Transaction",{enumerable:!0,get:s(function(){return D.Transaction},"get")});Object.defineProperty(W,"RxSession",{enumerable:!0,get:s(function(){return lP.default},"get")});Object.defineProperty(W,"RxTransaction",{enumerable:!0,get:s(function(){return hP.default},"get")});Object.defineProperty(W,"RxResult",{enumerable:!0,get:s(function(){return pP.default},"get")});W.default=W.temporal=W.spatial=W.session=W.types=W.logging=W.integer=void 0;var ba=yT(),Vee=tl(mT()),D=re(),fP=cP(),lP=tl(dv()),hP=tl(hv()),pP=tl(hf()),rl=D.internal.util,Hee=rl.ENCRYPTION_ON,_he=rl.ENCRYPTION_OFF,zee=rl.assertString,Yee=rl.isEmptyObjectOrNull,Gee=D.internal.serverAddress.ServerAddress,$ee=D.internal.urlUtil;function _P(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zee(r,"Bolt URL");var n=$ee.parseDatabaseUrl(r),i=!1,o=!1,f;switch(n.scheme){case"bolt":break;case"bolt+s":o=!0,f="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":o=!0,f="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":o=!0,f="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=!0;break;case"neo4j+ssc":o=!0,f="TRUST_ALL_CERTIFICATES",i=!0;break;default:throw new Error("Unknown scheme: ".concat(n.scheme))}if(o){if("encrypted"in e||"trust"in e)throw new Error("Encryption/trust can only be configured either through URL or config, not both");e.encrypted=Hee,e.trust=f}t=t||{},t.scheme=t.scheme||"none",e.userAgent=e.userAgent||Zee;var h=Gee.fromUrl(n.hostAndPort),_={address:h,typename:i?"Routing":"Direct",routing:i};return new ba.Driver(_,e,l());function l(){if(i)return function(v,O,T,j){return new fP.RoutingConnectionProvider({id:v,config:O,log:T,hostNameResolver:j,authToken:t,address:h,userAgent:O.userAgent,routingContext:n.query})};if(!Yee(n.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(r,"'"));return function(v,O,T){return new fP.DirectConnectionProvider({id:v,config:O,log:T,authToken:t,address:h,userAgent:O.userAgent})}}}s(_P,"driver");var Zee="neo4j-javascript/"+Vee.default,dP={console:function(r){function t(e){return r.apply(this,arguments)}return s(t,"console"),t.toString=function(){return r.toString()},t}(function(r){return{level:r,logger:s(function(e,n){return console.log("".concat(global.Date.now()," ").concat(e.toUpperCase()," ").concat(n))},"logger")}})};W.logging=dP;var vP={Node:D.Node,Relationship:D.Relationship,UnboundRelationship:D.UnboundRelationship,PathSegment:D.PathSegment,Path:D.Path,Result:D.Result,ResultSummary:D.ResultSummary,Record:D.Record,Point:D.Point,Date:D.Date,DateTime:D.DateTime,Duration:D.Duration,LocalDateTime:D.LocalDateTime,LocalTime:D.LocalTime,Time:D.Time,Integer:D.Integer};W.types=vP;var bP={READ:ba.READ,WRITE:ba.WRITE};W.session=bP;var yP={toNumber:D.toNumber,toString:D.toString,inSafeRange:D.inSafeRange};W.integer=yP;var mP={isPoint:D.isPoint};W.spatial=mP;var gP={isDuration:D.isDuration,isLocalTime:D.isLocalTime,isTime:D.isTime,isDate:D.isDate,isLocalDateTime:D.isLocalDateTime,isDateTime:D.isDateTime};W.temporal=gP;var Kee={driver:_P,int:D.int,isInt:D.isInt,isPoint:D.isPoint,isDuration:D.isDuration,isLocalTime:D.isLocalTime,isTime:D.isTime,isDate:D.isDate,isLocalDateTime:D.isLocalDateTime,isDateTime:D.isDateTime,integer:yP,Neo4jError:D.Neo4jError,auth:D.auth,logging:dP,types:vP,session:bP,error:D.error,spatial:mP,temporal:gP,Driver:ba.Driver,Session:D.Session,Transaction:D.Transaction,Result:D.Result,RxSession:lP.default,RxTransaction:hP.default,RxResult:pP.default,ResultSummary:D.ResultSummary,Plan:D.Plan,ProfiledPlan:D.ProfiledPlan,QueryStatistics:D.QueryStatistics,Notification:D.Notification,ServerInfo:D.ServerInfo,Record:D.Record,Node:D.Node,Relationship:D.Relationship,UnboundRelationship:D.UnboundRelationship,Path:D.Path,PathSegment:D.PathSegment,Point:D.Point,Integer:D.Integer,Duration:D.Duration,LocalTime:D.LocalTime,Time:D.Time,Date:D.Date,LocalDateTime:D.LocalDateTime,DateTime:D.DateTime},Qee=Kee;W.default=Qee});var xP=m((yhe,RP)=>{"use strict";var yb=OP(),bhe=require("fs"),nl=Th(),mr,mb=!1,Ob="EXECUTE_TIME_OUT",SP=3e5,gb=SP,Xee=s(r=>gb=(r==null?void 0:r.queryRequestTimeout)||SP,"setTimeOut"),Jee=s((r,t)=>t(r.host,r.port).then(()=>new Promise((e,n)=>{let i=mte(r),o=r.username,f=r.password,_={..._te(r),maxConnectionPoolSize:500,connectionAcquisitionTimeout:2*60*1e3};mr=yb.driver(i,yb.auth.basic(o,f),_),mr.verifyConnectivity().then(()=>{e()}).catch(l=>{mr=null,n(l)})})),"connectToInstance"),ete=s(async(r,t,e)=>{try{if(r.ssh){let{options:n}=await e.openTunnel({sshAuthMethod:r.ssh_method==="privateKey"?"IDENTITY_FILE":"USER_PASSWORD",sshTunnelHostname:r.ssh_host,sshTunnelPort:r.ssh_port,sshTunnelUsername:r.ssh_user,sshTunnelPassword:r.ssh_password,sshTunnelIdentityFile:r.ssh_key_file,sshTunnelPassphrase:r.ssh_key_passphrase,host:r.host,port:r.port});mb=!0,r={...r,...n}}return Jee(r,t)}catch(n){throw n.step="Connection Error",n}},"connect"),tte=s(async r=>{mr&&(mr.close(),mr=null),mb&&(await r.closeConsumer(),mb=!1)},"close"),Qe=s(async(r,t=void 0,e=!1)=>{e||(t=void 0);let n=new Promise((f,h)=>setTimeout(()=>h(rte({timeout:gb,command:r})),gb)),i=[],o;try{o=mr.session({database:t});let f=new Promise((h,_)=>{o.run(r).subscribe({onNext:l=>{i.push(l.toObject())},onCompleted:()=>{o.close(),o=null,h(i)},onError:l=>{o.close(),o=null,_(l)}})});return await Promise.race([f,n])}catch(f){throw f.code===Ob&&o&&o.close(),f}},"execute"),rte=s(({timeout:r,command:t})=>{let e=new Error(`Execute timeout: ${r}ms exceeded. Query:
${t}`);return e.code=Ob,e},"getExecuteTimeoutError"),ya=s(r=>{let t=Array.isArray(r)?[]:{};for(let e in r){let n=r[e];yb.isInt(n)?n=n.toInt():typeof n=="object"&&(n=ya(n)),t[e]=n}return t},"castInteger"),nte=s(async({database:r,isMultiDb:t,logger:e})=>{let n="Retrieving labels information";try{let i=new Map;(await Qe("CALL db.labels()",r,t)).forEach(({label:_})=>i.set(_,0)),(await Qe("MATCH (n) RETURN DISTINCT labels(n) as label, COUNT(*) as total ORDER BY total DESC",r,t)).forEach(_=>{let l=nl.head(_.label);i.set(l,_.total)});let h=[...i.entries()].map(([_,l])=>`${_} (${l})`).join(`
`);return e.log("info",`Found ${i.size} unique labels:
${h}`,n),[...i.keys()]}catch(i){let o=i.step||"Error of retrieving labels";return e.log("error",i,o),[]}},"getLabels"),ite=s(({dbName:r,labels:t,isMultiDb:e})=>Qe(`call apoc.meta.subGraph({labels: ["${t.join('","')}]})`,r,e).then(n=>n,n=>{if((n==null?void 0:n.code)===Ob)throw n;return Qe("CALL db.schema.visualization()",r,e)}).then(n=>{let i=n[0].nodes,o=n[0].relationships,f=[];return o.forEach(h=>{let _={start:"",relationship:h.type,end:""};i.forEach(l=>{h.start.compare(l.identity)===0&&(_.start=l.labels[0]),h.end.compare(l.identity)===0&&(_.end=l.labels[0])}),f.push(_)}),f}),"getSchema"),ote=s(async(r,t)=>{try{return t?await ste():await Qe('call dbms.listConfig("active_database")').then(e=>[nl.get(e[0],"value",r)],()=>[r])}catch(e){e.step=e.step||"Error of retrieving database name"}},"getDatabaseName"),ute=s(()=>mr.supportsMultiDb(),"supportsMultiDb"),ste=s(async()=>(await Qe("SHOW DATABASES","system",!0)).filter(({name:t,currentStatus:e})=>t!=="system"&&e==="online").map(({name:t})=>t),"getActiveMultiDbsNames"),ate=s(({label:r,limit:t=100,dbName:e,isMultiDb:n})=>Qe(`MATCH (row:\`${r}\`) RETURN row LIMIT ${t}`,e,n).then(i=>i.map(o=>ya(o.row.properties))),"getNodes"),cte=s(({start:r,relationship:t,end:e,limit:n=100,dbName:i,isMultiDb:o})=>Qe(`MATCH (:\`${r}\`)-[row:\`${t}\`]-(:\`${e}\`) RETURN row LIMIT ${n}`,i,o).then(f=>f.map(h=>ya(h.row.properties))),"getRelationshipData"),fte=s((r,t,e)=>Qe(`MATCH (a:\`${r}\`) RETURN count(a) AS count`,t,e).then(n=>ya(n[0]).count),"getNodesCount"),lte=s((r,t,e,n,i)=>Qe(`MATCH (:\`${r}\`)-[rel:\`${t}\`]-(:\`${e}\`) RETURN count(rel) AS count`,n,i).then(o=>ya(o[0]).count),"getCountRelationshipsData"),hte=s((r,t,e)=>Qe(e==="5.x"?"SHOW INDEXES":"CALL db.indexes()",r,t),"getIndexes"),pte=s((r,t,e)=>Qe(e==="5.x"?"SHOW CONSTRAINTS":"CALL db.constraints()",r,t),"getConstraints"),_te=s(r=>{var e;if((e=r.host)!=null&&e.startsWith("neo4j+s://")&&!["TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SERVER_CLIENT_CERTIFICATES"].includes(r.sslType))return{};let t={encrypted:"ENCRYPTION_ON",trust:r.sslType};switch(r.sslType){case"TRUST_ALL_CERTIFICATES":case"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES":return t;case"TRUST_CUSTOM_CA_SIGNED_CERTIFICATES":return t.trustedCertificates=[r.certAuthority],t;case"TRUST_SERVER_CLIENT_CERTIFICATES":return t.trustedCertificates=[r.certAuthority],t.key=r.clientPrivateKey,t.cert=r.clientCert,t.passphrase=r.passphrase,t;case"Off":default:return{}}},"getSSLConfig"),EP=s(async()=>{var t;let r=await Qe("call dbms.components() yield versions unwind versions as version return version");return(t=nl.head(r))==null?void 0:t.version},"getRawDbVersion"),dte=s(async()=>{try{let r=await EP(),[t,e]=r.split("."),n=t==="4",i=t==="5";return n&&e==="3"?"4.3":n&&e>="4"?"4.4":n?"4.0-4.2":i?"5.x":"3.x"}catch{return"3.x"}},"getDbVersion"),vte=s(()=>mr._connectionProvider.acquireConnection().then(r=>mr._validateConnection(r)),"checkConnection"),bte=s(r=>wP(r)||TP(r)||CP(r)||PP(r)||IP(r)||AP(r),"isTemporalTypeField"),yte=s(r=>{let t=s(e=>({type:"string",childType:"temporal",mode:e}),"getFieldProps");switch(!0){case wP(r):return t("date");case TP(r):return t("datetime");case CP(r):return t("duration");case PP(r):return t("localdatetime");case IP(r):return t("localtime");case AP(r):return t("time")}},"getTemporalFieldSchema"),wP=s(r=>Eo(["year","month","day","toString"],r),"isDate"),TP=s(r=>Eo(["year","month","day","hour","minute","second","nanosecond","timeZoneOffsetSeconds","timeZoneId","toString"],r),"isDateTime"),CP=s(r=>Eo(["months","days","seconds","nanoseconds","toString"],r),"isDuration"),PP=s(r=>Eo(["year","month","day","hour","minute","second","nanosecond","toString"],r),"isLocalDateTime"),IP=s(r=>Eo(["hour","minute","second","nanosecond","toString"],r),"isLocalTime"),AP=s(r=>Eo(["hour","minute","second","nanosecond","timeZoneOffsetSeconds","toString"],r),"isTime"),Eo=s((r,t)=>{let e=Object.keys(t);return e.length===r.length&&nl.intersection(r,e).length===r.length},"isTemporalField"),mte=s(r=>{let t="";return/^neo4j(\+s|s|)(\+ssc|ssc|):\/\//i.test(r.host)?t=r.host:t=`bolt://${r.host}`,r.port&&(t=`${t}:${r.port}`),t},"getConnectionURI");RP.exports={checkConnection:vte,connect:ete,close:tte,getLabels:nte,getRelationshipData:cte,getSchema:ite,getDatabaseName:ote,getNodes:ate,getNodesCount:fte,getCountRelationshipsData:lte,getIndexes:hte,getConstraints:pte,supportsMultiDb:ute,getDbVersion:dte,setTimeOut:Xee,isTemporalTypeField:bte,getTemporalFieldSchema:yte,execute:Qe,getRawDbVersion:EP}});var qP=m((ghe,NP)=>{"use strict";var vi=xP(),gte={async applyToInstance(r,t,e){var n;try{t.log("info",{message:"Applying cypher script has been started"},"Neo4j script"),await vi.connect(r,()=>Promise.resolve(),e);let i=await vi.supportsMultiDb(),o=(n=r.containerData)==null?void 0:n[0],f=(o==null?void 0:o.code)||(o==null?void 0:o.name)||"neo4j",h=r.script.split(";").map(l=>l.split(`
`).filter(O=>{let T=O.trim();return T.length>0&&!T.startsWith("//")&&!T.startsWith(":")}).join(`
`)).filter(l=>l.trim().length>0),_=0;for(let l of h)try{vi.setTimeOut(),await vi.execute(l,f,i),t.progress({message:`Completed queries: ${++_} / ${h.length}`})}catch(v){throw{...v,statement:l,message:v.message}}t.log("info",{message:"Cypher script has been applied successfully!"},"Neo4j script")}catch(i){throw t.log("error",{error:{message:i.message,stack:i.stack},details:{...i,message:i.message}},"Cypher script: query has been executed with error"),{...i,type:"simpleError",message:i.message}}finally{vi.close(e)}},async testConnection(r,t){await vi.connect(r,()=>Promise.resolve(),t),await vi.close(t)}};NP.exports=gte});var bt=Th(),DP=qP();module.exports={generateContainerScript(r,t,e){var h;let{collections:n,relationships:i,jsonData:o}=r,f=(h=r.modelData[0])==null?void 0:h.dbVersion;t.clear();try{n=n.map(JSON.parse),i=i.map(JSON.parse);let _=this.generateCreateBatch(n,i,o,t),l=this.generateConstraints(f,n,i),v=this.getIndexes(f,n,i);e(null,this.getScript(_,l,v,f))}catch(_){t.log("error",{message:_.message,stack:_.stack},"Forward-Engineering Error"),setTimeout(()=>{e({message:_.message,stack:_.stack})},150)}},getScript(r,t,e,n){let i=s(f=>`:begin
`+f+`;
:commit
`,"getTransaction"),o=i(`// cat <path to cypher file> | ./bin/cypher-shell -a <address> -u <user> -p <password>

`+r);return Array.isArray(t)&&t.length&&(o+=i(t.join(`;
`))),Array.isArray(e)&&e.length&&(o+=i(e.join(`;
`))),o},generateCreateBatch(r,t,e,n){let i={},o=r.map(v=>{i[v.collectionName]=v.isActivated;let O="";return e[v.GUID]&&(O=" "+this.prepareData(e[v.GUID],v,v.isActivated,n)),{statement:`(${H(v.collectionName).toLowerCase()}:${H(v.collectionName)}${O})`+",",isActivated:v.isActivated}}),f=this.createMap(r,t).reduce((v,O)=>{if(O.relationship&&O.child){let T=O.parent.collectionName,j=O.child.collectionName,U=O.relationship.name,G="",ge=bt.get(O,"parent.isActivated",!0),B=bt.get(O,"child.isActivated",!0),ue=ge&&B,ce=`(${H(T).toLowerCase()})`,Ae=`(${H(j).toLowerCase()})`;O.relationship&&e[O.relationship.GUID]&&(G=" "+this.prepareData(e[O.relationship.GUID],O.relationship,ue,n));let Be=`[:${H(U)}${G}]`;v.push({statement:`${ce}-${Be}->${Ae},`,isActivated:ue}),O.bidirectional&&v.push({statement:`(${H(j).toLowerCase()})-${Be}->(${H(T).toLowerCase()}),`,isActivated:ue})}return v},o),h=f.filter(v=>v.isActivated).map(v=>v.statement).join(`

`).slice(0,-1),_=f.filter(v=>!v.isActivated).map(v=>v.statement).join(`

`).slice(0,-1),l=`CREATE ${h+(_.length?`

`+this.commentIfDeactivated(_,!1):"")}`;return Object.keys(i).length&&(l+=`
 RETURN ${Object.keys(i).filter(v=>i[v]).map(H).join(",").toLowerCase()}`),l},applyToInstance(r,t,e,n){t.clear(),t.log("info",r,"connectionInfo",r.hiddenKeys);let i=n.require("@hackolade/ssh-service");DP.applyToInstance(r,t,i).then(o=>{e(null,o)}).catch(o=>{e({...o,type:"simpleError"})})},testConnection(r,t,e,n){t.log("info",r,"connectionInfo",r.hiddenKeys);let i=n.require("@hackolade/ssh-service");DP.testConnection(r,i).then(e,o=>{t.log("error",o,"Neo4j test connection error"),e({...o,type:"simpleError"})})},prepareData(r,t,e,n){let i=JSON.parse(r);if(!Object.keys(i).length)return"{}";let o=Object.keys(i).reduce((_,l)=>{if(Object(i[l])===i[l]&&!Array.isArray(i[l])){let v=bt.get(t,`properties.${l}.isActivated`,!0);_.push({statement:`${H(l)}: ${this.getObjectValueBySchema(i[l],jP(t,l))}`,isActivated:e?v:!0})}else if(Array.isArray(i[l])){let v=bt.get(t,`properties.${l}.isActivated`,!0);_.push({statement:`${H(l)}: [ ${this.getArrayValueBySchema(i[l],jP(t,l).items||[]).join(", ")} ]`,isActivated:e?v:!0})}else{let v=bt.get(t,`properties.${l}.isActivated`,!0),O=bt.get(t,["properties",l])||bt.get(t,["patternProperties",l]);O||n.log("error",`Can't resolve field:
`,{field:l}),_.push({statement:`${H(l)}: ${Ote(O,i[l])}`,isActivated:e?v:!0})}return _},[]),f=o.filter(_=>_.isActivated).map(_=>_.statement).join(`,
	`),h=o.filter(_=>!_.isActivated).map(_=>_.statement).join(`,
	`);return`{
	`+f+(h.length?`
`+this.commentIfDeactivated(h,!1)+`
}`:`
}`)},createMap(r,t){let e={},n={},i={};return t.forEach(o=>{e[o.parentCollection]||(e[o.parentCollection]=[]),e[o.parentCollection].push(o),n[o.parentCollection]=!0,n[o.childCollection]=!0}),r.map(o=>(i[o.GUID]=o,o)).reduce((o,f)=>{let h=e[f.GUID]||null;return h?h.forEach(_=>{var v;let l=i[_.childCollection];o.push({parent:f,relationship:_,child:l,bidirectional:((v=_==null?void 0:_.customProperties)==null?void 0:v.biDirectional)&&l.GUID!==f.GUID})}):n[f.GUID]||o.push({parent:f,relationship:null,child:null,bidirectional:!1}),o},[])},toCypherJson(r){return Object(r)===r&&!Array.isArray(r)?"{ "+Object.keys(r).reduce((t,e)=>(t.push(`${H(e)}: ${this.toCypherJson(r[e])}`),t),[]).join(", ")+" }":JSON.stringify(r)},generateConstraints(r,t,e){let n=[],i=t.reduce((f,h)=>(f[h.GUID]=h.isActivated,f),{}),o=this.getExistsConstraint;return LP(r)||(o=this.getExistsConstraint43),t.forEach(f=>{f.constraint&&Array.isArray(f.constraint)&&f.constraint.forEach(h=>{let _=this.getNodeKeyConstraint({collection:f,constraint:h},r);_&&n.push(_)}),Array.isArray(f.required)&&f.required.forEach(h=>{if(h){let _=bt.get(f,`properties.${h}.isActivated`,!0);n.push(this.commentIfDeactivated(o({labelName:f.collectionName,fieldName:h,type:"node"},r),f.isActivated&&_))}}),f.properties&&Object.keys(f.properties).forEach(h=>{if(f.properties[h].unique){let _=bt.get(f,`properties.${h}.isActivated`,!0);n.push(this.commentIfDeactivated(this.getUniqueConstraint({labelName:f.collectionName,fieldName:h},r),f.isActivated&&_))}})}),e.forEach(f=>{let h=i[f.childCollection]&&i[f.parentCollection];Array.isArray(f.required)&&f.required.forEach(_=>{if(_){let l=bt.get(f,`properties.${_}.isActivated`,!0);n.push(this.commentIfDeactivated(o({labelName:f.name,fieldName:_,type:"relationship"},r),l&&h))}})}),n},getNodeKeyConstraint({collection:r,constraint:t},e){let n=[];if(t.compositeNodeKey){n=this.findFields(r,t.compositeNodeKey.map(o=>o.keyId));let i=Sb(e);if(Array.isArray(n)&&n.length){let o=r.collectionName,f=r.collectionName.toLowerCase(),h=MP(e);return this.commentIfDeactivated(`CREATE CONSTRAINT ${t.name?H(t.name):""}${h}${i.FOR} (${H(f)}:${H(o)}) ${i.REQUIRED} (${n.map(_=>`${H(f)}.${H(_.name)}`).join(", ")}) IS NODE KEY`,n.every(_=>_.isActivated))}}},getExistsConstraint({labelName:r,fieldName:t,type:e}){let n=r.toLowerCase();switch(e){case"node":return`CREATE CONSTRAINT ON (${H(n)}:${H(r)}) ASSERT exists(${H(n)}.${H(t)})`;case"relationship":return`CREATE CONSTRAINT ON ()-[${H(n)}:${H(r)}]-() ASSERT exists(${H(n)}.${H(t)})`;default:return null}},getExistsConstraint43({labelName:r,fieldName:t,type:e},n){let i=Sb(n),o=r.toLowerCase();switch(e){case"node":return`CREATE CONSTRAINT IF NOT EXISTS ${i.FOR} (${H(o)}:${H(r)}) ${i.REQUIRED} ${H(o)}.${H(t)} IS NOT NULL`;case"relationship":return`CREATE CONSTRAINT IF NOT EXISTS ${i.FOR} ()-[${H(o)}:${H(r)}]-() ${i.REQUIRED} ${H(o)}.${H(t)} IS NOT NULL`;default:return null}},getUniqueConstraint({labelName:r,fieldName:t},e){let n=Sb(e),i=r.toLowerCase();return`CREATE CONSTRAINT${MP(e)}${n.FOR} (${H(i)}:${H(r)}) ${n.REQUIRED} ${H(i)}.${H(t)} IS UNIQUE`},findFields(r,t){let e=[],n;r.items?Array.isArray(r.items)?n=r.items:n=[r.items]:n=r.properties;for(let i in n){let o=n[i],f=t.indexOf(o.GUID);if(f!==-1&&(e.indexOf(i)===-1&&e.push({name:i,isActivated:o.isActivated}),t.splice(f,1)),(o.properties||o.items)&&this.findFields(o,t).length&&e.indexOf(o.name)===-1&&e.push({name:o.name,isActivated:o.isActivated}),!t.length)return e}return e},getIndexes(r,t,e){let n=[],i=this.getIndex3x.bind(this),o={collections:t};r!=="3.x"&&(i=this.getIndex4x.bind(this),["4.3","4.4","5.x"].includes(r)&&(o.relationships=e));let f=s(h=>h.keyId,"getId");return Object.keys(o).forEach(h=>{o[h].forEach(_=>{_.index&&_.index.forEach(l=>{if(l.key){let v=this.findFields(_,l.key.map(f));if(v.length){let O=i({entity:_,index:l,fields:v,isActivated:l.isActivated!==!1&&_.isActivated!==!1,type:h,dbVersion:r});n.push(O)}}})})}),n},getIndex3x({entity:r,fields:t,isActivated:e}){return this.commentIfDeactivated(`CREATE INDEX ON :${H(r.collectionName)}(${t.map(n=>H(n.name)).join(", ")})`,e&&t.every(n=>n.isActivated))},getIndex4x({entity:r,index:t,fields:e,isActivated:n,type:i,dbVersion:o}){var l;let f=((l=r.name||r.collectionName)==null?void 0:l.toLowerCase())||"entity",h=this.getIndexType(t,o),_=h?` ${h} `:" ";switch(i){case"collections":return this.commentIfDeactivated(`CREATE${_}INDEX ${H(t.name||f)} IF NOT EXISTS FOR (${H(f)}:${H(r.collectionName)}) ON (${H(f)}.${e.map(v=>H(v.name)).join(`, ${H(f)}.`)})`,n&&e.every(v=>v.isActivated));case"relationships":return this.commentIfDeactivated(`CREATE${_}INDEX ${H(t.name||f)} IF NOT EXISTS FOR ()-[${H(f)}:${H(r.name)}]-() ON (${H(f)}.${e.map(v=>H(v.name)).join(`, ${H(f)}.`)})`,n&&e.every(v=>v.isActivated))}return null},getIndexType(r,t){return t==="5.x"&&r.type||""},getObjectValueBySchema(r,t){return t&&t.type==="spatial"&&t.mode==="point"?`point(${this.toCypherJson(this.fixPoint(r))})`:`apoc.convert.toJson(${this.toCypherJson(r)})`},fixPoint(r){if(!(r&&typeof r=="object"&&!Array.isArray(r)))return r;let e=s(i=>isNaN(i)?i:Number(i)>90?90:Number(i)<-90?-90:Number(i),"fix"),n={...r};return n.longitude!==void 0&&(n.longitude=e(n.longitude)),n.latitude!==void 0&&(n.latitude=e(n.latitude)),n},getArrayValueBySchema(r,t){return r.map((e,n)=>Object(e)===e&&!Array.isArray(e)?this.getObjectValueBySchema(e,Array.isArray(t)?t[n]:t):Array.isArray(e)?`[ ${this.getArrayValueBySchema(e,(Array.isArray(t)?t[n]:t).items).join(", ")} ]`:JSON.stringify(e))},commentIfDeactivated(r,t){return!t&&!r.includes(`
`)?`// ${r}`:t?r:r.split(/\n/).reduce((n,i)=>n+`// ${i}
`,"")}};var H=s(r=>`\`${r}\``,"screen"),jP=s((r,t)=>bt.has(r,`properties.${t}`)?r.properties[t]:bt.has(r,`allOf.${t}`)?r.allOf[t]:bt.has(r,`anyOf.${t}`)?r.anyOf[t]:bt.has(r,`oneOf.${t}`)?r.oneOf[t]:{},"getProperty"),MP=s(r=>LP(r)?" ":" IF NOT EXISTS ","getOptionalIdempotentConstraintStatement"),LP=s(r=>["3.x","4.0-4.2"].includes(r),"isDBVersionLessThan4point3"),Ote=s((r,t)=>{let e=JSON.stringify(t);return r&&[r.type,r.childType].includes("temporal")?Ste(r.mode,e):e},"getStatementValue"),Ste=s((r,t)=>{let n=t===JSON.stringify("2014-12-03"),i=JSON.stringify("P1D"),o=JSON.stringify("12:00");switch(r){case"date":return`date(${t})`;case"datetime":return`datetime(${t})`;case"localdatetime":return`localdatetime(${t})`;case"localtime":return`localtime(${n?o:t})`;case"time":return`time(${n?o:t})`;case"duration":return`duration(${n?i:t})`;default:return t}},"getTemporalFieldFunctionStatement"),Sb=s(r=>r==="5.x"?{FOR:"FOR",REQUIRED:"REQUIRE"}:{FOR:"ON",REQUIRED:"ASSERT"},"getConstraintStatementConfig");
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
